<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>数据库概论.陈立军.09.恢复控制(2) | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="恢复控制、故障恢复、检查点、逻辑日志">
<meta property="og:type" content="article">
<meta property="og:title" content="数据库概论.陈立军.09.恢复控制(2)">
<meta property="og:url" content="http://example.com/2021/06/13/DB/CLJ/09-1/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="恢复控制、故障恢复、检查点、逻辑日志">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/2021/06/13/DB/CLJ/09-1/09-1/image-20210613231700809.png">
<meta property="og:image" content="http://example.com/2021/06/13/DB/CLJ/09-1/09-1/image-20210613233141824.png">
<meta property="og:image" content="http://example.com/2021/06/13/DB/CLJ/09-1/09-1/image-20210613233249680.png">
<meta property="og:image" content="http://example.com/2021/06/13/DB/CLJ/09-1/09-1/image-20210613233943188.png">
<meta property="og:image" content="http://example.com/2021/06/13/DB/CLJ/09-1/09-1/image-20210613235856513.png">
<meta property="og:image" content="http://example.com/2021/06/13/DB/CLJ/09-1/09-1/image-20210721151303697.png">
<meta property="og:image" content="http://example.com/09-1/image-20210721151848266.png">
<meta property="og:image" content="http://example.com/09-1/image-20210721153646701.png">
<meta property="og:image" content="http://example.com/09-1/image-20210721153844233.png">
<meta property="og:image" content="http://example.com/09-1/image-20210721154306532.png">
<meta property="og:image" content="http://example.com/09-1/image-20210721154443488.png">
<meta property="article:published_time" content="2021-06-13T14:57:18.000Z">
<meta property="article:modified_time" content="2021-07-21T07:50:30.606Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="DB">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2021/06/13/DB/CLJ/09-1/09-1/image-20210613231700809.png">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-DB/CLJ/09-1" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/06/13/DB/CLJ/09-1/" class="article-date">
  <time class="dt-published" datetime="2021-06-13T14:57:18.000Z" itemprop="datePublished">2021-06-13</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/DB-CLJ/">DB.CLJ</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      数据库概论.陈立军.09.恢复控制(2)
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="恢复控制"><a href="#恢复控制" class="headerlink" title="恢复控制"></a>恢复控制</h1><h2 id="恢复"><a href="#恢复" class="headerlink" title="恢复"></a>恢复</h2><h3 id="事务故障恢复"><a href="#事务故障恢复" class="headerlink" title="事务故障恢复"></a>事务故障恢复</h3><ul>
<li>撤消事务已对数据库所做的修改</li>
</ul>
<h3 id="事务故障恢复过程"><a href="#事务故障恢复过程" class="headerlink" title="事务故障恢复过程"></a>事务故障恢复过程</h3><ul>
<li><strong>反向</strong>扫描日志文件，查找该事务的更新操作</li>
<li>对该事务的更新操作执行 undo 操作，即将事务更新前的<strong>旧值</strong>写入数据库</li>
<li>继续反向扫描日志文件，查找该事务的其他更新操作，并做同样处理</li>
<li>直至读到事务的开始标识，结束事务故障恢复过程</li>
<li><strong>同一事务的日志需要反向链接在一起</strong><ul>
<li>加速事务的撤销操作</li>
</ul>
</li>
<li>正向撤销会出错<ul>
<li>这是显然的，撤销是写的逆过程</li>
</ul>
</li>
</ul>
<img src="09-1/image-20210613231700809.png" style="zoom:67%;" />



<h3 id="山寨版系统故障恢复"><a href="#山寨版系统故障恢复" class="headerlink" title="山寨版系统故障恢复"></a>山寨版系统故障恢复</h3><ul>
<li>不一致状态原因<ul>
<li>未完成事务对数据库的更新已写入数据库<ul>
<li>Steal policy</li>
</ul>
</li>
<li>已提交事务对数据库的更新未写入数据库<ul>
<li>还在 OS Buffer 中</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="系统故障恢复过程"><a href="#系统故障恢复过程" class="headerlink" title="系统故障恢复过程"></a>系统故障恢复过程</h4><ul>
<li>正向扫描日志文件，找出圆满事务，记入重做队列；找出夭折事务，记入撤消队列</li>
<li>反向扫描日志，对撤消队列中事务 Ti 的每一个日志记录执行 undo 操作</li>
<li>正向扫描日志文件，对重做队列中事务 Ti 的每一个日志记录执行 redo 操作</li>
</ul>
<img src="09-1/image-20210613233141824.png" style="zoom:67%;" />



<h5 id="实际数据库"><a href="#实际数据库" class="headerlink" title="实际数据库"></a>实际数据库</h5><ul>
<li>对所有操作（不区分成功还是失败），都进行 redo 操作<ul>
<li>连续操作，磁盘 I&#x2F;O 友好</li>
</ul>
</li>
<li>然后再对夭折事务进行 undo</li>
</ul>
<h3 id="介质故障恢复"><a href="#介质故障恢复" class="headerlink" title="介质故障恢复"></a>介质故障恢复</h3><ul>
<li>磁盘上数据文件和日志文件遭到破坏</li>
</ul>
<h4 id="介质故障恢复过程"><a href="#介质故障恢复过程" class="headerlink" title="介质故障恢复过程"></a>介质故障恢复过程</h4><ul>
<li>装入最新的数据库后备副本，使数据库恢复到最近一次转储时的一致性状态</li>
<li>装入相应的日志文件副本，重做已完成的事务</li>
</ul>
<img src="09-1/image-20210613233249680.png" style="zoom: 67%;" />

<ul>
<li>数据文件和日志文件最好不要放在一个磁盘上</li>
</ul>
<h3 id="检查点-Checkpoint"><a href="#检查点-Checkpoint" class="headerlink" title="检查点(Checkpoint)"></a>检查点(Checkpoint)</h3><ul>
<li>当系统故障发生时，我们必须搜索整个日志，以决定哪些事务需要 redo，哪些需要 undo</li>
<li>大多数需要被重做的事务其更新已经写入了数据库中（$\mathrm{redo}^2$）<ul>
<li>因为我们不知道数据是否已经被写入磁盘（异步写缓冲区）</li>
<li>尽管对它们重做不会造成不良后果，但会使恢复过程变得更长</li>
</ul>
</li>
<li>检查点原理：且行且珍惜<ul>
<li><strong>保证在检查点时刻，日志与数据库的内容是一致的</strong></li>
</ul>
</li>
</ul>
<h4 id="带有检查点记录的日志生成"><a href="#带有检查点记录的日志生成" class="headerlink" title="带有检查点记录的日志生成"></a>带有检查点记录的日志生成</h4><ul>
<li>将当前日志缓冲区的所有日志记录写入稳存中</li>
<li>在日志文件中写入一个检查点记录</li>
<li>将当前数据缓冲区的所有数据记录写入稳存中</li>
<li>输出检查点时活跃事务的列表 L</li>
</ul>
<img src="09-1/image-20210613233943188.png" style="zoom: 67%;" />

<ul>
<li>我们对检查点之前就已经提交的事务，不需要做 redo 处理</li>
<li>只需要对检查点时刻还在活跃的事务、检查点之后出现的事务进行 redo 处理</li>
<li>最小日志序列号<ul>
<li>生成检查点时刻的还在活跃的最小日志记录的序列号</li>
</ul>
</li>
<li>长事务再数据库中危害很大<ul>
<li>并发</li>
<li>长事务不释放，检查点做的恢复工作不会少<ul>
<li>最小序列号之后、但是在检查点之前已经提交的事务需要重做吗？</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="SQL-Server：最小恢复LSN"><a href="#SQL-Server：最小恢复LSN" class="headerlink" title="SQL Server：最小恢复LSN"></a>SQL Server：最小恢复LSN</h4><ul>
<li>MinLSN 是下面这些 LSN 中的最小 LSN：<ul>
<li>检查点起点的 LSN</li>
<li>最旧的活动事务起点的 LSN</li>
</ul>
</li>
</ul>
<h4 id="SQL-Server：生成检查点"><a href="#SQL-Server：生成检查点" class="headerlink" title="SQL Server：生成检查点"></a>SQL Server：生成检查点</h4><ol>
<li>将标记检查点起点的记录写入日志文件</li>
<li>将为检查点记录的信息存储在检查点日志记录链内，将这条链起点的 LSN 写入数据库根页</li>
<li>将最小恢复 LSN(MinLSN) 保存在检查点记录中</li>
<li>将所有未完成的活动事务列表保存在检查点记录中</li>
<li>如果数据库使用的是简单恢复模式，则删除新的 MinLSN 之前的所有日志记录</li>
<li>将所有脏日志和数据页写入磁盘</li>
<li>将标记检查点末端的记录写入日志文件</li>
</ol>
<h5 id="恢复过程"><a href="#恢复过程" class="headerlink" title="恢复过程"></a>恢复过程</h5><ul>
<li>检查点线程遍历缓冲区池，按照缓冲区编号顺序扫描页面，当它发现脏页时，它将查看与该页面<strong>物理(磁盘上)连续的其他页面</strong>是否也是脏的，这样它可以进行大块写操作<ul>
<li>顺序写性能远高于随机写</li>
</ul>
</li>
<li>如果它看到页面5是脏的时，它可能会写入页面10、25、380、500等，这些页面在磁盘上是连续的。这样，缓冲区中非连续的页面可以被一次聚集写入（<strong>gather-write</strong>）磁盘</li>
<li>以后检查点会到达页面 500，为避免将该页面重复写入磁盘，检查点算法会为每个页面设置标志位，开始时所有的位都相同(都为0或1)。当检查点检查到某个页面时，它将其标志位翻转。如果检查点碰到具有相反位的页面，它就跳过该页面</li>
<li><strong>对于在检查点期间新近引入的页面，或者已经被检查点输出到磁盘但又重新变脏的页面，都不会被该次检查点操作写入</strong></li>
</ul>
<h5 id="recovery-interval"><a href="#recovery-interval" class="headerlink" title="recovery interval"></a>recovery interval</h5><ul>
<li>recovery interval 选项设置 SQL Server 恢复数据库所需的最大分钟数</li>
<li>据此 SQL Server 将估计在恢复时间间隔期间可以处理多少更新的数据，从而决定在每一个数据库中 SQL Server 何时生成一次检查点</li>
<li>SQL Server 根据 10MB 的日志可以在 1 分钟内得到恢复这样一个估计来确定它的恢复间隔</li>
<li>当最近一个检查点之后数据更新操作达到了 SQL Server 认为可以在恢复时间间隔更新的数量时，它将进行一个检查点操作</li>
</ul>
<h4 id="MySQL-检查点执行时机"><a href="#MySQL-检查点执行时机" class="headerlink" title="MySQL 检查点执行时机"></a>MySQL 检查点执行时机</h4><ul>
<li>Master Thread Checkpoint<ul>
<li>每秒或每10秒刷出一定比例的脏页</li>
</ul>
</li>
<li>FLUSH_LRU_LIST Checkpoint<ul>
<li>LRU 列表中空闲页不够时淘汰的页面中有脏页</li>
</ul>
</li>
<li>Dirty Page too much Checkpoint<ul>
<li>innodb_max_dirty_pages_pct</li>
</ul>
</li>
<li>Async&#x2F;Sync Flush Checkpoint<ul>
<li>redo_lsn–checkpoing_lsn 超过日志文件大小75%</li>
</ul>
</li>
</ul>
<h2 id="杂项"><a href="#杂项" class="headerlink" title="杂项"></a>杂项</h2><h3 id="MySQL-日志文件"><a href="#MySQL-日志文件" class="headerlink" title="MySQL 日志文件"></a>MySQL 日志文件</h3><ul>
<li>重做日志（redolog）</li>
<li>回滚日志（undolog）</li>
<li>二进制日志（binlog）</li>
<li>错误日志（errorlog）</li>
<li>慢查询日志（slowquerylog）</li>
<li>一般查询日志（generallog）</li>
<li>中继日志（relaylog）</li>
</ul>
<h3 id="事务日志物理构架"><a href="#事务日志物理构架" class="headerlink" title="事务日志物理构架"></a>事务日志物理构架</h3><ul>
<li>循环使用<ul>
<li>生成检查点的时候，可以释放之前的一些无用日志块</li>
</ul>
</li>
</ul>
<img src="09-1/image-20210613235856513.png" style="zoom:67%;" />



<h3 id="逻辑-Undo-日志"><a href="#逻辑-Undo-日志" class="headerlink" title="逻辑 Undo 日志"></a>逻辑 Undo 日志</h3><ul>
<li><strong>针对索引页</strong></li>
<li>一般恢复技术要求一旦事务更新了一个数据项，其它事务都不能更新该数据项，直至第一个事务提交或回滚</li>
<li>严格两阶段封锁协议实施到某些特殊结构如 B+ 树索引页时，并发性极度下降。为提高并发性，可以使锁较早释放<ul>
<li>提早释放会导致问题</li>
<li>如果是物理日志<ul>
<li>A 事务写页 a，B 事务也写页 a，此时 A 事务出错，回滚，页 a 回滚（页面为单位），此时把事务 B 修改的部分给覆盖了</li>
</ul>
</li>
<li>逻辑日志则没有这个问题</li>
<li>插入操作必须通过一个逻辑 undo 来完成，即通过执行一次删除操作撤消</li>
</ul>
</li>
<li><strong>闩锁，自旋锁</strong></li>
<li>如果事务 T 向 B+ 树插入了一项，在插入操作结束后但在事务提交前释放了某些锁，那么在锁释放后，其它事务可执行插入或删除操作，于是造成对 B+ 树结点的进一步改变</li>
<li>如果使用物理 undo 执行事务回滚，即事务回滚时我们将 B+ 树内部结点(执行插入操作前)的旧值写回，那么其它事务在其后执行的插入或删除操作所做的某些更新可能会丢失</li>
</ul>
<h3 id="其他恢复技术"><a href="#其他恢复技术" class="headerlink" title="其他恢复技术"></a>其他恢复技术</h3><h4 id="提交日志（Commit-Logging）"><a href="#提交日志（Commit-Logging）" class="headerlink" title="提交日志（Commit Logging）"></a>提交日志（Commit Logging）</h4><ul>
<li>特点<ul>
<li><strong>只有 redo 记录，没有 undo 记录</strong></li>
<li><strong>脏数据不会持久化</strong></li>
<li><strong>提交时将事务日志都刷写到磁盘</strong></li>
</ul>
</li>
<li>如果日志只写到一半时出现系统故障，事务修改也会随之消失。当数据库系统重新恢复时，会发现日志中事务没有完成标记，就好像完全没有发生过一样</li>
<li>OceanBase、Hekaton（SQL Server 内存存储引擎）</li>
<li>如果在系统故障后，重启的时候发现有一条事务没有 commit 标记，怎么办？<ul>
<li>不需要做任何操作，是一条失败的操作记录（日志不完整而且脏数据没写回磁盘）</li>
<li>只需要重做已经成功的日志</li>
</ul>
</li>
</ul>
<h4 id="Shadow-Paging"><a href="#Shadow-Paging" class="headerlink" title="Shadow Paging"></a>Shadow Paging</h4><ul>
<li><strong>影子页</strong>，没有日志的概念</li>
<li>在事务操作过程中，被修改的数据会同时存在两份，一份<strong>修改前</strong>的数据，一份是<strong>修改后</strong>的数据，这就是影子（Shadow）这个名字的由来</li>
<li>持久性保证：事务的修改直接持久化在硬盘上</li>
<li>如果在事务提交前出现系统故障，数据库恢复时见不到未完成事务的修改，硬盘上的这个事务曾经修改的数据也会由垃圾回收模块回收</li>
<li>SQLite</li>
</ul>
<h5 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h5><ul>
<li>A 向 B 转账 100</li>
</ul>
<img src="09-1/image-20210721151303697.png" style="zoom: 50%;" />

<ul>
<li>当事务提交时，以一次原子的数据写入让整个事务新的修改生效</li>
<li>A 和 B 的余额都是直接写入新的位置，保证原先的数据没有改动</li>
<li>系统通过两个目录结构分别指向修改前的数据和修改后的数据，最后 Current 指针原子切换到新的目录上，表示事务提交成功</li>
</ul>
<h3 id="镜像数据库"><a href="#镜像数据库" class="headerlink" title="镜像数据库"></a>镜像数据库</h3><ul>
<li><strong>主体服务器</strong><ul>
<li>存放数据库</li>
<li>执行事务</li>
<li>推送更新（内容数据同步）</li>
</ul>
</li>
<li><strong>镜像服务器</strong><ul>
<li>存放数据库副本</li>
<li>接受更新</li>
<li>替补篡位（主题服务器宕机）</li>
</ul>
</li>
<li><strong>见证服务器</strong><ul>
<li>自动故障转移</li>
<li>判断主体服务器不可用</li>
</ul>
</li>
<li>实际部署的问题（为什么需要见证服务器）<ul>
<li>怎么判断主体服务器是否还在工作：heartbeat<ul>
<li>如果是由网络故障导致接收不到 heartbeat，镜像服务器不能贸然替补篡位</li>
<li>这个由见证服务器判断</li>
</ul>
</li>
<li>通常使用投票来决定谁是主题服务器</li>
</ul>
</li>
<li>split-brain quorum</li>
</ul>
<h3 id="复制"><a href="#复制" class="headerlink" title="复制"></a>复制</h3><ul>
<li>实现系统的安全性，抗故障能力</li>
</ul>
<p><img src="/09-1/image-20210721151848266.png"></p>
<ul>
<li>读写分离、伸缩性、安全性</li>
<li>提高访问的本地性（可以在比较近的服务器上读取数据）</li>
<li>增加系统可靠性（一个结点失效，其他结点还是可用的）</li>
</ul>
<h4 id="数据复制的更新传播策略"><a href="#数据复制的更新传播策略" class="headerlink" title="数据复制的更新传播策略"></a>数据复制的更新传播策略</h4><ul>
<li><strong>紧密复制</strong>：将所有结点上的副本更新作为一个原子事务的一部分，所有结点上的副本严格同步<ul>
<li>更新代价大</li>
</ul>
</li>
<li><strong>松散复制</strong>：更新事务提交之后，异步的将更新传向其他结点<ul>
<li>各个结点之间会有短暂的不一致</li>
</ul>
</li>
</ul>
<h4 id="数据复制的更新控制策略"><a href="#数据复制的更新控制策略" class="headerlink" title="数据复制的更新控制策略"></a>数据复制的更新控制策略</h4><ul>
<li><strong>主方式</strong>（master）<ul>
<li>每一对象都有一起主结点，只有主结点能够更新对象的主拷贝，其他副本是只读的。其他与更新该对象的结点请求主结点完成更新，由主结点将更新传向其他结点。</li>
</ul>
</li>
<li><strong>群方式</strong>（group）<ul>
<li>任何拥有某数据项拷贝的结点都可以更新该拷贝，称之为随处更新（update everywhere）并将更新操作广播到其他结点</li>
<li>需要设计冲突协调策略？怎么解决冲突？<ul>
<li>人为设计：时间靠后、值较大 ······</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="数据复制的更新策略"><a href="#数据复制的更新策略" class="headerlink" title="数据复制的更新策略"></a>数据复制的更新策略</h4><p><img src="/09-1/image-20210721153646701.png"></p>
<ul>
<li>松散 + 群：数据一致性很差，数据库场景中实际应用较少</li>
<li>SQL Server 4 种都支持</li>
</ul>
<h4 id="MySQL-复制类型"><a href="#MySQL-复制类型" class="headerlink" title="MySQL 复制类型"></a>MySQL 复制类型</h4><ul>
<li>没有群方式，只有主从<ul>
<li>所有的更新都发生在主结点，再由主结点将更新推送给其他结点</li>
</ul>
</li>
<li><strong>主从 + 同步&#x2F;异步</strong></li>
</ul>
<h5 id="同步复制"><a href="#同步复制" class="headerlink" title="同步复制"></a>同步复制</h5><ul>
<li>只有所有的 slaver 更新完成之后，整个事务才完成</li>
</ul>
<p><img src="/09-1/image-20210721153844233.png"></p>
<ul>
<li>主结点发送一个 binlog 到其他的从结点，slaver 结点再现这个 log ，然后发送 ACK 回主结点</li>
</ul>
<h5 id="异步复制"><a href="#异步复制" class="headerlink" title="异步复制"></a>异步复制</h5><ul>
<li>主结点不会等待从节点更新完成</li>
</ul>
<p><img src="/09-1/image-20210721154306532.png"></p>
<ul>
<li>问题<ul>
<li>主结点更新完就挂了，此时数据丢失，无法恢复</li>
</ul>
</li>
</ul>
<h5 id="半同步复制"><a href="#半同步复制" class="headerlink" title="半同步复制"></a>半同步复制</h5><ul>
<li>主结点等待某一个从结点更新结束之再进行接下来的操作</li>
</ul>
<p><img src="/09-1/image-20210721154443488.png"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/06/13/DB/CLJ/09-1/" data-id="cl9lj74b000gd64tz6ffxfa1d" data-title="数据库概论.陈立军.09.恢复控制(2)" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DB/" rel="tag">DB</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2021/06/16/Code/code/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          代码练习
        
      </div>
    </a>
  
  
    <a href="/2021/06/13/CG/YLQ-GAMES202/14/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">GAMES202.闫令琪.14.工业界算法实现</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/0/">0</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Algebra/">Algebra</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/C-Kits/">C++.Kits</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CG/">CG</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CG-Algorithm/">CG.Algorithm</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CG-GAMES101/">CG.GAMES101</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CG-GAMES102/">CG.GAMES102</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CG-GAMES103/">CG.GAMES103</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CG-GAMES104/">CG.GAMES104</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CG-GAMES202/">CG.GAMES202</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CG-GAMES203/">CG.GAMES203</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CG-Kits/">CG.Kits</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CG-LS/">CG.LS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CG-PBRT/">CG.PBRT</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CG-Paper/">CG.Paper</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CV/">CV</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Code/">Code</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/DB-CLJ/">DB.CLJ</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/DB-MySQL/">DB.MySQL</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/DB-SQLServer/">DB.SQLServer</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/DSA/">DSA</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kits/">Kits</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Math/">Math</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/OS-CXQ/">OS.CXQ</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/OS-OSTEP/">OS.OSTEP</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/OS-xv6-labs/">OS.xv6-labs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/OS-xv6-source-code/">OS.xv6-source-code</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/TODO/">TODO</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/book-directory/">book.directory</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/computation-pyr/">computation.pyr</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/csharp-kits/">csharp.kits</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/csharp-tds/">csharp.tds</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/images/">images</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/installation/">installation</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/mitsuba/">mitsuba</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/nothing/">nothing</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/software-Maya/">software.Maya</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/software-ps/">software.ps</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/software-vscode/">software.vscode</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/win/">win</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Algebra/" rel="tag">Algebra</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BFS/" rel="tag">BFS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BST/" rel="tag">BST</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BVH/" rel="tag">BVH</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/" rel="tag">C++</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CG/" rel="tag">CG</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CG-Algorithm/" rel="tag">CG-Algorithm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CV/" rel="tag">CV</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Code/" rel="tag">Code</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DB/" rel="tag">DB</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DFS/" rel="tag">DFS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DP/" rel="tag">DP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DSA/" rel="tag">DSA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Dijkstra/" rel="tag">Dijkstra</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/EG/" rel="tag">EG</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Floyd/" rel="tag">Floyd</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GI/" rel="tag">GI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Glints/" rel="tag">Glints</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HDR/" rel="tag">HDR</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HQX/" rel="tag">HQX</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Heap/" rel="tag">Heap</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kits/" rel="tag">Kits</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LCA/" rel="tag">LCA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LLG/" rel="tag">LLG</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MCMC/" rel="tag">MCMC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MIS/" rel="tag">MIS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MLT/" rel="tag">MLT</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Maya/" rel="tag">Maya</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NEE/" rel="tag">NEE</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OS/" rel="tag">OS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PBRT/" rel="tag">PBRT</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Paper/" rel="tag">Paper</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Radiometry/" rel="tag">Radiometry</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RayTracing/" rel="tag">RayTracing</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SAH/" rel="tag">SAH</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SDF/" rel="tag">SDF</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SGJ/" rel="tag">SGJ</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SQL/" rel="tag">SQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SQLServer/" rel="tag">SQLServer</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/STL/" rel="tag">STL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Shadow/" rel="tag">Shadow</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WHM/" rel="tag">WHM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WX/" rel="tag">WX</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/YLQ/" rel="tag">YLQ</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/book/" rel="tag">book</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/computation/" rel="tag">computation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/csharp/" rel="tag">csharp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/images/" rel="tag">images</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/installation/" rel="tag">installation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/" rel="tag">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/" rel="tag">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/math/" rel="tag">math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mitsuba/" rel="tag">mitsuba</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mobaxterm/" rel="tag">mobaxterm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nothing/" rel="tag">nothing</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/obs/" rel="tag">obs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/occlusion/" rel="tag">occlusion</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ps/" rel="tag">ps</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/software/" rel="tag">software</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/test/" rel="tag">test</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tree/" rel="tag">tree</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vscode/" rel="tag">vscode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/win/" rel="tag">win</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/xv6/" rel="tag">xv6</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%8C%E5%88%86/" rel="tag">二分</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%85%83%E5%AE%87%E5%AE%99/" rel="tag">元宇宙</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%87%A0%E4%BD%95/" rel="tag">几何</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8F%AF%E8%A7%81%E6%80%A7/" rel="tag">可见性</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B9%B6%E6%9F%A5%E9%9B%86/" rel="tag">并查集</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8B%93%E6%89%91%E6%8E%92%E5%BA%8F/" rel="tag">拓扑排序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8E%92%E5%BA%8F/" rel="tag">排序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%99%AE%E5%90%95%E5%85%8B%E5%9D%90%E6%A0%87/" rel="tag">普吕克坐标</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/" rel="tag">最小生成树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9C%80%E7%9F%AD%E8%B7%AF/" rel="tag">最短路</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BA%BF%E6%AE%B5%E6%A0%91/" rel="tag">线段树</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Algebra/" style="font-size: 10px;">Algebra</a> <a href="/tags/BFS/" style="font-size: 10px;">BFS</a> <a href="/tags/BST/" style="font-size: 10px;">BST</a> <a href="/tags/BVH/" style="font-size: 12.5px;">BVH</a> <a href="/tags/C/" style="font-size: 10px;">C++</a> <a href="/tags/CG/" style="font-size: 20px;">CG</a> <a href="/tags/CG-Algorithm/" style="font-size: 10px;">CG-Algorithm</a> <a href="/tags/CV/" style="font-size: 10.63px;">CV</a> <a href="/tags/Code/" style="font-size: 14.38px;">Code</a> <a href="/tags/DB/" style="font-size: 19.38px;">DB</a> <a href="/tags/DFS/" style="font-size: 12.5px;">DFS</a> <a href="/tags/DP/" style="font-size: 13.13px;">DP</a> <a href="/tags/DSA/" style="font-size: 11.25px;">DSA</a> <a href="/tags/Dijkstra/" style="font-size: 10px;">Dijkstra</a> <a href="/tags/EG/" style="font-size: 12.5px;">EG</a> <a href="/tags/Floyd/" style="font-size: 10.63px;">Floyd</a> <a href="/tags/GI/" style="font-size: 11.25px;">GI</a> <a href="/tags/Glints/" style="font-size: 10px;">Glints</a> <a href="/tags/HDR/" style="font-size: 10px;">HDR</a> <a href="/tags/HQX/" style="font-size: 10px;">HQX</a> <a href="/tags/Heap/" style="font-size: 10px;">Heap</a> <a href="/tags/Kits/" style="font-size: 13.75px;">Kits</a> <a href="/tags/LCA/" style="font-size: 10px;">LCA</a> <a href="/tags/LLG/" style="font-size: 12.5px;">LLG</a> <a href="/tags/MCMC/" style="font-size: 10.63px;">MCMC</a> <a href="/tags/MIS/" style="font-size: 10px;">MIS</a> <a href="/tags/MLT/" style="font-size: 10px;">MLT</a> <a href="/tags/Maya/" style="font-size: 10px;">Maya</a> <a href="/tags/MySQL/" style="font-size: 11.88px;">MySQL</a> <a href="/tags/NEE/" style="font-size: 10px;">NEE</a> <a href="/tags/OS/" style="font-size: 17.5px;">OS</a> <a href="/tags/PBRT/" style="font-size: 10px;">PBRT</a> <a href="/tags/Paper/" style="font-size: 15.63px;">Paper</a> <a href="/tags/Radiometry/" style="font-size: 10px;">Radiometry</a> <a href="/tags/RayTracing/" style="font-size: 10px;">RayTracing</a> <a href="/tags/SAH/" style="font-size: 10px;">SAH</a> <a href="/tags/SDF/" style="font-size: 10px;">SDF</a> <a href="/tags/SGJ/" style="font-size: 10.63px;">SGJ</a> <a href="/tags/SQL/" style="font-size: 13.13px;">SQL</a> <a href="/tags/SQLServer/" style="font-size: 10.63px;">SQLServer</a> <a href="/tags/STL/" style="font-size: 11.25px;">STL</a> <a href="/tags/Shadow/" style="font-size: 10px;">Shadow</a> <a href="/tags/WHM/" style="font-size: 16.88px;">WHM</a> <a href="/tags/WX/" style="font-size: 11.88px;">WX</a> <a href="/tags/YLQ/" style="font-size: 18.13px;">YLQ</a> <a href="/tags/book/" style="font-size: 10.63px;">book</a> <a href="/tags/computation/" style="font-size: 18.75px;">computation</a> <a href="/tags/csharp/" style="font-size: 16.25px;">csharp</a> <a href="/tags/images/" style="font-size: 10px;">images</a> <a href="/tags/installation/" style="font-size: 11.88px;">installation</a> <a href="/tags/js/" style="font-size: 10px;">js</a> <a href="/tags/linux/" style="font-size: 11.25px;">linux</a> <a href="/tags/math/" style="font-size: 10px;">math</a> <a href="/tags/mitsuba/" style="font-size: 11.88px;">mitsuba</a> <a href="/tags/mobaxterm/" style="font-size: 10px;">mobaxterm</a> <a href="/tags/nothing/" style="font-size: 10.63px;">nothing</a> <a href="/tags/obs/" style="font-size: 10px;">obs</a> <a href="/tags/occlusion/" style="font-size: 15px;">occlusion</a> <a href="/tags/ps/" style="font-size: 10px;">ps</a> <a href="/tags/software/" style="font-size: 10px;">software</a> <a href="/tags/test/" style="font-size: 10px;">test</a> <a href="/tags/tree/" style="font-size: 11.25px;">tree</a> <a href="/tags/vscode/" style="font-size: 10.63px;">vscode</a> <a href="/tags/win/" style="font-size: 10.63px;">win</a> <a href="/tags/xv6/" style="font-size: 16.25px;">xv6</a> <a href="/tags/%E4%BA%8C%E5%88%86/" style="font-size: 10.63px;">二分</a> <a href="/tags/%E5%85%83%E5%AE%87%E5%AE%99/" style="font-size: 10.63px;">元宇宙</a> <a href="/tags/%E5%87%A0%E4%BD%95/" style="font-size: 10px;">几何</a> <a href="/tags/%E5%8F%AF%E8%A7%81%E6%80%A7/" style="font-size: 11.88px;">可见性</a> <a href="/tags/%E5%B9%B6%E6%9F%A5%E9%9B%86/" style="font-size: 10.63px;">并查集</a> <a href="/tags/%E6%8B%93%E6%89%91%E6%8E%92%E5%BA%8F/" style="font-size: 10px;">拓扑排序</a> <a href="/tags/%E6%8E%92%E5%BA%8F/" style="font-size: 10px;">排序</a> <a href="/tags/%E6%99%AE%E5%90%95%E5%85%8B%E5%9D%90%E6%A0%87/" style="font-size: 10px;">普吕克坐标</a> <a href="/tags/%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/" style="font-size: 10px;">最小生成树</a> <a href="/tags/%E6%9C%80%E7%9F%AD%E8%B7%AF/" style="font-size: 13.13px;">最短路</a> <a href="/tags/%E7%BA%BF%E6%AE%B5%E6%A0%91/" style="font-size: 10px;">线段树</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">October 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/10/23/CG/WHM-GAMES103/11/">GAMES103.王华民.11.Incompressible Fluid Dynamics and Eulerian Fluids</a>
          </li>
        
          <li>
            <a href="/2022/10/23/CG/Papers/2021/bvh-survey-3/">(论文)[2021] A Survey on Bounding Volume Hierarchies for Ray Tracing(4)</a>
          </li>
        
          <li>
            <a href="/2022/04/28/CG/Kits/MIS-NEE/">NEE、MIS(多重重要性采样)</a>
          </li>
        
          <li>
            <a href="/2022/04/18/CG/WHM-GAMES103/10/">GAMES103.王华民.10.Surface Waves</a>
          </li>
        
          <li>
            <a href="/2022/04/17/CG/WHM-GAMES103/09-1/">GAMES103.王华民.09.Collision Handling(1)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2022 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>