<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.jpg">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.jpg">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.jpg">
  <link rel="mask-icon" href="/images/apple-touch-icon-next.jpg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha256-AbA177XfpSnFEvgpYu1jMygiLabzPCJCRIBtR5jGc0k=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.13.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="SMS，当两个 vertex 之间存在多条 specular 路径时，能够有效求解，只能求解短路径">
<meta property="og:type" content="article">
<meta property="og:title" content="(论文)[2020-SIG] Specular Manifold Sampling for Rendering High-Frequency Caustics and Glints">
<meta property="og:url" content="http://example.com/2021/06/26/CG/Papers/2020/Glints/index.html">
<meta property="og:site_name" content="Banbao">
<meta property="og:description" content="SMS，当两个 vertex 之间存在多条 specular 路径时，能够有效求解，只能求解短路径">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/2021/06/26/CG/Papers/2020/Glints/image-20210701170858478.png">
<meta property="og:image" content="http://example.com/2021/06/26/CG/Papers/2020/Glints/image-20210704003429567.png">
<meta property="og:image" content="http://example.com/2021/06/26/CG/Papers/2020/Glints/image-20210704154651129.png">
<meta property="og:image" content="http://example.com/2021/06/26/CG/Papers/2020/Glints/image-20210705135529611.png">
<meta property="og:image" content="http://example.com/2021/06/26/CG/Papers/2020/Glints/image-20210704162403713.png">
<meta property="og:image" content="http://example.com/2021/06/26/CG/Papers/2020/Glints/image-20210704171907849.png">
<meta property="og:image" content="http://example.com/2021/06/26/CG/Papers/2020/Glints/image-20210705134445300.png">
<meta property="og:image" content="http://example.com/2021/06/26/CG/Papers/2020/Glints/image-20230727142036028.png">
<meta property="og:image" content="http://example.com/2021/06/26/CG/Papers/2020/Glints/image-20210705202223912.png">
<meta property="og:image" content="http://example.com/2021/06/26/CG/Papers/2020/Glints/image-20210705204937896.png">
<meta property="og:image" content="http://example.com/2021/06/26/CG/Papers/2020/Glints/image-20210705205329933.png">
<meta property="og:image" content="http://example.com/2021/06/26/CG/Papers/2020/Glints/image-20210706132923125.png">
<meta property="og:image" content="http://example.com/2021/06/26/CG/Papers/2020/Glints/image-20210706141100580.png">
<meta property="article:published_time" content="2021-06-26T03:32:59.000Z">
<meta property="article:modified_time" content="2023-08-14T02:24:27.092Z">
<meta property="article:author" content="banbao(990)">
<meta property="article:tag" content="CG">
<meta property="article:tag" content="Paper">
<meta property="article:tag" content="Glints">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2021/06/26/CG/Papers/2020/Glints/image-20210701170858478.png">


<link rel="canonical" href="http://example.com/2021/06/26/CG/Papers/2020/Glints/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"http://example.com/2021/06/26/CG/Papers/2020/Glints/","path":"2021/06/26/CG/Papers/2020/Glints/","title":"(论文)[2020-SIG] Specular Manifold Sampling for Rendering High-Frequency Caustics and Glints"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>(论文)[2020-SIG] Specular Manifold Sampling for Rendering High-Frequency Caustics and Glints | Banbao</title>
  






  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Banbao</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-categories(2)"><a href="/kits/paper-lists/" rel="section"><i class="fa fa-print fa-fw"></i>Categories(2)</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-more-notes"><a href="https://github.com/banbao990/Use/" rel="noopener" target="_blank"><i class="fa fa-book fa-fw"></i>More notes</a></li><li class="menu-item menu-item-use"><a href="/use/" rel="section"><i class="fa fa-gamepad fa-fw"></i>Use</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#specular-manifold-sampling-for-rendering-high-frequency-caustics-and-glints"><span class="nav-text">Specular
Manifold Sampling for Rendering High-Frequency Caustics and Glints</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#introduction"><span class="nav-text">1 INTRODUCTION</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#prior-work"><span class="nav-text">2 PRIOR WORK</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#background"><span class="nav-text">3 BACKGROUND</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#manifold-next-event-estimationmnee"><span class="nav-text">3.1 Manifold next-event
estimation(MNEE)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#method"><span class="nav-text">4 METHOD</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#finding-all-solutions"><span class="nav-text">4.1 Finding all solutions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#unbiased-sms"><span class="nav-text">4.2 Unbiased SMS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#biased-sms"><span class="nav-text">4.3 Biased SMS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#improved-specular-manifold-constraints"><span class="nav-text">4.4 Improved specular
manifold constraints</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#two-stage-manifold-walks"><span class="nav-text">4.5 Two-stage manifold walks</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#glints"><span class="nav-text">4.6 Glints</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#integration-into-rendering-algorithms"><span class="nav-text">4.7 Integration into
rendering algorithms</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#results"><span class="nav-text">5 RESULTS</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#conclusion"><span class="nav-text">6 CONCLUSION</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="banbao(990)"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">banbao(990)</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">332</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">45</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">103</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/banbao990" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;banbao990" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:2369896555@qq.com" title="E-Mail → mailto:2369896555@qq.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i></a>
      </span>
  </div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/banbao990" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/06/26/CG/Papers/2020/Glints/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="banbao(990)">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Banbao">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="(论文)[2020-SIG] Specular Manifold Sampling for Rendering High-Frequency Caustics and Glints | Banbao">
      <meta itemprop="description" content="SMS，当两个 vertex 之间存在多条 specular 路径时，能够有效求解，只能求解短路径">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          (论文)[2020-SIG] Specular Manifold Sampling for Rendering High-Frequency Caustics and Glints
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2021-06-26 11:32:59" itemprop="dateCreated datePublished" datetime="2021-06-26T11:32:59+08:00">2021-06-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-08-14 10:24:27" itemprop="dateModified" datetime="2023-08-14T10:24:27+08:00">2023-08-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/CG-Paper/" itemprop="url" rel="index"><span itemprop="name">CG.Paper</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">Views: </span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
</div>

            <div class="post-description">SMS，当两个 vertex 之间存在多条 specular 路径时，能够有效求解，只能求解短路径</div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h1 id="specular-manifold-sampling-for-rendering-high-frequency-caustics-and-glints">Specular
Manifold Sampling for Rendering High-Frequency Caustics and Glints</h1>
<ul>
<li>Tizian Zeltner, Iliyan Georgiev, and Wenzel Jakob. 2020. Specular
Manifold Sampling for Rendering High-Frequency Caustics and Glints. ACM
Trans. Graph. 39, 4, Article 149 (July 2020), 15 pages. <a target="_blank" rel="noopener" href="https://doi.org/10.1145/3386569.3392408">https://doi.org/10.1145/3386569.3392408</a></li>
<li>效果图
<ul>
<li>ordinary unidirectional path tracer</li>
<li>我们新提出的 specular manifold sampling 策略</li>
</ul></li>
</ul>
<p><img src="/2021/06/26/CG/Papers/2020/Glints/image-20210701170858478.png"></p>
<ul>
<li>our method supports
<ul>
<li>high-frequency <strong>normal- or displacement-mapped
geometry</strong>,</li>
<li>samples specular-diffuse-specular (“<strong>SDS</strong>”)
paths,</li>
<li>and is compatible with standard <strong>Monte Carlo methods</strong>
including unidirectional path tracing</li>
</ul></li>
<li>Both <strong>unbiased</strong> and <strong>biased</strong> variants
of our approach can be constructed</li>
</ul>
<h2 id="introduction">1 INTRODUCTION</h2>
<ul>
<li>specular path
<ul>
<li><strong>difficult to find</strong></li>
</ul></li>
<li>论文的方法
<ul>
<li><strong>glints</strong> and <strong>SDS</strong> paths—in an
<strong>unbiased</strong> manner</li>
</ul></li>
<li>论文的贡献
<ul>
<li><ol type="1">
<li>A <strong>unified</strong> manifold sampling strategy for rendering
<strong>reflective and refractive caustics.</strong>**</li>
</ol></li>
<li><ol start="2" type="1">
<li>A specialized variant for rendering glints, which reduces memory
usage hundred-fold compared to prior work.</li>
</ol></li>
<li><ol start="3" type="1">
<li>A biased variant of the method with reduced variance.</li>
</ol></li>
<li><ol start="4" type="1">
<li>A <strong>two-pass</strong> sampling strategy for normal-mapped
surfaces.</li>
</ol></li>
<li><ol start="5" type="1">
<li>Changes to the specular manifold constraints of Jakob and Marschner
[2012] that <strong>improve robustness and convergence.</strong></li>
</ol></li>
</ul></li>
<li>问题
<ul>
<li>variance increases significantly for longer specular chains, hence
our experiments mainly focus on <strong>short chains with 1 or 2
vertices.</strong></li>
</ul></li>
</ul>
<h2 id="prior-work">2 PRIOR WORK</h2>
<ul>
<li>path tracing</li>
<li>photon mapping</li>
<li>Newton-Raphson iteration</li>
<li>tree structure</li>
<li>论文的参考算法
<ul>
<li>Our algorithm is closely related to Jakob and Marschner’s manifold
exploration (ME) method [2012], which is a Markov chain Monte Carlo
(MCMC) <strong>perturbation</strong> strategy that analyzes the
differential geometry of the manifold of valid specular paths to make
proposals in the framework of Metropolis Light Transport [Veach
1998].</li>
</ul></li>
<li>MNEE
<ul>
<li>Starting with an <strong>incorrect initial specular path</strong>,
MNEE <strong>iteratively</strong> attempts to walk towards a valid
solution via projection and tangential steps on the specular
manifold.</li>
<li>最多找到一个解</li>
</ul></li>
<li>论文算法
<ul>
<li>The proposed method, named <strong>specular manifold sampling
(SMS)</strong>, is a generalization of the MNEE approach: using a
<strong>stochastic initialization</strong> and <strong>an unbiased
sampling weight estimator</strong>, we are able to find solutions on
complex geometry where manifold-based techniques were previously
inapplicable.
<ul>
<li>论文的算法是 MNEE
的泛化，能够解决复杂几何形体表面的路径采样问题</li>
</ul></li>
<li>We also propose a simple 2-stage stochastic initialization for
normal-mapped surfaces and demonstrate that SMS straightforwardly
generalizes to the related problem of glint rendering.We provide a brief
review</li>
</ul></li>
</ul>
<h2 id="background">3 BACKGROUND</h2>
<ul>
<li>light transport path
<ul>
<li><span class="math inline">\(\bar{\mathrm{x}}=\mathrm{x}_0,...,\mathrm{x}_n\)</span></li>
<li>端点 <span class="math inline">\(\mathrm{x}_1,\mathrm{x}_n\)</span>
non-specular</li>
<li>中间路径是 specular 的</li>
<li>下图是一个例子：<span class="math inline">\(\mathrm{x_n}\)</span>
是光源</li>
</ul></li>
</ul>
<p><img src="/2021/06/26/CG/Papers/2020/Glints/image-20210704003429567.png" style="zoom: 50%;"></p>
<ul>
<li>Snell' law：折射定律</li>
<li><span id="eq1">上述路径的约束条件</span>
<ul>
<li><span class="math inline">\(T(x_i)\)</span> is a 3 × 2 matrix of
tangent vectors</li>
<li>向量都归一化了</li>
</ul></li>
</ul>
<p><span class="math display">\[
\mathrm{c}_i(\mathrm{x}_{i-1},\mathrm{x}_i,\mathrm{x}_{i+1})=\mathrm{T}(\mathrm{x}_i)^T\mathrm{h}(\mathrm{x}_i,\overrightarrow{\mathrm{x}_i\mathrm{x}_{i-1}},\overrightarrow{\mathrm{x}_i\mathrm{x}_{i+1}})\;\;\;(1)
\]</span></p>
<ul>
<li>联立
<ul>
<li><span class="math inline">\(\mathrm{C}(\bar{x})=[\mathrm{c}_2,...,\mathrm{c}_{n−1}]^T\)</span></li>
<li>The function is normally parameterized via the UV coordinates <span class="math inline">\(\mathrm{uv}_i\)</span> of specular vertices,</li>
</ul></li>
<li>求解
<ul>
<li><span class="math inline">\(\mathrm{C}(\mathrm{\overline{uv}})=0\)</span></li>
<li>牛顿迭代法求解：<span class="math inline">\(\mathrm{\overline{uv}}_{i+1}=(\nabla\mathrm{C}(\mathrm{\overline{uv}}_i))^{-1}\cdot\mathrm{C}(\mathrm{\overline{uv}}_i)\)</span></li>
</ul></li>
</ul>
<p><img src="/2021/06/26/CG/Papers/2020/Glints/image-20210704154651129.png" style="zoom: 67%;"></p>
<h3 id="manifold-next-event-estimationmnee">3.1 Manifold next-event
estimation(MNEE)</h3>
<ul>
<li>问题
<ul>
<li>简单形体有效
<ul>
<li>spheres or cylinders</li>
<li>where a single solution indeed suffices to render most specular
paths.</li>
</ul></li>
<li>不知道怎么初始化
<ul>
<li>refractive caustics 可以（Hanika et
al.），但是不知道怎么推广到折射</li>
</ul></li>
<li>Finally, MNEE does not support paths that give rise to specular
glints.</li>
</ul></li>
<li>算法</li>
</ul>
<p><img src="/2021/06/26/CG/Papers/2020/Glints/image-20210705135529611.png" style="zoom: 80%;"></p>
<h2 id="method">4 METHOD</h2>
<ul>
<li>pecular manifold sampling (SMS)
<ul>
<li><strong>initially</strong> focusing on <strong>a simple unbiased
algorithm</strong> that generalizes to cases where <strong>multiple
specular paths</strong> connect two given endpoints.</li>
</ul></li>
<li>几种扩展算法（模块化、可随意组装的）
<ul>
<li>the first reduces variance at the cost of nonzero bias</li>
<li>the second replaces Jakob and Marschner’s specular manifold
constraints with improved variants,</li>
<li>the third samples paths in two stages to improve performance on
normal-mapped surfaces, and the last streamlines the algorithm for glint
rendering.</li>
</ul></li>
<li>组装例子</li>
</ul>
<p><img src="/2021/06/26/CG/Papers/2020/Glints/image-20210704162403713.png" style="zoom:67%;"></p>
<h3 id="finding-all-solutions">4.1 Finding all solutions</h3>
<ul>
<li>初始化
<ul>
<li>We initially restrict ourselves to specular chains with a single
smooth reflection or refraction.</li>
</ul></li>
<li>思路
<ul>
<li>whereas MNEE performs manifold walks using a fixed initialization,
SMS <strong>randomly samples the initial guess</strong> from a
<strong>probability distribution</strong> <span class="math inline">\(p(\overline{\mathrm{x}}_0)\)</span>.</li>
<li>Newton’s method exhibits quadratic convergence when the starting
point is sufficiently close to a root, hence all solutions will be found
with a nonzero probability—however, the probability of successful
convergence is unknown.</li>
</ul></li>
<li>初始化选择的自由度很高
<ul>
<li>we assume that the implementation of this sampling strategy takes
two uniformly distributed random numbers <span class="math inline">\(\xi
(\xi_1,\xi_2)\in [0,1)^2 =:\mathcal{U}\)</span> as input and warps them
to the desired distribution.</li>
<li>目标是使得初始的采样路径 <span class="math inline">\(\xi\)</span>
离正确的结果比较近，这样牛顿法才有效</li>
</ul></li>
<li>When inspecting the convergence behavior of these manifold walks on
the primary sample space <span class="math inline">\(\mathcal{U}\)</span>, we generally observe
multiple basins of convergence <span class="math inline">\(\mathcal{B}_k\subseteq \mathcal{U}\)</span>, each
containing a point <span class="math inline">\(\xi^{k}\)</span>
identified with a corresponding solution vertex <span class="math inline">\(x_2^{(k)}\)</span>.</li>
<li>Fig. 4.
<ul>
<li>(a): Multiple solutions of the specular path constraint form a
superposition of caustics in the Ring scene.</li>
<li>(b): Color map showing the number of solutions at each shading
point.</li>
<li>(c): The three solution paths at a particular point.</li>
<li>(d): The basins of convergence (in primary sample space)
corresponding to those solution paths. All manifold walks started at a
point (black dot) inside a region converge to the associated solution
(colored dot).</li>
</ul></li>
</ul>
<p><img src="/2021/06/26/CG/Papers/2020/Glints/image-20210704171907849.png" style="zoom:67%;"></p>
<ul>
<li>Newton’s method is known to produce convergence basins that
potentially have an extremely <strong>complex geometric
structure</strong> [Hubbard et al. 2001] and can even be
<strong>fractal</strong>.</li>
<li>An unbiased estimator is then given by a standard MC ratio <span class="math inline">\(\dfrac{f(\overline{x})}{p(\overline{x})}\)</span></li>
<li>Since the samples <span class="math inline">\(\xi\)</span> are
<strong>uniformly distributed</strong>, this probability is simply the
area of the associated convergence basin on <span class="math inline">\(\mathcal{U}\)</span></li>
</ul>
<p><span class="math display">\[
p_k=\int_{\mathcal{U}}\mathbb{1}_{\mathcal{B}_k}(\xi)\;\mathrm{d}\xi
\]</span></p>
<ul>
<li>但是这个是不可行的，<span class="math inline">\(\mathcal{B}_k\)</span> 可能有复杂的几何结构</li>
<li>简单的无偏估计如下</li>
</ul>
<p><span class="math display">\[
\langle
p_k\rangle=\dfrac{1}{N}\sum_{i=1}^N\mathbb{1}_{\mathcal{B}_k}(\xi)
\]</span></p>
<ul>
<li>这个估计存在一些问题 <span class="math inline">\(\mathbb{E}[\dfrac{1}{X}]\ne\dfrac{1}{\mathbb{E}[X]}\)</span>
<ul>
<li>引入 bias</li>
<li>for example, <span class="math inline">\(\langle p_k\rangle\)</span>
can equal zero if all N tries fail to converge to the basin <span class="math inline">\(\mathcal{B}_k\)</span>
<ul>
<li><span class="math inline">\(\langle
\dfrac{1}{p_k}\rangle\to\infty\)</span></li>
</ul></li>
</ul></li>
<li>Fortunately, an unbiased estimator for the inverse ⟨1/pk ⟩ can be
created using a simple <strong>iterative approach</strong>.</li>
</ul>
<h3 id="unbiased-sms">4.2 Unbiased SMS</h3>
<ul>
<li>turning the inverse into a geometric series(几何级数) moves the
problematic integral from the denominator(分母) to the
numerator(分子)</li>
</ul>
<p><span class="math display">\[
\dfrac{1}{p_k}=\dfrac{1}{\int_{\mathcal{U}}\mathbb{1}_{\mathcal{B}_k}(\xi)\;\mathrm{d}\xi}=\dfrac{1}{1-a}=\sum_{i=0}^{\infty}a^i
\]</span></p>
<p><span class="math display">\[
a=1-\int_{\mathcal{U}}\mathbb{1}_{\mathcal{B}_k}(\xi)\;\mathrm{d}\xi,\;|a|&lt;1
\]</span></p>
<ul>
<li>那么就会有</li>
</ul>
<p><span class="math display">\[
\langle\dfrac{1}{p_k}\rangle=1+\sum_{i=1}^{\infty}\prod_{j=1}^{i}\langle
a\rangle_j
\]</span></p>
<ul>
<li><span class="math inline">\(\langle a\rangle_j=0\)</span> when
manifold walk <span class="math inline">\(j\)</span> has converged to
root <span class="math inline">\(\xi_k\)</span></li>
<li><span class="math inline">\(\langle a\rangle_j=1\)</span> if it has
found another root or diverged</li>
<li><strong>Unbiased SMS is trivially added to any existing
implementation of MNEE.</strong></li>
<li>算法如下</li>
</ul>
<p><img src="/2021/06/26/CG/Papers/2020/Glints/image-20210705134445300.png" style="zoom: 80%;"></p>
<ul>
<li>复杂度和几何形体相关
<ul>
<li>when the geometry is complex, many solutions may exist, and their
convergence basins also occupy smaller area in primary sample
space.</li>
</ul></li>
<li>方差
<ul>
<li>Furthermore, the variance of such an estimator for a specific
solution pk based on a geometric distribution is equal to <span class="math inline">\(\dfrac{1-p_k}{p_k^2}\)</span> , which can become
very large when <span class="math inline">\(p_k\approx 0\)</span>.</li>
</ul></li>
</ul>
<h3 id="biased-sms">4.3 Biased SMS</h3>
<ul>
<li>引入 bias，但是同时降低了 variance，减小了运行时间</li>
<li>The biased variant of our method (Alg. 3) replaces the unbounded
number of trial iterations by a fixed budget of M samples.</li>
<li>we simply cluster the M samples into a set of unique solutions <span class="math inline">\(\mathrm{x}_2^{(l)}(l = 1,\cdots, L)\)</span>.</li>
<li>A biased estimate of the reciprocal is then given by the
<strong>relative number of occurrences nl of each solution</strong>,
which also avoids the potential issues with a <strong>division by
zero</strong> discussed earlier.</li>
</ul>
<p><span class="math display">\[
\dfrac{1}{M}\sum_{l=1}^{L}n_l\dfrac{f(\mathrm{x}_2^{(l)})}{p(\mathrm{x}_2^{(l)})}\approx\dfrac{1}{M}\sum_{l=1}^{L}n_lf(\mathrm{x}_2^{(l)})\dfrac{M}{n_l}=\sum_{l=1}^{L}f(\mathrm{x}_2^{(l)})
\]</span></p>
<ul>
<li>Compared to the original unbiased approach, this variant has a
<strong>fixed iteration count</strong>, and it <strong>exploits the
information provided by all samples</strong>.</li>
<li>有偏但是是一致的
<ul>
<li>Note that it is <strong>consistent</strong> and will converge to the
true solution as <span class="math inline">\(M\to\infty\)</span></li>
</ul></li>
<li>论文中 bias 体现为能量损失
<ul>
<li>In our experiments, we observe that the resulting bias is manifested
as energy loss</li>
<li>焦散很暗</li>
</ul></li>
<li>算法如下</li>
</ul>
<p><img src="/2021/06/26/CG/Papers/2020/Glints/image-20230727142036028.png"></p>
<ul>
<li>MNEE 和 biased SMS
<ul>
<li>When setting <span class="math inline">\(M=1\)</span>, biased SMS is
closely related to a biased version of MNEE where no MIS is applied to
account for paths that cannot be sampled using the manifold walk.</li>
<li><strong>但是是不等价的</strong></li>
<li>Consider a situation where only one valid solution exists but the
straight-line initialization doesn’t converge to it.
<ul>
<li>In this case, <strong>MNEE</strong> can produce <strong>arbitrarily
high variance</strong>—or in case of point lights will miss the
contribution entirely.</li>
<li><strong>SMS</strong> however will still find the solution with
<strong>non-zero probability</strong>.</li>
</ul></li>
</ul></li>
<li>向量化并行
<ul>
<li>modern SIMD instruction sets, such as AVX512.</li>
</ul></li>
</ul>
<h3 id="improved-specular-manifold-constraints">4.4 Improved specular
manifold constraints</h3>
<ul>
<li>One significant difference of our method compared to all previous
applications of manifold walks is that we require the Newton solver to
take <strong>very large steps</strong> starting from an
<strong>invalid</strong> state.
<ul>
<li><strong>MNEE</strong> renders <strong>refractive caustics</strong>
with a straight-line initialization that is generally <strong>already
very close to the final solution</strong>.</li>
<li>applications of manifold walks to MCMC rendering [Jakob and
Marschner 2012; Lehtinen et al. 2013] <strong>only make small
perturbations to existing valid paths</strong></li>
</ul></li>
<li>因此上述的两种方法收敛很快</li>
<li>我们的方法到现在为止，随机的初始化导致收敛很慢（即使是在简单的集合外形上也出现问题）
<ul>
<li>manifold walks would often converge surprisingly poorly when
initialized randomly</li>
</ul></li>
<li>导致收敛出现问题的原因
<ul>
<li>when <strong>taking large steps</strong>, Newton iterations based on
the <strong>original specular manifold constraint</strong>s often
produce <strong>invalid back-facing solutions</strong> that impede
convergence.</li>
<li>back-facing：下图中的 invalid
路径，光照从内部反射，这是不可能的</li>
</ul></li>
<li>The main issue here is how the specular manifold constraint in <a href="#eq1">Eq. (1)</a> encodes specular configurations via
<strong>half-vector projections</strong>.</li>
<li>While this term conveniently subsumes both reflective and refractive
cases with one equation, the formulation <strong>does not
distinguish</strong> between front- and back-facing solutions</li>
</ul>
<p><img src="/2021/06/26/CG/Papers/2020/Glints/image-20210705202223912.png" style="zoom:80%;"></p>
<ul>
<li>我们提出了一个新的约束条件，区分折射和反射
<ul>
<li>scattered direction <span class="math inline">\(S(\omega,\mathrm{n},\eta)\)</span></li>
<li>incident direction <span class="math inline">\(\omega\)</span></li>
<li>surface normal <span class="math inline">\(\mathrm{n}\)</span></li>
</ul></li>
</ul>
<p><img src="/2021/06/26/CG/Papers/2020/Glints/image-20210705204937896.png" style="zoom:80%;"></p>
<ul>
<li>度量条件：<span class="math inline">\(\mathrm{\omega}_o=S(\omega_i,\mathrm{n},\eta)\)</span>
<ul>
<li>具体我们使用 <span class="math inline">\(2\mathrm{D}\)</span>
度量方式（实验发现效果比较好）</li>
<li>we therefore measure a difference in the spherical coordinates of
both vectors</li>
</ul></li>
</ul>
<p><img src="/2021/06/26/CG/Papers/2020/Glints/image-20210705205329933.png" style="zoom:80%;"></p>
<ul>
<li><span class="math inline">\(\theta(\omega) =
\cos^{−1}(\omega_z)\)</span></li>
<li><span class="math inline">\(\phi(\omega)=\mathrm{atan}\;2(\omega_y,\omega_x)\)</span></li>
<li>一个其他问题
<ul>
<li>Note that the scattering operation <span class="math inline">\(\mathrm{S}(\cdot)\)</span> can fail in
configurations with <strong>total internal reflection</strong>.</li>
<li>In such cases we are still able to evaluate the constraint for the
opposite light direction by taking the difference between <span class="math inline">\(\mathrm{\omega}_o\)</span> and <span class="math inline">\(S(\omega_i,\mathrm{n},\eta)\)</span></li>
</ul></li>
</ul>
<h3 id="two-stage-manifold-walks">4.5 Two-stage manifold walks</h3>
<ul>
<li>we observe that <strong>the more complex caustic</strong> is a
<strong>superposition</strong>(叠加) of <strong>many different
solutions</strong> with <strong>a fairly localized
effect</strong>(局部效应)</li>
<li>The space <span class="math inline">\(\mathcal{U}\)</span> is
<strong>largely empty,</strong> containing only <strong>a few small
convergence basins</strong> that are clustered together. The probability
of finding a valid solution is therefore low.
<ul>
<li>采样概率小</li>
</ul></li>
</ul>
<p><img src="/2021/06/26/CG/Papers/2020/Glints/image-20210706132923125.png" style="zoom:80%;"></p>
<ul>
<li>Furthermore, estimating the reciprocal probability depends on our
ability to <strong>find the same solution once more</strong>, which is
even less likely.</li>
<li>Unbiased SMS estimates therefore tend be slow and noisy, while
biased SMS loses a considerable amount of energy.
<ul>
<li>采样概率小导致的问题</li>
</ul></li>
<li>为了解决上述问题，我们提出一种利用先验知识找初始路径的方法。</li>
<li>consider a <strong>caustic</strong> generated by a smooth planar
surface(光滑平面产生的焦散)
<ul>
<li>我们观察到，当表面的几何结构不太复杂时，焦散都是有一个比较大的收敛域产生的</li>
<li>当表面几何结构变得复杂的时候，大的收敛域分割为多个小的收敛域</li>
</ul></li>
<li>Our <strong>two-stage</strong> sampling approach performs
<strong>two manifold walks</strong>
<ul>
<li>the first stage <strong>ignores the specified normal map</strong>
and finds specular paths on the original smooth surface.
<ul>
<li>Such a smooth manifold walk will converge to a point that roughly
lies at the center of the cluster of solutions</li>
<li>具体使用的策略：<strong>offset manifold walk</strong> [Jakob and
Marschner 2012]</li>
</ul></li>
<li>a second manifold walk, on the bumpy surface, started from there
takes us all the way to a solution.</li>
</ul></li>
</ul>
<h3 id="glints">4.6 Glints</h3>
<ul>
<li>Our method generalizes straightforwardly to the problem of rendering
glints, which are miniscule subpixel reflections of a light source with
<strong>narrow angular support</strong> (e.g. the sun) on
<strong>high-frequency specular microgeometry</strong>.</li>
<li>标准的 MC 方法开销太大
<ul>
<li><strong>millions of samples per pixel</strong> may be needed to
obtain an acceptable result</li>
</ul></li>
<li>Our method <strong>generates random starting points</strong> within
the <strong>pixel</strong> and then runs <strong>unbiased or biased
SMS</strong> to find solutions</li>
<li>之前的方法
<ul>
<li>introduced a small amount of <strong>intrinsic roughness</strong> to
relax the problem</li>
</ul></li>
<li>we solve the unmodified problem with a discrete set of solutions to
find a path <span class="math inline">\(\mathrm{\bar{x}}=\mathrm{x}
_0,\mathrm{x}_1,\mathrm{x}_2\)</span> connecting the camera to a sampled
emitter position <strong>via a single specular reflection</strong>.
<ul>
<li>单次反射</li>
</ul></li>
<li>一些和之前一样的假设
<ul>
<li>Like prior work, we assume that the endpoints <span class="math inline">\(\mathrm{x} _0\)</span> and <span class="math inline">\(\mathrm{x} _2\)</span> are
<strong>distant</strong>, in which case changes in the half-vector
across the parallelogram are minimal.</li>
</ul></li>
<li>这些假设简化搜索
<ul>
<li>in particular, the specular manifold constraint can be simplified to
a function that attempts to <strong>equate this fixed
half-vector</strong> and <strong>the local shading normal</strong>, both
expressed in 2D slope space.</li>
</ul></li>
<li>泛化与鲁棒性
<ul>
<li>To robustly apply our glint rendering technique in scenes with
<strong>complex lighting</strong> (e.g. <strong>high-frequency
environment maps</strong>), we further combine our SMS strategy with
<strong>standard BSDF sampling</strong> in a multiple importance
sampling (<strong>MIS</strong>) framework.</li>
<li>效果很好</li>
</ul></li>
</ul>
<p><img src="/2021/06/26/CG/Papers/2020/Glints/image-20210706141100580.png" style="zoom:80%;"></p>
<h3 id="integration-into-rendering-algorithms">4.7 Integration into
rendering algorithms</h3>
<h2 id="results">5 RESULTS</h2>
<ul>
<li>详见论文</li>
</ul>
<h2 id="conclusion">6 CONCLUSION</h2>
<ul>
<li><strong>Our article focuses mainly on the generation of subpaths
with a single specular vertex</strong>.</li>
<li>While our method in principle also generalizes to more complex path
classes with multiple specular reflection, performance using our current
strategy for choosing starting points remains suboptimal and could be an
interesting topic for future work.</li>
</ul>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/CG/" rel="tag"># CG</a>
              <a href="/tags/Paper/" rel="tag"># Paper</a>
              <a href="/tags/Glints/" rel="tag"># Glints</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2021/06/23/DB/MySQL/json_format/" rel="prev" title="MySQL 聚合成 json 格式化输出">
                  <i class="fa fa-chevron-left"></i> MySQL 聚合成 json 格式化输出
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2021/06/28/book/directory/BoYiYuSheHui/" rel="next" title="博弈与社会目录">
                  博弈与社会目录 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2021 – 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">banbao(990)</span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>


  
    <script src='https://unpkg.com/mermaid/dist/mermaid.min.js'></script>
  
    <script>
      if (window.mermaid) {
        mermaid.initialize({theme: 'forest'});
      }
    </script>

    </div>
  </footer>

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js" integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.0/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>


  <script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mermaid/9.1.7/mermaid.min.js","integrity":"sha256-G58AID1YoX5YaEtWfXSI0VLrZ6N4kvNvwg0BI8zUFxE="}}</script>
  <script src="/js/third-party/tags/mermaid.js"></script>

  <script src="/js/third-party/fancybox.js"></script>


  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
