<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.jpg">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.jpg">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.jpg">
  <link rel="mask-icon" href="/images/apple-touch-icon-next.jpg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha256-AbA177XfpSnFEvgpYu1jMygiLabzPCJCRIBtR5jGc0k=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.13.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="pure specular、层次结构、解方程">
<meta property="og:type" content="article">
<meta property="og:title" content="(论文)[2020-SIG] Path Cuts, Efficient Rendering of Pure Specular Light Transport">
<meta property="og:url" content="http://example.com/2021/03/20/CG/Papers/2020/PathCuts/index.html">
<meta property="og:site_name" content="Banbao">
<meta property="og:description" content="pure specular、层次结构、解方程">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/2021/03/20/CG/Papers/2020/PathCuts/1616258430770.png">
<meta property="article:published_time" content="2021-03-20T04:14:32.000Z">
<meta property="article:modified_time" content="2023-08-14T02:22:45.262Z">
<meta property="article:author" content="banbao(990)">
<meta property="article:tag" content="CG">
<meta property="article:tag" content="Paper">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2021/03/20/CG/Papers/2020/PathCuts/1616258430770.png">


<link rel="canonical" href="http://example.com/2021/03/20/CG/Papers/2020/PathCuts/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"http://example.com/2021/03/20/CG/Papers/2020/PathCuts/","path":"2021/03/20/CG/Papers/2020/PathCuts/","title":"(论文)[2020-SIG] Path Cuts, Efficient Rendering of Pure Specular Light Transport"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>(论文)[2020-SIG] Path Cuts, Efficient Rendering of Pure Specular Light Transport | Banbao</title>
  






  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Banbao</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-more-notes"><a href="https://github.com/banbao990/Use/" rel="noopener" target="_blank"><i class="fa fa-book fa-fw"></i>More notes</a></li><li class="menu-item menu-item-use"><a href="/use/" rel="section"><i class="fa fa-gamepad fa-fw"></i>Use</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#path-cuts-efficient-rendering-of-pure-specular-light-transport"><span class="nav-text">Path
Cuts: Efficient Rendering of Pure Specular Light Transport</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#key-words"><span class="nav-text">Key Words</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#introduction"><span class="nav-text">1. Introduction</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9B%B8%E5%85%B3%E5%B7%A5%E4%BD%9C"><span class="nav-text">2. 相关工作</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#path-space-traversal-using-path-cuts"><span class="nav-text">3. PATH SPACE TRAVERSAL
USING PATH CUTS</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E9%87%8F"><span class="nav-text">基本量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%80%9D%E8%B7%AF"><span class="nav-text">思路</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#path-cuts-for-hierarchical-pruning"><span class="nav-text">3.1 Path cuts for
hierarchical pruning</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#insight"><span class="nav-text">Insight</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#validating-a-path-cut"><span class="nav-text">3.2 Validating a path cut</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#subdividing-a-path-cut"><span class="nav-text">3.3 Subdividing a path cut</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BB%86%E5%88%86%E6%96%B9%E5%BC%8F"><span class="nav-text">细分方式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BB%86%E5%88%86%E7%BB%93%E6%9D%9F"><span class="nav-text">细分结束</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%80%E4%B8%AA%E7%BB%86%E5%88%86%E7%9A%84%E9%97%AE%E9%A2%98"><span class="nav-text">一个细分的问题</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#solving-for-a-specular-light-path"><span class="nav-text">4. SOLVING FOR A SPECULAR
LIGHT PATH</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#finding-an-admissible-path"><span class="nav-text">4.1 Finding an admissible path</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#the-contribution-of-an-admissible-path"><span class="nav-text">4.2 The contribution of
an admissible path</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#pixel-importance-function-value"><span class="nav-text">Pixel importance function
value</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#generalized-geometry-termggt"><span class="nav-text">Generalized geometry
term(GGT)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#multiple-solutions"><span class="nav-text">4.3 Multiple solutions</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#finding-all-discrete-solutions"><span class="nav-text">Finding all discrete
solutions</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#infinite-solution-regions"><span class="nav-text">Infinite solution regions</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#conclusion-and-future-work"><span class="nav-text">7. CONCLUSION AND FUTURE WORK</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BD%9C%E8%80%85%E6%8A%A5%E5%91%8A"><span class="nav-text">作者报告</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#notes"><span class="nav-text">notes</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%97%AE%E9%A2%98"><span class="nav-text">问题</span></a></li></ol></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="banbao(990)"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">banbao(990)</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">287</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">43</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">95</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/banbao990" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;banbao990" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:2369896555@qq.com" title="E-Mail → mailto:2369896555@qq.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i></a>
      </span>
  </div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/banbao990" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/03/20/CG/Papers/2020/PathCuts/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="banbao(990)">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Banbao">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="(论文)[2020-SIG] Path Cuts, Efficient Rendering of Pure Specular Light Transport | Banbao">
      <meta itemprop="description" content="pure specular、层次结构、解方程">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          (论文)[2020-SIG] Path Cuts, Efficient Rendering of Pure Specular Light Transport
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2021-03-20 12:14:32" itemprop="dateCreated datePublished" datetime="2021-03-20T12:14:32+08:00">2021-03-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-08-14 10:22:45" itemprop="dateModified" datetime="2023-08-14T10:22:45+08:00">2023-08-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/CG-Paper/" itemprop="url" rel="index"><span itemprop="name">CG.Paper</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">Views: </span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
</div>

            <div class="post-description">pure specular、层次结构、解方程</div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h1 id="path-cuts-efficient-rendering-of-pure-specular-light-transport">Path
Cuts: Efficient Rendering of Pure Specular Light Transport</h1>
<h2 id="key-words">Key Words</h2>
<ul>
<li>点光源，针孔摄像机，pure specular，multi-bounce，path-space</li>
<li>reflections and refractions
<ul>
<li>反射和折射</li>
</ul></li>
</ul>
<h2 id="introduction">1. Introduction</h2>
<ul>
<li>传统的渲染方法，<strong>蒙特卡洛方法</strong>找到一条从光源到相机的路径</li>
<li>none of them are able to find multi-bounce pure specular light paths
from a point light to a pinhole camera</li>
<li>之前的方法
<ul>
<li>初始化为一条不可接受的的路径（可能是不太正确的路径，但是很接近最终解）</li>
<li>根据求解器求解出一条正确的路径（牛顿法）</li>
<li>可以解决，但是有<strong>局部性问题</strong></li>
</ul></li>
<li>Walter’s method：全局的方法
<ul>
<li>using a hierarchical data structure on top of meshes with
interpolated normals, but only works for <strong>a single
refraction</strong>.</li>
</ul></li>
<li>论文的方法
<ul>
<li>we enumerate the discrete set of admissible pure specular paths of
<strong>a given length</strong> and <strong>type</strong> connecting the
light and the camera. We <strong>globally</strong> slice the path space
into small regions</li>
<li>within a region we solve the <strong>local</strong> problem of
refining the path to become admissible</li>
</ul></li>
<li>解决的问题
<ul>
<li>We use a path space hierarchy combined with interval arithmetic
bounds to efficiently prune non-contributing regions of path space, and
to slice the path space into regions small enough that local refinement
becomes feasible.
<ul>
<li>路径空间划分，剪枝，每个小区域求局部解</li>
</ul></li>
<li>We use an automatic differentiation tool and a Newton-based solver
to find an admissible specular path within a given path space region,
and splat its contribution onto the image plane.
<ul>
<li>自动微分工具，基于牛顿法的求解器</li>
<li>给定一个区域内的求解，然后在全局上加入它的贡献</li>
</ul></li>
<li>We show that our purely specular solution can be used to initialize
paths for other algorithms, such as an MCMC-based approach to render
with small but non-zero roughness.
<ul>
<li>论文算法的到的路径可以用于其他算法初始值的设定</li>
</ul></li>
</ul></li>
<li>评价
<ul>
<li>ours is the <strong>first</strong> approach to directly focus on
multi-bounce purely specular paths on <strong>complex geometric surfaces
given by triangle meshes</strong> with interpolated normals.</li>
</ul></li>
</ul>
<h2 id="相关工作">2. 相关工作</h2>
<ul>
<li>费马原理，牛顿法求解中间结点
<ul>
<li>优化问题，最大化/最小化长度</li>
</ul></li>
<li>Walter
<ul>
<li>费马定理在现实场景中不太使用（图元的不同法线、几何）</li>
<li>the admissible paths are simply the ones whose vertices align the
normal vector with the (refractive) half vector.</li>
<li>limited to a <strong>single</strong> refractive surface event
<ul>
<li>不容易扩展到 k-bounce</li>
</ul></li>
</ul></li>
<li>Markov chain Monte Carlo
<ul>
<li>this method does not work for pure specular paths</li>
<li>and requires the Markov chain light transport setting to be
applicable.</li>
</ul></li>
<li>Manifold next event estimation (MNEE)
<ul>
<li>the method can connect any shading point on a non-specular surface,
through one or more refractions, to a light source sample.</li>
<li>没有全局搜索</li>
<li>存在局部性问题，多解则不能很好工作</li>
</ul></li>
<li>half vector space light transport (HSLT)
<ul>
<li>a path is represented by its start and end point constraints and a
sequence of generalized half vectors</li>
<li>HSLT does not require a specular/non-specular classification of the
path vertices</li>
</ul></li>
<li>最近的工作
<ul>
<li>Recently, concurrent work by Zeltner et al. [2020] presented a
specular manifold sampling technique, which is able to handle
<strong>glints</strong>, <strong>reflective/refractive
caustics</strong>, and <strong>specular-diffuse-specular light
transport</strong></li>
<li>解决闪烁，焦散问题</li>
</ul></li>
<li><strong>Interval arithmetic</strong></li>
<li><strong>Glint rendering methods</strong></li>
<li><strong>Lightcuts</strong>
<ul>
<li>虚拟光源</li>
<li>层次结构</li>
</ul></li>
<li>Inspired by the idea of lightcuts, we propose path cuts to organize
all the triangles, <strong>whether geometric or tessellated from
bump/normal maps</strong>, into a <strong>hierarchy</strong>.</li>
<li>We use the path cuts to efficiently prune non-contributing areas of
the path space; i.e. regions where the alignment of the normal and half
vectors is guaranteed to be impossible.</li>
</ul>
<h2 id="path-space-traversal-using-path-cuts">3. PATH SPACE TRAVERSAL
USING PATH CUTS</h2>
<ul>
<li>For each number of <strong>bounces k</strong> the problem needs to
be solved independently</li>
<li>different <strong>path types</strong> of a given length are
themselves independent.</li>
</ul>
<h3 id="基本量">基本量</h3>
<ul>
<li>k-bounces
<ul>
<li>path vertices：k+2
<ul>
<li>light（L），k-bounces，pinhole camera（E）</li>
</ul></li>
<li>k+1 segments</li>
</ul></li>
<li>bounce point：<span class="math inline">\(x_i\)</span></li>
<li>场景由 n 个带有插值法线的<strong>三角形</strong>组成 <span class="math inline">\(T_i\)</span></li>
<li>scene surface：<span class="math inline">\(\mathcal{M}\)</span></li>
</ul>
<h3 id="思路">思路</h3>
<ul>
<li>Our idea is to first isolate all k-tuples of triangles that could
give rise to an admissible path, then find those paths within the
k-tuple using a root solver. In this section, we focus on the first
part, finding potentially contributing k-tuples of triangles.</li>
<li>then find those paths within the k-tuple using a root solver.</li>
<li>In this section, we focus on the first part, finding potentially
contributing k-tuples of triangles.</li>
</ul>
<h3 id="path-cuts-for-hierarchical-pruning">3.1 Path cuts for
hierarchical pruning</h3>
<ul>
<li>brute-force：暴搜
<ul>
<li><span class="math inline">\(O(n^k)\)</span></li>
</ul></li>
<li>树层次结构 tree hierarchy <span class="math inline">\(\mathcal{H}\)</span>
<ul>
<li>Each node <span class="math inline">\(S_i\in\mathcal{H}\)</span>
represents a surface <strong>patch</strong> on <span class="math inline">\(\mathcal{M}\)</span>, and records the 3D interval
(bounding box) <span class="math inline">\(N_i\)</span> of all surface
normals and the 3D interval (bounding box) <span class="math inline">\(P_i\)</span> of all surface positions in this
patch.</li>
<li><strong>Note that this "root" path cut is for the entire image, as
our method is independent of pixels.</strong></li>
</ul></li>
<li>找路径时考虑 <span class="math inline">\(\mathcal{H^k}=\mathcal{H}\times\mathcal{H}\times\cdots\times\mathcal{H}\)</span></li>
<li>假使我们选中了 <span class="math inline">\((S_{j_1},\cdots,S_{j_K})\in\mathcal{H^k}\)</span></li>
<li>“thick path”
<ul>
<li>the set of all paths from the light to the camera whose vertices are
within the corresponding nodes</li>
<li>恰好在上面的结点中</li>
</ul></li>
</ul>
<p><span class="math display">\[
L\to(x_1\in S_{j_1})\to(x_2\in S_{j_2})\to\cdots\to(x_k\in S_{j_k})\to E
\]</span></p>
<ul>
<li><strong>We denote such a “thick path” as a path cut, in analogy to
multidimensional lightcuts.</strong></li>
</ul>
<h4 id="insight">Insight</h4>
<ul>
<li>if we can quickly determine whether a path cut potentially contains
an admissible specular path, we can use this information to prune the
path space to quickly converge to contributing paths.</li>
<li>怎么判断 path cut 是否含有一个可接受的结果（specular path）？</li>
<li>conservative（保守）
<ul>
<li>existence of one or more admissible paths has to be always correctly
detected.</li>
<li>The reverse need not be true: if we cannot prove non-existence, we
can always subdivide the path cut.</li>
</ul></li>
</ul>
<h3 id="validating-a-path-cut">3.2 Validating a path cut</h3>
<ul>
<li>a pure specular path is admissible
<ul>
<li>at each surface bounce, the normal vector is aligned with the
(reflective or refractive) half vector.</li>
</ul></li>
<li>test locally</li>
</ul>
<p><img src="/2021/03/20/CG/Papers/2020/PathCuts/1616258430770.png" style="zoom: 80%;"></p>
<ul>
<li><strong>interval arithmetic</strong>：区间算术</li>
<li>对于层次结构中的结点 <span class="math inline">\(S_i\)</span>
做<strong>包围盒</strong>（AABB）
<ul>
<li><span class="math inline">\(P_i\)</span> ：<span class="math inline">\(S_i\)</span> 中点的位置</li>
<li><span class="math inline">\(N_i\)</span>：<span class="math inline">\(S_i\)</span> 中法线的位置</li>
</ul></li>
<li>所有可能的从 <span class="math inline">\(S_{i-1}\)</span> 到 <span class="math inline">\(S_i\)</span> 的入射方向、出射方向
<ul>
<li><span class="math inline">\(D_{in}^i=normalize(P_{i-1}
−P_i)\)</span></li>
<li><span class="math inline">\(D_{out}^i=-D_{in}^{i+1}=normalize(P_{i+1}−P_i)\)</span></li>
</ul></li>
<li>half vector
<ul>
<li><span class="math inline">\(H_i=normalize(D_{out}^i+D_{in}^i)\)</span></li>
</ul></li>
<li>判断 <span class="math inline">\(H_i\bigcap N_i\)</span>
是否为空，即可判断是否存在法线和半角矢量对齐（相等）</li>
<li>对每一次 bounce 做上面的判断，如果存在一个 <span class="math inline">\(i\)</span> 使得 <span class="math inline">\(H_i\bigcap N_i\)</span>
为空，那么不可能产生一条可行的光路
<ul>
<li>剪枝 prun</li>
</ul></li>
</ul>
<h3 id="subdividing-a-path-cut">3.3 Subdividing a path cut</h3>
<ul>
<li>Once we know that a path cut has potential to contribute a pure
specular path, we subdivide this path cut.
<ul>
<li>如果一条 path cut 有可能产生纯反射光路，则对其进行细分</li>
</ul></li>
</ul>
<h4 id="细分方式">细分方式</h4>
<p>（1）简单的细分</p>
<ul>
<li>把所有的非叶子结点都展开</li>
<li>复杂度变回去了，很高</li>
</ul>
<p>（2）随机选择一个非叶子结点进行展开</p>
<p>（3）展开最大的结点</p>
<ul>
<li>largest bounding box</li>
<li><strong>确实很直观</strong></li>
</ul>
<p>（4）展开 <span class="math inline">\(H_i\bigcap N_i\)</span>
区间最大的结点</p>
<ul>
<li>实验验证效果不好，能够看见比方法（3）更多的结点</li>
</ul>
<h4 id="细分结束">细分结束</h4>
<ul>
<li>As we repeat the subdivision process, finally we will end up with
path cuts that consist of <strong>only leaf nodes</strong>, i.e.
<strong>one triangle per bounce</strong>.</li>
</ul>
<h4 id="一个细分的问题">一个细分的问题</h4>
<ul>
<li><span style="color:red;font-weight:bold">怎么处理细分，结点数变化怎么处理，分成两条
path cut 吗？</span>
<ul>
<li>感觉确实没问题，复杂度也不高，只需要检查当前展开的结点和两边结点的连接关系即可</li>
</ul></li>
</ul>
<h2 id="solving-for-a-specular-light-path">4. SOLVING FOR A SPECULAR
LIGHT PATH</h2>
<ul>
<li>现在的结果是找到了一条 path cut，每个结点都是三角形</li>
</ul>
<p><span class="math display">\[
L\to(x_1\in T_1)\to(x_2\in T_2)\to\cdots\to(x_k\in T_k)\to E
\]</span></p>
<ul>
<li>现在的问题
<ul>
<li>find its <strong>contribution</strong> to the image plane</li>
<li>也就是说找到光路</li>
</ul></li>
</ul>
<h3 id="finding-an-admissible-path">4.1 Finding an admissible path</h3>
<ul>
<li>Finding such a light path is trivial <strong>if the triangles are
flat mirrors</strong> (i.e. they <strong>do not have interpolated
shading normals</strong> distinct from the geometric normal).
<ul>
<li>We just need to repeatedly take the virtual image of the point light
across the plane containing <span class="math inline">\(T_i\)</span> and
finally connect it to the camera.</li>
<li>把光源 <span class="math inline">\(L\)</span> 做 <span class="math inline">\(T_1\)</span> 的虚像得到 <span class="math inline">\(I_1\)</span>，然后把 <span class="math inline">\(I_1\)</span> 做 <span class="math inline">\(T_2\)</span> 的虚像得到 <span class="math inline">\(I_2\)</span>，重复这个过程得到 <span class="math inline">\(I_K\)</span>，连接 <span class="math inline">\(I_K\)</span> 和 <span class="math inline">\(E\)</span> 即可得到光路</li>
<li><strong>平面镜成像原理</strong></li>
</ul></li>
<li>However, this does not cover common situations with
<strong>refractions</strong> and <strong>normal interpolation</strong>
(curvature).
<ul>
<li>curvature：曲率</li>
</ul></li>
<li>In the general case, we need to find the vertex locations using a
<strong>root solver</strong>.</li>
<li>使用重心坐标系 <span class="math inline">\(\alpha_i,\beta_i,\gamma_i\)</span>
<ul>
<li><span class="math inline">\(\alpha_i+\beta_i+\gamma_i=1\)</span></li>
</ul></li>
<li>知道了 <span class="math inline">\(\alpha_i,\beta_i\)</span>
可以通过三个顶点插值出法线 <span class="math inline">\(n_i(\alpha_i,\beta_i)\)</span> 和顶点的位置 <span class="math inline">\(x_i(\alpha_i,\beta_i)\)</span></li>
<li>继而可以求出入射光线的方向 <span class="math inline">\(normalize(x_{i-1}-x_i)\)</span>，入射光线的方向
<span class="math inline">\(normalize(x_{i+1}-x_i)\)</span></li>
<li>接着求出半角矢量 <span class="math inline">\(h_i(\alpha_i,\beta_i)\)</span>
<ul>
<li><span style="color:red;font-weight:bold">感觉不太对，应该是下面这个，但是不影响</span>
<ul>
<li><span class="math inline">\({\color{red}h_i(\alpha_i,\beta_i,\alpha_{i-1},\beta_{i-1},\alpha_{i+1},\beta_{i+1})}\)</span></li>
</ul></li>
<li>半角矢量可以应用在<strong>反射</strong>和<strong>折射</strong>上面</li>
</ul></li>
<li>按照惯例，我们假设法线和半角矢量指向折射率较低的介质（一般但不一定是空气）</li>
<li>约束条件：逐渐缩小如下值（希望相等）
<ul>
<li><span class="math inline">\(C_i(\alpha_i,\beta_i)=\mathrm{n}_i(\alpha_i,\beta_i)-\mathrm{h}_i(\alpha_i,\beta_i)\)</span></li>
</ul></li>
<li>在三角形内部
<ul>
<li><span class="math inline">\(\alpha_i\ge0,\beta_i\ge0,\alpha_i+\beta_i\le1\)</span></li>
</ul></li>
<li>整条路径的限制条件</li>
</ul>
<p><span class="math display">\[
C(\alpha_1,\beta_1,\cdots,\alpha_k,\beta_k)=(C_1,C_2,\cdots,C_k)
\]</span></p>
<ul>
<li>the constraint function has 2k variables and 3k output values.
<ul>
<li>An alternative with 2k output values can be defined by projecting
the normals and half vectors into the local geometric space, and
dropping their 𝑧 coordinates. We found this alternative formulation
gives equivalent results and is slightly slower due to the extra vector
transformations.</li>
</ul></li>
<li><strong>Newton iteration</strong>
<ul>
<li>This requires solving a 3k × 2k linear system, in the least-squares
sense, at each iteration.</li>
<li>限制迭代次数
<ul>
<li>We bound the maximum number of iterations to 5.</li>
<li>If after reaching the maximum terations, the resulting vertices are
not all within their respective triangles, we assume there is no
solution.</li>
</ul></li>
<li>求解出来之后，我们对相邻的两个三角形做<strong>可见性测试</strong>
<ul>
<li>The visibility test can be skipped for objects known to be
convex.</li>
<li><span style="color:red;font-weight:bold">为什么不需要</span></li>
</ul></li>
</ul></li>
</ul>
<h3 id="the-contribution-of-an-admissible-path">4.2 The contribution of
an admissible path</h3>
<ul>
<li>影响强度的因素
<ul>
<li>The contribution of the path to the image consists of the product of
several terms:
<ul>
<li>visibility (already handled above)</li>
<li>light intensity</li>
<li>the product of Fresnel terms along the path</li>
<li>volumetric absorption</li>
<li><strong>the generalized geometry term</strong></li>
<li><strong>and the pixel importance function value</strong></li>
</ul></li>
</ul></li>
<li>这里只考虑最后两个因素（其他不需要在这里讨论）</li>
<li>precisely define our camera model as a <strong>pinhole
camera</strong>, with <strong>a sensor plane</strong> at a distance of
<strong>1 world unit</strong> from the camera position (pinhole)</li>
<li><strong>For the purposes of the explanation below, the camera
endpoint P of the path is thus on the sensor, not on the pinhole C
itself.</strong></li>
</ul>
<h4 id="pixel-importance-function-value">Pixel importance function
value</h4>
<ul>
<li>Consider a ray <span class="math inline">\((P,\omega)\)</span>
leaving the sensor point <span class="math inline">\(P\)</span> in
direction <span class="math inline">\(\omega =
normalize(C-P)\)</span></li>
<li><span class="math inline">\(W_{ij}(P,\omega)\)</span></li>
<li>We will need to include the corresponding <span class="math inline">\(W_{ij}\)</span> in the path contribution</li>
<li><span class="math inline">\(W_{ij}\)</span> 对谁归一化（和为1）
<ul>
<li>These units <strong>cannot</strong> be <strong>pixels</strong>,
otherwise the brightness of specular contributions would change with
image resolution.</li>
<li>Instead, we find that the normalization has to be with respect to
real world units, on the image sensor <strong>at a distance of 1 unit
from C</strong>.</li>
</ul></li>
<li>if the horizontal field-of- view is <span class="math inline">\(\theta\)</span> and the aspect ratio
(height/width) is <span class="math inline">\(r\)</span> , the area of
the image plane in world units is <span class="math inline">\(A\)</span>
<ul>
<li><span class="math inline">\(A=4r\tan^2(\dfrac{\theta}{2})\)</span></li>
</ul></li>
<li>归一化
<ul>
<li><span class="math inline">\(W_{ij}(P,\omega)=\dfrac{K_{ij}mn}{A}\)</span>
<ul>
<li>像素分辨率 <span class="math inline">\(m\times n\)</span></li>
</ul></li>
<li>Here we first define <span class="math inline">\(K_{ij}\)</span> to
be the pixel reconstruction filter normalized in pixel units,</li>
<li>and then include the additional factor of <span class="math inline">\(\dfrac{mn}{A}\)</span> to make <span class="math inline">\(W_{ij}\)</span> normalized in world units.</li>
</ul></li>
<li>图形学渲染：radiance meter
<ul>
<li>brightness to change with image resolution</li>
</ul></li>
<li>实际的摄像机：photon counter
<ul>
<li>brightness to change with image resolution</li>
</ul></li>
</ul>
<h4 id="generalized-geometry-termggt">Generalized geometry
term(GGT)</h4>
<ul>
<li><span style="color:red;font-weight:bold">这部分暂时没啥看懂</span></li>
<li>"intensity" or "distance correction factor"</li>
<li>Consider the ray propagation function <span class="math inline">\(F:\mathbb{R^2}\to\mathbb{R^2}\)</span> that maps a
neighborhood of the camera sensor point <span class="math inline">\(P\)</span> through the admissible specular path
<span class="math inline">\(\bar{x}\)</span> to the imaginary plane
crossing the point light position, orthogonal to the last path segment.
The GGT is the value</li>
</ul>
<p><span class="math display">\[
G(\bar{x})=\dfrac{1}{|\det J_F(P)|}
\]</span></p>
<ul>
<li>We initialize position differentials <span class="math inline">\(P_x\)</span> and <span class="math inline">\(P_y\)</span> of unit length on the camera sensor
plane, and trace them along the specular path to the imaginary plane
crossing the point light position, orthogonal to the last path segment,
finding the final position differentials <span class="math inline">\(L_x\)</span> and <span class="math inline">\(L_y\)</span>. Finally, we can compute the GGT
as</li>
</ul>
<p><span class="math display">\[
G(\bar{x})=\dfrac{1}{|L_x\times L_y|}
\]</span></p>
<ul>
<li><span class="math inline">\(|L_x\times L_y|\)</span>
很小，结果不真实
<ul>
<li><span class="math inline">\(|L_x\times
L_y|\approx||L_x||\cdot||L_y||\cdot\max\{\epsilon,|normalize(L_y)\times
normalize(L_y)|),\}\)</span></li>
<li>A value of <span class="math inline">\(\epsilon = 0.01\)</span>
works well in general.</li>
<li>We observe that this regularization solves the issue of occasional
very bright glints, while not affecting the remaining glints.</li>
</ul></li>
</ul>
<h3 id="multiple-solutions">4.3 Multiple solutions</h3>
<ul>
<li>解可能不止一个
<ul>
<li>虽然我们实验上都是得到一个解，但是这不一定理论正确</li>
</ul></li>
</ul>
<h4 id="finding-all-discrete-solutions">Finding all discrete
solutions</h4>
<ul>
<li>问题
<ul>
<li>Even if a single solution exists, standard Newton’s method still
does not theoretically guarantee that the solution will be found.
<ul>
<li>一个解但是没找到</li>
</ul></li>
<li>Furthermore, there is a possibility of multiple discrete solutions
<ul>
<li>多个解</li>
</ul></li>
</ul></li>
<li>Both of these issues can be theoretically handled with the interval
version of Newton’s method, as suggested by Mitchell and Hanrahan [1992]
and Walter [2009].</li>
<li>我们实验发现差不多
<ul>
<li>可能的解释</li>
<li>our meshes already subdivided to small enough triangles, so multiple
solutions within a single triangle do not frequently occur in
practice</li>
</ul></li>
</ul>
<h4 id="infinite-solution-regions">Infinite solution regions</h4>
<ul>
<li>圆柱体，内部纯反射，光源和针孔摄像机放置在两头，中间的圆给出无穷多个解
<ul>
<li>无法求解</li>
<li>法线并非插值得到</li>
</ul></li>
<li>只能求解三角形，而且内部的法线是由插值得到的图形</li>
</ul>
<h2 id="conclusion-and-future-work">7. CONCLUSION AND FUTURE WORK</h2>
<ul>
<li>We use a path space hierarchy combined with interval arithmetic
bounds to efficiently prune non-contributing regions of path space, and
to slice the path space into small region where the search problem
becomes local. Finally, we isolate admissible specular paths by a Newton
solver applied to a constraint function, whose gradients are computed by
automatic differentiation.We discuss in detail how such discovered paths
should contribute to the image plane.</li>
</ul>
<h1 id="作者报告">作者报告</h1>
<ul>
<li>视频：https://www.bilibili.com/video/BV1Mi4y1N7Np</li>
<li>南京理工大学 王贝贝</li>
<li>GAMES 链接：http://games-cn.org/games-webinar-20210401-177/</li>
<li>代码：https://github.com/wangningbei/mbglints</li>
</ul>
<h2 id="notes">notes</h2>
<ul>
<li><p>现有的方法解决不能解决问题</p>
<ul>
<li>BDPT：很难在交汇处实现完美的镜面反射。折射</li>
<li>MLT：思路是在一开始的种子路径上，使用小的偏移找到新的路径
<ul>
<li>一开始的种子路径很难找到</li>
</ul></li>
</ul></li>
<li><p>论文的方法是确定性的结果，是没有噪声的</p></li>
<li><p>我们的方法可以作为 MLT 的种子路径</p></li>
<li><p>只能支持点光源</p></li>
<li><p>展示是基于 CPU</p></li>
</ul>
<h3 id="问题">问题</h3>
<ul>
<li>bounce 比较多的时候，搜索代价变大
<ul>
<li>论文最多 4-bounces</li>
</ul></li>
<li>牛顿法不能求出所有解
<ul>
<li>区间牛顿法可以，但是代价大</li>
<li>划分区间，用一个条件判断使得否只有唯一解，如果只有唯一解，利用牛顿法求解，否则继续细分</li>
</ul></li>
<li>AABB
包围盒比较松，在做法线和半角矢量是否有交判断中比较松（不能提前排除无解可能性）</li>
</ul>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/CG/" rel="tag"># CG</a>
              <a href="/tags/Paper/" rel="tag"># Paper</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2021/03/18/CG/YLQ-GAMES101/06/" rel="prev" title="GAMES101.闫令琪.06.光线追踪(3).蒙特卡洛路径追踪(Lecture 15-16)">
                  <i class="fa fa-chevron-left"></i> GAMES101.闫令琪.06.光线追踪(3).蒙特卡洛路径追踪(Lecture 15-16)
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2021/03/21/CG/YLQ-GAMES101/07/" rel="next" title="GAMES101.闫令琪.07.材质与外观(Lecture 17)">
                  GAMES101.闫令琪.07.材质与外观(Lecture 17) <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2021 – 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">banbao(990)</span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>


  
    <script src='https://unpkg.com/mermaid/dist/mermaid.min.js'></script>
  
    <script>
      if (window.mermaid) {
        mermaid.initialize({theme: 'forest'});
      }
    </script>

    </div>
  </footer>

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js" integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.0/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>


  <script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mermaid/9.1.7/mermaid.min.js","integrity":"sha256-G58AID1YoX5YaEtWfXSI0VLrZ6N4kvNvwg0BI8zUFxE="}}</script>
  <script src="/js/third-party/tags/mermaid.js"></script>

  <script src="/js/third-party/fancybox.js"></script>


  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
