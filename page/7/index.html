<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/page/7/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-Kits/links" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/11/12/Kits/links/" class="article-date">
  <time class="dt-published" datetime="2021-11-12T11:59:14.000Z" itemprop="datePublished">2021-11-12</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Kits/">Kits</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/11/12/Kits/links/">一些网站链接</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="一些网站链接"><a href="#一些网站链接" class="headerlink" title="一些网站链接"></a>一些网站链接</h1><h2 id="1-计算机"><a href="#1-计算机" class="headerlink" title="1. 计算机"></a>1. 计算机</h2><h3 id="1-数据库"><a href="#1-数据库" class="headerlink" title="(1) 数据库"></a>(1) 数据库</h3><ul>
<li><a target="_blank" rel="noopener" href="https://db-engines.com/en/ranking">数据库引擎排名</a></li>
<li>在线 SQL：<a target="_blank" rel="noopener" href="http://sqlfiddle.com/">sql fiddle</a></li>
</ul>
<h3 id="2-Matlab"><a href="#2-Matlab" class="headerlink" title="(2) Matlab"></a>(2) Matlab</h3><ul>
<li><a target="_blank" rel="noopener" href="https://ww2.mathworks.cn/products/matlab-online.html">在线使用</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/11/12/Kits/links/" data-id="cl9lj748k001c64tza9nq4vqq" data-title="一些网站链接" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Kits/" rel="tag">Kits</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-computation/pyr/07" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/11/12/computation/pyr/07/" class="article-date">
  <time class="dt-published" datetime="2021-11-12T06:50:02.000Z" itemprop="datePublished">2021-11-12</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/computation-pyr/">computation.pyr</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/11/12/computation/pyr/07/">计算方法B.裴玉茹.07.特征值与奇异值</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <ul>
<li>数值分析课本第 12 章（特征值与奇异值） + PPT（特征值）</li>
</ul>
<h1 id="特征值与奇异值"><a href="#特征值与奇异值" class="headerlink" title="特征值与奇异值"></a>特征值与奇异值</h1><ul>
<li>求解矩阵 $A$ 的特征值</li>
</ul>
<p>$$<br>\det(\lambda I-A)&#x3D;0<br>$$</p>
<h2 id="1-幂迭代方法"><a href="#1-幂迭代方法" class="headerlink" title="1. 幂迭代方法"></a>1. 幂迭代方法</h2><ul>
<li><strong>一次求出一个特征值</strong></li>
</ul>
<h3 id="1-1-幂迭代"><a href="#1-1-幂迭代" class="headerlink" title="1.1 幂迭代"></a>1.1 幂迭代</h3><ul>
<li>幂迭代的动机：<strong>与矩阵相乘可以将向量推向主特征向量的方向</strong></li>
</ul>
<h4 id="占优特征值"><a href="#占优特征值" class="headerlink" title="占优特征值"></a>占优特征值</h4><ul>
<li>令 $A$ 是一个 $m\times m$ 矩阵，$A$ 的<strong>占优特征值</strong>是量级比矩阵 $A$ 所有其他特征值都大的特征值 $\lambda$<ul>
<li>如果这样的特征值存在，与 $\lambda$ 相关的特征向量被称为<strong>占优特征向量</strong></li>
</ul>
</li>
<li><strong>绝对值最大的特征值</strong></li>
<li><strong>对于任意的初始向量，$A^{n}x$ 会趋近于占优特征向量</strong><ul>
<li>$x$ 可以由特征向量线性表出</li>
<li>$A^{n}x$ 会被<strong>占优特征向量</strong>占优</li>
<li>计算过程中，每一步都进行归一化，可以不让数字失去控制<ul>
<li><strong>这不影响占优</strong>，对所有向量都是一个等比例的操作</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="瑞利商"><a href="#瑞利商" class="headerlink" title="瑞利商"></a>瑞利商</h4><ul>
<li>Rayleigh</li>
<li>最小二乘<ul>
<li>特征值方程：$x\lambda&#x3D;Ax$<ul>
<li>其中，$x$ 是特征向量的近似</li>
</ul>
</li>
<li>法线方程：$x^{T}x\lambda&#x3D;x^{T}Ax\Rightarrow\lambda&#x3D;\dfrac{x^{T}Ax}{x^{T}x}$<ul>
<li>$Ax&#x3D;b\Rightarrow A^{T}Ax&#x3D;A^{T}b$</li>
</ul>
</li>
</ul>
</li>
<li><strong>瑞利商是在最小二乘意义下的最优特征值近似</strong></li>
</ul>
<h4 id="幂迭代算法"><a href="#幂迭代算法" class="headerlink" title="幂迭代算法"></a>幂迭代算法</h4><p>$$<br>\begin{array}{l}<br>给定初始向量\ x_0\<br>\begin{array}{rl}<br>\mathrm{for}&amp;j&#x3D;1,2,3,\cdots\<br>&amp;u_{j-1}&#x3D;\dfrac{x_{j-1}}{\Vert{x_{j-1}}\Vert_2}\<br>&amp;x_j&#x3D;Au_{j-1}\<br>&amp;\lambda_j&#x3D;u_{j-1}^{T}Au_{j-1}&#x3D;u_{j-1}^{T}x_{j}\<br>\mathrm{end}\<br>\end{array}\<br>u_{j}&#x3D;\dfrac{x_{j}}{\Vert{x_{j}}\Vert_2}\<br>\end{array}<br>$$</p>
<h3 id="1-2-幂迭代的收敛"><a href="#1-2-幂迭代的收敛" class="headerlink" title="1.2 幂迭代的收敛"></a>1.2 幂迭代的收敛</h3><img src="07/image-20211112160811435.jpg" style="zoom:80%;" />

<ul>
<li><strong>线性收敛</strong></li>
<li>收敛常数 $\left\vert\dfrac{\lambda_2}{\lambda_1}\right\vert$</li>
</ul>
<h4 id="证明"><a href="#证明" class="headerlink" title="证明"></a>证明</h4><ul>
<li>线性表出</li>
</ul>
<img src="07/image-20211112161201834.jpg" style="zoom:80%;" />



<h3 id="1-3-幂迭代的逆"><a href="#1-3-幂迭代的逆" class="headerlink" title="1.3 幂迭代的逆"></a>1.3 幂迭代的逆</h3><ul>
<li>幂迭代算法可以用于求解<strong>绝对值最大的特征值</strong></li>
<li>虽然可以通过每次减去最大特征值对应特征向量，来实现求解次大特征值，从而求解所有特征值</li>
<li>但是由于<strong>累计误差</strong>的存在，之后求解得到的特征值不可靠</li>
<li>幂迭代用于矩阵的<strong>逆矩阵</strong>，则可以求解<strong>绝对值最小的特征值</strong></li>
</ul>
<h4 id="引理"><a href="#引理" class="headerlink" title="引理"></a>引理</h4><img src="07/image-20211112161725277.jpg" style="zoom:80%;" />

<ul>
<li>证明</li>
</ul>
<p>$$<br>\begin{array}{rl}<br>Av_1&#x3D;\lambda_1v_1&amp;\Rightarrow v_1&#x3D;A^{-1}\lambda_1v_1\<br>&amp;\Rightarrow A^{-1}v_1&#x3D;\lambda_1^{-1}v_1\<br>Av_1&#x3D;\lambda_1v_1&amp;\Rightarrow (A-sI)v_1&#x3D;Av_1-sv_1&#x3D;(\lambda_1-s)v_1&amp;\<br>\end{array}<br>$$</p>
<ul>
<li><strong>求逆</strong>等价于<strong>高斯消去</strong></li>
</ul>
<p>$$<br>x_{k+1}&#x3D;A^{-1}x_k\Longleftrightarrow Ax_{k+1}&#x3D;x_k<br>$$</p>
<ul>
<li>加上转移矩阵，如果我们知道特征值的近似，可以求出这个特征值<ul>
<li>离这个特征值最近（最小）</li>
</ul>
</li>
</ul>
<h4 id="逆向幂迭代算法"><a href="#逆向幂迭代算法" class="headerlink" title="逆向幂迭代算法"></a>逆向幂迭代算法</h4><p>$$<br>\begin{array}{l}<br>给定初始向量\ x_0,平移\ s\<br>\begin{array}{rl}<br>\mathrm{for}&amp;j&#x3D;1,2,3,\cdots\<br>&amp;u_{j-1}&#x3D;\dfrac{x_{j-1}}{\Vert{x_{j-1}}\Vert_2}\<br>&amp;求解\ (A-sI)x_j&#x3D;u_{j-1}\<br>&amp;\lambda_j&#x3D;u_{j-1}^{T}(A-sI)^{-1}u_{j-1}&#x3D;u_{j-1}^{T}x_{j}\<br>\mathrm{end}\<br>\end{array}\<br>u_{j}&#x3D;\dfrac{x_{j}}{\Vert{x_{j}}\Vert_2}\<br>\end{array}<br>$$</p>
<h3 id="1-4-瑞利商迭代-RQI"><a href="#1-4-瑞利商迭代-RQI" class="headerlink" title="1.4 瑞利商迭代(RQI)"></a>1.4 瑞利商迭代(RQI)</h3><ul>
<li>在逆向幂迭代算法中，同时更新近似的特征值 $s\to \lambda_{j-1}$</li>
</ul>
<h4 id="瑞利商算法"><a href="#瑞利商算法" class="headerlink" title="瑞利商算法"></a>瑞利商算法</h4><ul>
<li>求得的特征值就是原始矩阵 $A$ 的占优特征值<ul>
<li>依赖于：<strong>逆矩阵、转移矩阵的特征向量和原始矩阵相同</strong></li>
</ul>
</li>
</ul>
<p>$$<br>\begin{array}{l}<br>给定初始向量\ x_0\<br>\begin{array}{rl}<br>\mathrm{for}&amp;j&#x3D;1,2,3,\cdots\<br>&amp;u_{j-1}&#x3D;\dfrac{x_{j-1}}{\Vert{x_{j-1}}\Vert_2}\<br>&amp;\lambda_j&#x3D;u_{j-1}^{T}Au_{j-1}\<br>&amp;求解\ (A-\lambda_{j}I)x_j&#x3D;u_{j-1}\<br>\mathrm{end}\<br>\end{array}\<br>u_{j}&#x3D;\dfrac{x_{j}}{\Vert{x_{j}}\Vert_2}\<br>\end{array}<br>$$</p>
<h3 id="1-5-总结"><a href="#1-5-总结" class="headerlink" title="1.5 总结"></a>1.5 总结</h3><ul>
<li>收敛速度<ul>
<li>逆向幂迭代线性收敛</li>
<li>瑞利商迭代则二次收敛到单特征值（非重复），如果矩阵对称则可以得到三次收敛</li>
</ul>
</li>
<li>收敛后矩阵 $A-\lambda_{j-1}I$ 为奇异矩阵，不能继续迭代<ul>
<li>因而可以通过误差测试使得在这种情况出现之前终止迭代（<strong>提前结束</strong>）</li>
</ul>
</li>
<li>RQI 复杂度提高了<ul>
<li>$Ax&#x3D;b$ 中如果 $A$ 不改变，则只需要一次 LU 分解，参考 <a href="/2021/10/02/computation/pyr/03/#lu-%E5%88%86%E8%A7%A3%E7%9A%84%E5%A5%BD%E5%A4%84">note</a><ul>
<li>逆向幂迭代仅仅需要一次 LU 分解</li>
<li>但是对于 RQI，每步还需要一次分解，这是由于平移量的改变</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="2-QR-方法"><a href="#2-QR-方法" class="headerlink" title="2. QR 方法"></a>2. QR 方法</h2><ul>
<li><strong>一次求出所有特征值</strong></li>
</ul>
<h3 id="2-1-同时迭代"><a href="#2-1-同时迭代" class="headerlink" title="2.1 同时迭代"></a>2.1 同时迭代</h3><ul>
<li><strong>对称矩阵</strong></li>
<li><strong>对称矩阵</strong>的特征值为实数，其特征向量构成 $\mathbb{R}^{m}$ 空间的一组单位正交基</li>
<li>思路：<strong>初始给定一组正交基，同时幂迭代，得到最终的特征向量</strong></li>
<li>但是幂迭代会让任意向量趋向占优特征向量<ul>
<li>每次迭代结束对其正交化</li>
<li>假设 $\lambda_1$ 准确找到，那么 $Av_2$ 向量最终会趋向于次优特征向量（<strong>因为没有占优特征向量的成分</strong>）</li>
</ul>
</li>
</ul>
<h4 id="一个例子"><a href="#一个例子" class="headerlink" title="一个例子"></a>一个例子</h4><ul>
<li>初始正交基为<strong>初等基向量</strong></li>
<li><a target="_blank" rel="noopener" href="https://banbao991.github.io/2021/10/28/computation/pyr/05/#qr-%E5%88%86%E8%A7%A3">QR 分解</a></li>
</ul>
<img src="07/image-20211112182101285.jpg" style="zoom:80%;" />

<img src="07/image-20211112182520024.jpg" style="zoom:80%;" />



<h4 id="算法"><a href="#算法" class="headerlink" title="算法"></a>算法</h4><p>$$<br>\begin{array}{rll}<br>设&amp; \overline{Q}<em>0&#x3D;I&amp;\<br>\mathrm{for}&amp;j&#x3D;1,2,3,\cdots&amp;\<br>&amp;A\overline{Q}<em>j&#x3D;\overline{Q}</em>{j+1}R</em>{j+1}&amp;(QR分解)\<br>\mathrm{end}&amp;&amp;\<br>\end{array}\<br>$$</p>
<ul>
<li>在第 $j$ 步中，$\overline{Q}<em>j$ 的列就是 $A$ 的<strong>特征向量的近似</strong>，对角线元素 $r</em>{ii}$ 是<strong>近似的特征值</strong></li>
</ul>
<h4 id="无移动的-QR-算法"><a href="#无移动的-QR-算法" class="headerlink" title="无移动的 QR 算法"></a>无移动的 QR 算法</h4><ul>
<li>原始迭代：$\overline{Q}_0&#x3D;I$<ul>
<li>12.7</li>
</ul>
</li>
</ul>
<p>$$<br>\begin{array}{c}<br>A\overline{Q}_0&#x3D;\overline{Q}_1R_1\<br>A\overline{Q}_1&#x3D;\overline{Q}_2R_2\<br>A\overline{Q}_2&#x3D;\overline{Q}_3R_3\<br>\cdots<br>\end{array}<br>$$</p>
<ul>
<li>相似的迭代：$Q_0&#x3D;I$（<strong>无移动的 QR 算法</strong>）<ul>
<li>12.8</li>
</ul>
</li>
</ul>
<p>$$<br>\begin{array}{c}<br>A_0\equiv AQ_0&#x3D;Q_1R_1’\<br>A_1\equiv R_1’Q_1&#x3D;Q_2R_2’\<br>A_2\equiv R_2’Q_2&#x3D;Q_3R_3’\<br>\cdots<br>\end{array}<br>$$</p>
<ul>
<li>区别：用 ${\color{red}R_i’}Q_i$ 代替 ${\color{red}A}Q_i$</li>
</ul>
<img src="07/image-20211112230208575.jpg" style="zoom:80%;" />

<ul>
<li>因此输出的特征向量矩阵为 $\overline{Q}<em>j&#x3D;Q_1\cdots Q</em>{j-1}$</li>
<li><span id="ac1">定理</span></li>
</ul>
<img src="07/image-20211112231434978.jpg" style="zoom:80%;" />

<ul>
<li><strong>对称条件</strong></li>
</ul>
<h3 id="2-2-实数舒尔形式和-QR-算法"><a href="#2-2-实数舒尔形式和-QR-算法" class="headerlink" title="2.2 实数舒尔形式和 QR 算法"></a>2.2 实数舒尔形式和 QR 算法</h3><ul>
<li>QR 算法找到矩阵 A 的特征值的方式是寻找相似矩阵，该相似矩阵对应的特征值更明显<ul>
<li><strong>相似矩阵具有相同的特征值，但是不一定有相同的特征向量</strong></li>
</ul>
</li>
<li><strong>一个例子是实数舒尔形式</strong></li>
</ul>
<h4 id="实数舒尔形式"><a href="#实数舒尔形式" class="headerlink" title="实数舒尔形式"></a>实数舒尔形式</h4><img src="07/image-20211113112819206.jpg" style="zoom:80%;" />

<h5 id="定理"><a href="#定理" class="headerlink" title="定理"></a>定理</h5><ul>
<li>令 $A$ 是<strong>实数</strong>元素的方阵，则存在<strong>正交矩阵 $Q$</strong> 以及**实数舒尔形式的矩阵 $T$**，满足 $A&#x3D;Q^TTQ$</li>
</ul>
<h4 id="平移版本"><a href="#平移版本" class="headerlink" title="平移版本"></a>平移版本</h4><ul>
<li>一步迭代：先平移，完成 QR 分解之后平移回来</li>
</ul>
<p>$$<br>\begin{array}{rl}<br>A_0-sI&amp;&#x3D;Q_1R_1\<br>A_1&amp;&#x3D;R_1Q_1+sI\<br>\end{array}<br>$$</p>
<ul>
<li>注意到</li>
</ul>
<p>$$<br>A_1-sI&#x3D;R_1Q_1&#x3D;Q_1^{T}(A_0-sI)Q_1&#x3D;Q_1^{T}A_0Q_1-sI<br>$$</p>
<ul>
<li>于是重复上述步骤，我们能够得到一系列和 $A_0$ 相似的矩阵 $A_k$</li>
<li><strong>最优的平移</strong></li>
</ul>
<img src="07/image-20211113131524167.jpg" style="zoom:80%;" />

<ul>
<li>算法如下</li>
</ul>
<img src="07/image-20211113132517051.jpg" style="zoom:80%;" />

<ul>
<li>该算法基于<a href="#ac1">上面的定理</a>，如下情况会出问题<ul>
<li><strong>复数特征值</strong></li>
<li><strong>相同量级的实数特征值</strong></li>
</ul>
</li>
</ul>
<h4 id="复数特征值"><a href="#复数特征值" class="headerlink" title="复数特征值"></a>复数特征值</h4><ul>
<li>为了计算<strong>复数特征值</strong>，我们需要允许对角线上有 $2\times 2$ 的块<ul>
<li>如果在指定次数的迭代后无法得到特征值，则收缩 $2\times 2$</li>
</ul>
</li>
</ul>
<img src="07/image-20211113133203701.jpg" style="zoom:80%;" />

<ul>
<li>对于重复的复数特征值，无法解决，例如</li>
</ul>
<img src="07/image-20211113133539855.jpg" style="zoom:80%;" />



<h3 id="2-3-上海森伯格形式"><a href="#2-3-上海森伯格形式" class="headerlink" title="2.3 上海森伯格形式"></a>2.3 上海森伯格形式</h3><img src="07/image-20211113133752055.jpg" style="zoom:80%;" />

<ul>
<li>如果首先将 $A$ 变换为上海森伯格形式，QR 算法的效率可以大大提高</li>
<li>这种思想是在 QR 迭代之前应用相似变换，在 $A$ 中放置尽可能多的 0，而同时保持特征值</li>
<li>此外，上海森伯格形式将消去我们已经推导的 QR 算法形式中最后的难点，<strong>可以收敛到重复的复数特征值</strong>，这是通过保证 QR 迭代总能收敛到 $1\times1$ 或者 $2\times2$ 的块</li>
</ul>
<h4 id="定理-1"><a href="#定理-1" class="headerlink" title="定理"></a>定理</h4><ul>
<li>令 $A$ 是<strong>实数</strong>元素的方阵，则存在<strong>正交矩阵 $Q$</strong> 以及**上海森伯格形式的矩阵 $B$**，满足 $A&#x3D;Q^TBQ$</li>
<li><a href="/2021/10/28/computation/pyr/05/#%E8%B1%AA%E6%96%AF%E9%9C%8D%E5%B0%94%E5%BE%B7%E5%8F%8D%E5%B0%84%E5%AD%90">豪斯霍尔德反射子</a></li>
</ul>
<h4 id="算法-1"><a href="#算法-1" class="headerlink" title="算法"></a>算法</h4><img src="07/image-20211113163149134.jpg" style="zoom:80%;" />

<ul>
<li>MATLAB 算法<ul>
<li>$H&#x3D;I-2P$：查看之前的<a href="/2021/10/28/computation/pyr/05/#%E8%B1%AA%E6%96%AF%E9%9C%8D%E5%B0%94%E5%BE%B7%E5%8F%8D%E5%B0%84%E5%AD%90">笔记</a></li>
</ul>
</li>
</ul>
<img src="07/image-20211113164658972.jpg" style="zoom:80%;" />

<ul>
<li>上海森伯格形式对于特征值计算的优势<ul>
<li>仅有 $2\times2$ 的块可以出现在 QR 算法中的对角线上</li>
<li>这避免了前面章节中<strong>重复的复数特征值</strong>所带来的计算困难</li>
</ul>
</li>
</ul>
<h3 id="2-4-总结"><a href="#2-4-总结" class="headerlink" title="2.4 总结"></a>2.4 总结</h3><ul>
<li>利用相似矩阵有相同的特征值，构造特征值更明显的相似矩阵</li>
<li><strong><span style="color:red">问题</span></strong><ul>
<li>没太懂上海森伯格形式为啥解决了重复复数特征值的问题</li>
<li>怎么解决重复的实数特征值问题的</li>
</ul>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/11/12/computation/pyr/07/" data-id="cl9lj74ah00cy64tze8gkf6p5" data-title="计算方法B.裴玉茹.07.特征值与奇异值" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/computation/" rel="tag">computation</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-csharp/tds/09" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/11/08/csharp/tds/09/" class="article-date">
  <time class="dt-published" datetime="2021-11-08T06:43:02.000Z" itemprop="datePublished">2021-11-08</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/csharp-tds/">csharp.tds</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/11/08/csharp/tds/09/">C#程序设计.唐大仕.09.文本处理及正则表达式</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <ul>
<li><a target="_blank" rel="noopener" href="https://www.icourse163.org/learn/PKU-1001663016">中国大学慕课</a></li>
</ul>
<h1 id="文本处理及正则表达式"><a href="#文本处理及正则表达式" class="headerlink" title="文本处理及正则表达式"></a>文本处理及正则表达式</h1><h2 id="1-基于文本的应用"><a href="#1-基于文本的应用" class="headerlink" title="1. 基于文本的应用"></a>1. 基于文本的应用</h2><h3 id="控制台应用程序"><a href="#控制台应用程序" class="headerlink" title="控制台应用程序"></a>控制台应用程序</h3><ul>
<li>Main() 函数的参数——命令行参数<ul>
<li>可以带 string[] 参数</li>
<li>可以有返回值 (int)，也可以为 void</li>
</ul>
</li>
</ul>
<h3 id="Environment-类"><a href="#Environment-类" class="headerlink" title="Environment 类"></a>Environment 类</h3><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">CommandLine</span><br><span class="line">CommandLineArgs</span><br><span class="line">MachineName</span><br><span class="line">OSVersion</span><br><span class="line">UserDomainName</span><br><span class="line">UserName</span><br><span class="line">GetEnvironmentVariables</span><br><span class="line">CurrentDirectory</span><br><span class="line">SystemDirectory</span><br><span class="line">GetFolderPath(Environment.SpecialFolder.System)</span><br></pre></td></tr></table></figure>



<h2 id="2-文本处理常用的几个类"><a href="#2-文本处理常用的几个类" class="headerlink" title="2. 文本处理常用的几个类"></a>2. 文本处理常用的几个类</h2><ul>
<li>Console 类</li>
</ul>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Write</span><br><span class="line">WriteLine</span><br><span class="line">ReadLine</span><br></pre></td></tr></table></figure>

<ul>
<li>String 类</li>
<li>StringBuilder 类</li>
<li>System.Text.Encoding 类</li>
</ul>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.Default</span><br><span class="line">.UTF8</span><br><span class="line">.GetEncoding</span><br><span class="line">.GetBytes(str)</span><br><span class="line">.GetString(byte[])</span><br></pre></td></tr></table></figure>



<h2 id="3-正则表达式"><a href="#3-正则表达式" class="headerlink" title="3. 正则表达式"></a>3. 正则表达式</h2><ul>
<li>Regular Expression</li>
<li>用来表示匹配某类文本</li>
</ul>
<h3 id="要素"><a href="#要素" class="headerlink" title="要素"></a>要素</h3><h4 id="字符"><a href="#字符" class="headerlink" title="字符"></a>字符</h4><ul>
<li><code>ab</code>，<code>\t</code>，<code>\[</code>，<code>\u0020</code>，<code>\x20</code></li>
<li><code>[a-zA-z]</code> 即 <code>\w</code></li>
<li><code>[0-9]</code> 即 <code>\d</code></li>
<li><code>[^0-9]</code> 即 <code>\D</code></li>
<li><code>\s</code> 即空白</li>
<li><code>\S</code> 即非空白</li>
<li><code>.</code> 表任意</li>
</ul>
<h4 id="次数"><a href="#次数" class="headerlink" title="次数"></a>次数</h4><ul>
<li><code>&#123;2,6&#125;</code></li>
<li><code>*</code> 即 <code>&#123;0,&#125;</code></li>
<li><code>+</code> 即 <code>&#123;1,&#125;</code></li>
<li><code>?</code> 即 <code>&#123;0,1&#125;</code></li>
<li><code>*?</code>，<code>+?</code>，<code>??</code> 表示 lazy 匹配<ul>
<li>匹配上一个就结束</li>
<li>正常为 greedy 匹配，尽可能匹配上更多的字符</li>
</ul>
</li>
</ul>
<h4 id="功能符"><a href="#功能符" class="headerlink" title="功能符"></a>功能符</h4><ul>
<li><code>|</code> 表示或者</li>
<li><code>()</code> 表示成组</li>
<li><code>(?&lt;名称&gt;xxxxxxxx)</code> 表示对分组进行命名<ul>
<li>在替换时, 使用 <code>$&#123;名称&#125;</code></li>
<li>若不命名，则为 <code>$1</code>、<code>$2</code> 等等，<code>$0</code> 表示整个匹配</li>
</ul>
</li>
<li><code>(?i:xxxxxxxxx)</code> 表示选项（i 表示忽略大小写）<ul>
<li>MulitLine<ul>
<li><code>^</code>、<code>$</code> 的含义变为整个文本的首尾</li>
</ul>
</li>
<li>SingleLine<ul>
<li>影响 <code>.</code> 的含义，不匹配 <code>\r\n</code></li>
</ul>
</li>
</ul>
</li>
<li>预编译</li>
</ul>
<h4 id="位置限定"><a href="#位置限定" class="headerlink" title="位置限定"></a>位置限定</h4><ul>
<li><code>^</code> （首）</li>
<li><code>$</code> （尾）</li>
<li><code>\b</code> 单词边界</li>
<li><code>\B</code> 非单词边界</li>
</ul>
<h3 id="正则表达式工具"><a href="#正则表达式工具" class="headerlink" title="正则表达式工具"></a>正则表达式工具</h3><ul>
<li><a href="/resources/Code/csharp/tds/09/Expresso.zip">Exprsso</a></li>
</ul>
<h3 id="正则表达式类"><a href="#正则表达式类" class="headerlink" title="正则表达式类"></a>正则表达式类</h3><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Text.RegularExpressions;</span><br></pre></td></tr></table></figure>

<ul>
<li>Static方法</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Regex.IsMatch( s, pattern );</span><br></pre></td></tr></table></figure>

<ul>
<li>Regex 对象</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">IsMatch(s);</span><br><span class="line">Match(s);</span><br><span class="line">Matches(s);</span><br><span class="line">Replace(s, r);</span><br></pre></td></tr></table></figure>

<ul>
<li>Match 对象</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Groups;        <span class="comment">// 各组</span></span><br><span class="line">Value;         <span class="comment">// 原串</span></span><br><span class="line">Result(xxxxx); <span class="comment">// 替换</span></span><br></pre></td></tr></table></figure>



<h3 id="代码示例"><a href="#代码示例" class="headerlink" title="代码示例"></a>代码示例</h3><ul>
<li><a href="/utils/show_code/index.html?csharp/tds/09/Regex1.cs">Regex1</a></li>
<li><a href="/utils/show_code/index.html?csharp/tds/09/Regex2.cs">Regex2</a></li>
<li><a href="/resources/Code/csharp/tds/09/lrcPlayer.zip">音乐播放器</a><ul>
<li>工具箱 $\to$ 常规（右键） $\to$ 通用 windows 组件 $\to$ <code>AxWMPLib.AxWindowsMediaPlayer</code></li>
</ul>
</li>
</ul>
<img src="09/image-20211108155019582.png" style="zoom:80%;" />






      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/11/08/csharp/tds/09/" data-id="cl9lj74bm00ke64tzgcybccoh" data-title="C#程序设计.唐大仕.09.文本处理及正则表达式" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/csharp/" rel="tag">csharp</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-CG/Kits/rt1w" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/11/06/CG/Kits/rt1w/" class="article-date">
  <time class="dt-published" datetime="2021-11-06T08:32:36.000Z" itemprop="datePublished">2021-11-06</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/CG-Kits/">CG.Kits</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/11/06/CG/Kits/rt1w/">Ray Tracing in One Weekend</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <ul>
<li><a target="_blank" rel="noopener" href="https://raytracing.github.io/books/RayTracingInOneWeekend.html">Ray Tracing in One Weekend</a></li>
</ul>
<h1 id="Ray-Tracing-in-One-Weekend"><a href="#Ray-Tracing-in-One-Weekend" class="headerlink" title="Ray Tracing in One Weekend"></a>Ray Tracing in One Weekend</h1><ul>
<li>版本：<code>3.2.3</code>， <code>2020-12-07</code></li>
<li>光追框架理解</li>
<li>工程能力训练</li>
</ul>
<h2 id="1-ppm-文件格式"><a href="#1-ppm-文件格式" class="headerlink" title="1. ppm 文件格式"></a>1. ppm 文件格式</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 文件头</span></span><br><span class="line">P3           <span class="comment"># &quot;P3&quot; 表示这是一张 RGB 颜色空间的图片, 使用 ASCII 编码</span></span><br><span class="line"><span class="number">3</span> <span class="number">2</span>          <span class="comment"># 图片大小为 3*2</span></span><br><span class="line"><span class="number">255</span>          <span class="comment"># 255 表示最大的颜色编码</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 文件数据</span></span><br><span class="line"><span class="number">255</span>   <span class="number">0</span>   <span class="number">0</span>  <span class="comment"># red</span></span><br><span class="line">  <span class="number">0</span> <span class="number">255</span>   <span class="number">0</span>  <span class="comment"># green</span></span><br><span class="line">  <span class="number">0</span>   <span class="number">0</span> <span class="number">255</span>  <span class="comment"># blue</span></span><br><span class="line"><span class="number">255</span> <span class="number">255</span>   <span class="number">0</span>  <span class="comment"># yellow</span></span><br><span class="line"><span class="number">255</span> <span class="number">255</span> <span class="number">255</span>  <span class="comment"># white</span></span><br><span class="line">  <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>  <span class="comment"># black</span></span><br></pre></td></tr></table></figure>

<ul>
<li>上面例子的图片如下</li>
</ul>
<img src="rt1w/Tiny6pixel.png" alt="img" style="zoom: 50%;" />

<ul>
<li>windows 可以使用工具 <a target="_blank" rel="noopener" href="https://www.xnview.com/en/">xnview</a> 查看<ul>
<li>xnview 好像不支持 <code>P3</code> 格式，支持 <code>P6</code> 格式</li>
</ul>
</li>
<li><code>P3</code> 和 <code>P6</code> 格式的唯一区别就是 <code>P3</code> 使用 ASCII 码存储，而 <code>P6</code> 使用二进制存储</li>
<li>图像头文件库：<a target="_blank" rel="noopener" href="https://github.com/nothings/stb">stb_image.h</a></li>
</ul>
<h2 id="2-坐标系说明"><a href="#2-坐标系说明" class="headerlink" title="2. 坐标系说明"></a>2. 坐标系说明</h2><ul>
<li>视点：$(0,0,0)$</li>
<li>视窗<ul>
<li>高度设置为 $2$，宽度由 <code>aspect ratio</code> 计算得到（一般使用 <code>16:9</code>）</li>
<li>$z&#x3D;-1$：<code>focal length</code></li>
</ul>
</li>
</ul>
<img src="rt1w/fig-1.03-cam-geom.jpg" style="zoom: 50%;" />



<h2 id="3-光线与球求交"><a href="#3-光线与球求交" class="headerlink" title="3. 光线与球求交"></a>3. 光线与球求交</h2><p>$$<br>\begin{array}{c}<br>(\mathbf{P}(t) - \mathbf{C}) \cdot (\mathbf{P}(t) - \mathbf{C}) &#x3D; r^2\<br>(\mathbf{A} + t \mathbf{b} - \mathbf{C})<br>\cdot (\mathbf{A} + t \mathbf{b} - \mathbf{C}) &#x3D; r^2\<br>t^2 \mathbf{b} \cdot \mathbf{b}</p>
<ul>
<li>2t \mathbf{b} \cdot (\mathbf{A}-\mathbf{C})</li>
<li>(\mathbf{A}-\mathbf{C}) \cdot (\mathbf{A}-\mathbf{C}) - r^2 &#x3D; 0\<br>\end{array}<br>$$</li>
</ul>
<img src="rt1w/fig-1.04-ray-sphere.jpg" style="zoom:50%;" />

<ul>
<li>简化，令 $b&#x3D;2h$</li>
</ul>
<p>$$<br>\frac{-b \pm \sqrt{b^2 - 4ac}}{2a}&#x3D;&#x3D; \frac{-h \pm \sqrt{h^2 - ac}}{a}<br>$$</p>
<ul>
<li>判断光线是从圆内部射出还是外部射入</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">bool</span> front_face;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">dot</span>(ray_direction, outward_normal) &gt; <span class="number">0.0</span>) &#123;</span><br><span class="line">    <span class="comment">// ray is inside the sphere</span></span><br><span class="line">    normal = -outward_normal; <span class="comment">// 此时法线反向</span></span><br><span class="line">    front_face = <span class="literal">false</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// ray is outside the sphere</span></span><br><span class="line">    normal = outward_normal;</span><br><span class="line">    front_face = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<img src="rt1w/fig-1.06-normal-sides.jpg" style="zoom:50%;" />











<h2 id="4-抗锯齿"><a href="#4-抗锯齿" class="headerlink" title="4. 抗锯齿"></a>4. 抗锯齿</h2><ul>
<li>对每一个像素产生多条光线</li>
</ul>
<img src="rt1w/fig-1.07-pixel-samples.jpg" style="zoom:50%;" />

<ul>
<li></li>
</ul>
<h2 id="5-漫反射材质"><a href="#5-漫反射材质" class="headerlink" title="5. 漫反射材质"></a>5. 漫反射材质</h2><ul>
<li>diffuse</li>
</ul>
<img src="rt1w/fig-1.08-light-bounce.jpg" style="zoom:67%;" />

<ul>
<li>随机出射<ul>
<li>在<strong>球体内部</strong>随机采样：<strong>在一个正方体中采样，判断长度是否落在球体内部</strong></li>
</ul>
</li>
</ul>
<img src="rt1w/fig-1.09-rand-vec.jpg" style="zoom:50%;" />



<ul>
<li>上述采样方法，假设出射光线和法线的夹角为 $\phi$，那么概率分布密度函数系数为 $\cos^{3}{\phi}$<ul>
<li>算出来是 $\cos^{3}{\phi}\sin{\phi}$<ul>
<li>注意是 3D 的</li>
</ul>
</li>
<li>因为入射光线和法线的夹角大多较大，因此整体结果偏黑</li>
</ul>
</li>
<li>朗伯反射的系数应该是  $\cos{\phi}$<ul>
<li>实现方式，在<strong>球的表面上</strong>均匀采点，小球面均匀采样 $\mathbf{S}$，等价于大半球面朗伯采样 $\mathbf{S}_2$</li>
<li>小球面：$\mathrm{d}\omega$</li>
<li>大球面：$\mathrm{d}\omega_2$</li>
</ul>
</li>
</ul>
<p>$$<br>\begin{aligned}<br>\mathrm{d}\omega<br>&amp;&#x3D;\sin{2\phi};\mathrm{d}\theta\mathrm{d}2\phi\<br>&amp;&#x3D;2\sin{2\phi};\mathrm{d}\theta\mathrm{d}\phi\<br>&amp;&#x3D;4\cos{\phi}\sin{\phi};\mathrm{d}\theta\mathrm{d}\phi\<br>&amp;&#x3D;4\cos{\phi};\mathrm{d}\omega_2\<br>\end{aligned}<br>$$</p>
<img src="rt1w/image-20220404125152888.png" style="zoom: 50%;" />

<ul>
<li>之前还有一种采样方式，随机采一条单位长度的光线，让后判断它和法线是否在同一个法向半球内<ul>
<li><strong>法向半球采样</strong></li>
</ul>
</li>
</ul>
<img src="rt1w/fig-1.10-rand-unitvec.png" style="zoom:50%;" />

<h3 id="不同采样方式-10spp"><a href="#不同采样方式-10spp" class="headerlink" title="不同采样方式 10spp"></a>不同采样方式 10spp</h3><ul>
<li>法向半球采样</li>
</ul>
<p><img src="/rt1w/semisphere_inner.png"></p>
<ul>
<li>球体表面采样（朗伯采样）</li>
</ul>
<p><img src="/rt1w/sphere_surface.png"></p>
<ul>
<li>球体内部采样，单位化</li>
</ul>
<p><img src="/rt1w/sphere_inner_flatten_to_surface.png"></p>
<ul>
<li>球体内部采样</li>
</ul>
<p><img src="/rt1w/sphere_inner.png"></p>
<h2 id="6-纯镜面材质"><a href="#6-纯镜面材质" class="headerlink" title="6. 纯镜面材质"></a>6. 纯镜面材质</h2><img src="rt1w/fig-1.11-reflection.jpg" style="zoom: 80%;" />

<h3 id="磨砂材质"><a href="#磨砂材质" class="headerlink" title="磨砂材质"></a>磨砂材质</h3><img src="rt1w/fig-1.12-reflect-fuzzy.jpg" style="zoom: 80%;" />

<ul>
<li>反射方向周围采样一个偏折角</li>
</ul>
<h2 id="7-绝缘体材质"><a href="#7-绝缘体材质" class="headerlink" title="7. 绝缘体材质"></a>7. 绝缘体材质</h2><ul>
<li>Dielectrics<ul>
<li><strong>Clear materials</strong> such as <strong>water</strong>, <strong>glass</strong>, and <strong>diamonds</strong> are dielectrics.</li>
</ul>
</li>
<li>同时有折射、反射</li>
<li>实现：每次只取一个方向（折射 &#x2F; 反射）</li>
<li>折射定律</li>
</ul>
<img src="rt1w/fig-1.13-refraction.jpg" style="zoom: 80%;" />
$$
\eta \cdot \sin\theta = \eta' \cdot \sin\theta'
$$

<ul>
<li>入射方向指向交点，出射方向从交点指出</li>
<li>分量分解，出射光线 $\mathbf{R’}$</li>
</ul>
<p>$$<br>\mathbf{R’}&#x3D;\mathbf{R’}<em>{\bot}+\mathbf{R’}</em>{\parallel}<br>$$</p>
<ul>
<li>垂直法线分量</li>
</ul>
<p>$$<br>\begin{array}{c}<br>\eta’\mathbf{R’}<em>{\bot}&#x3D;\eta\mathbf{R}</em>{\bot}&#x3D;\eta(\mathbf{R}-\mathbf{R’}<em>{\parallel})&#x3D;\eta(\mathbf{R}+\cos\theta\mathbf{n})&#x3D;\eta(\mathbf{R}-(\mathbf{n}\cdot\mathbf{R})\mathbf{n})\<br>\mathbf{R’}</em>{\bot}&#x3D;\dfrac{\eta}{\eta’}(\mathbf{R}-(\mathbf{n}\cdot\mathbf{R})\mathbf{n})\<br>\end{array}<br>$$</p>
<ul>
<li>平行法线分量</li>
</ul>
<p>$$<br>\mathbf{R’}<em>{\parallel} &#x3D; -\sqrt{1 - |\mathbf{R’}</em>{\bot}|^2} \mathbf{n}<br>$$</p>
<h3 id="Schlick-不等式估计反射的概率"><a href="#Schlick-不等式估计反射的概率" class="headerlink" title="Schlick 不等式估计反射的概率"></a>Schlick 不等式估计反射的概率</h3><ul>
<li>近似菲涅尔项</li>
</ul>
<p>$$<br>R(\theta) &#x3D; R_0 + (1 - R_0)(1 - \cos \theta)^5<br>$$</p>
<p>$$<br>R_0&#x3D;\left(\frac{n_1-n_2}{n_1+n_2}\right)^2 &#x3D; \left(\dfrac{\dfrac{n_1}{n_2}-1}{\dfrac{n_1}{n_2}+1}\right)^2&#x3D; \left(\dfrac{\dfrac{n_2}{n_1}-1}{\dfrac{n_2}{n_1}+1}\right)^2<br>$$</p>
<h3 id="球的法向反向"><a href="#球的法向反向" class="headerlink" title="球的法向反向"></a>球的法向反向</h3><ul>
<li>半径设置为负数，这样可以让法相反向<ul>
<li>因为我们在计算法相的时候，有一个除以半径的操作</li>
</ul>
</li>
</ul>
<h2 id="8-相机"><a href="#8-相机" class="headerlink" title="8. 相机"></a>8. 相机</h2><ul>
<li>相机参数，<code>y-z</code> 平面</li>
</ul>
<img src="rt1w/fig-1.14-cam-view-geom.jpg" style="zoom: 80%;" />

<ul>
<li>lookfrom、lookat</li>
</ul>
<img src="rt1w/fig-1.15-cam-view-dir.jpg" style="zoom: 50%;" />

<ul>
<li>vup：用于表示相机的倾斜程度<ul>
<li>从而建立起坐标系</li>
</ul>
</li>
</ul>
<img src="rt1w/fig-1.16-cam-view-up.jpg" style="zoom: 50%;" />

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vec3 w = (lookfrom - lookat).<span class="built_in">unit_vector</span>();</span><br><span class="line">vec3 u = vup.<span class="built_in">cross</span>(w).<span class="built_in">unit_vector</span>();</span><br><span class="line">vec3 v = w.<span class="built_in">cross</span>(u);</span><br></pre></td></tr></table></figure>



<h2 id="9-透镜焦距效果"><a href="#9-透镜焦距效果" class="headerlink" title="9. 透镜焦距效果"></a>9. 透镜焦距效果</h2><ul>
<li>defocus blur</li>
<li>depth of field：景深</li>
<li>focus distance<ul>
<li>the distance between the projection point and the plane where everything is in perfect focus</li>
<li>controlled by <strong>the distance between the lens and the film&#x2F;sensor</strong></li>
</ul>
</li>
<li>focal length：焦距<ul>
<li>the distance between the projection point and the image plane</li>
</ul>
</li>
<li>aperture：光圈<ul>
<li>大光圈 $\to$ 高进光量、浅景深</li>
</ul>
</li>
</ul>
<h3 id="薄透镜近似"><a href="#薄透镜近似" class="headerlink" title="薄透镜近似"></a>薄透镜近似</h3><img src="rt1w/fig-1.17-cam-lens.jpg" style="zoom: 67%;" />

<ul>
<li>我们不需要模拟内部结构，film 上的结果知识 focus plane 上物体的倒影罢了，因此我们可以直接对 focus plane 上的物体成像（二者是等价的）</li>
<li>也就是说，从透镜上采样即可</li>
</ul>
<img src="rt1w/fig-1.18-cam-film-plane.jpg" style="zoom: 50%;" />



<h2 id="10-结果图展示"><a href="#10-结果图展示" class="headerlink" title="10. 结果图展示"></a>10. 结果图展示</h2><h3 id="spp"><a href="#spp" class="headerlink" title="spp"></a>spp</h3><h4 id="场景-1"><a href="#场景-1" class="headerlink" title="场景 1"></a>场景 1</h4><ul>
<li>1000spp</li>
</ul>
<p><img src="/rt1w/003_1000spp.png"></p>
<ul>
<li>10000spp</li>
</ul>
<p><img src="/rt1w/003_10000spp.png"></p>
<h4 id="场景-2"><a href="#场景-2" class="headerlink" title="场景 2"></a>场景 2</h4><ul>
<li>1spp</li>
</ul>
<p><img src="/rt1w/004_1spp.png"></p>
<ul>
<li>10spp</li>
</ul>
<p><img src="/rt1w/004_10spp.png"></p>
<ul>
<li>100spp</li>
</ul>
<p><img src="/rt1w/004_100spp.png"></p>
<ul>
<li>1000spp</li>
</ul>
<p><img src="/rt1w/004_1000spp.png"></p>
<h3 id="最终结果"><a href="#最终结果" class="headerlink" title="最终结果"></a>最终结果</h3><ul>
<li>景深效果：1000spp</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">point3 <span class="title">lookfrom</span><span class="params">(<span class="number">13</span>, <span class="number">2</span>, <span class="number">3</span>)</span></span>;</span><br><span class="line"><span class="function">point3 <span class="title">lookat</span><span class="params">(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>)</span></span>;</span><br><span class="line"><span class="function">vec3 <span class="title">vup</span><span class="params">(<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>)</span></span>;</span><br><span class="line"><span class="type">double</span> dist_to_focus = <span class="number">10.0</span>; <span class="comment">// focus plane</span></span><br><span class="line"><span class="type">double</span> aperture = <span class="number">0.5</span>;</span><br></pre></td></tr></table></figure>

<p><img src="/rt1w/005_1000spp.png"></p>
<ul>
<li>无景深效果：1000spp</li>
</ul>
<p><img src="/rt1w/004_1000spp.png"></p>
<h2 id="11-说明"><a href="#11-说明" class="headerlink" title="11. 说明"></a>11. 说明</h2><ul>
<li><p>OK</p>
<ul>
<li>物体：球体</li>
<li>相机：任意位置</li>
<li>材质：diffuse、metal(glossy&#x2F;specular)、dielectric</li>
</ul>
</li>
<li><p>NO</p>
<ul>
<li>光源</li>
<li>加速结构</li>
<li>三角面片</li>
</ul>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/11/06/CG/Kits/rt1w/" data-id="cl9lj749c005d64tz7r6e8rad" data-title="Ray Tracing in One Weekend" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CG/" rel="tag">CG</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-cpp/Kits/00" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/11/06/cpp/Kits/00/" class="article-date">
  <time class="dt-published" datetime="2021-11-06T08:29:39.000Z" itemprop="datePublished">2021-11-06</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/C-Kits/">C++.Kits</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/11/06/cpp/Kits/00/">C++ 知识点.01</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="C-知识点"><a href="#C-知识点" class="headerlink" title="C++ 知识点"></a>C++ 知识点</h1><h2 id="const-作用"><a href="#const-作用" class="headerlink" title="const 作用"></a>const 作用</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 表示这个函数不会修改成员变量的值</span></span><br><span class="line"><span class="function">vec3 <span class="title">get_direction</span><span class="params">()</span> <span class="type">const</span></span>;</span><br></pre></td></tr></table></figure>



<h2 id="智能指针"><a href="#智能指针" class="headerlink" title="智能指针"></a>智能指针</h2><ul>
<li>智能指针：<code>shared_ptr</code><ul>
<li>自动释放内存</li>
</ul>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">shared_ptr&lt;<span class="type">double</span>&gt; double_ptr = <span class="built_in">make_shared</span>&lt;<span class="type">double</span>&gt;(<span class="number">0.37</span>);</span><br><span class="line">shared_ptr&lt;vec3&gt;   vec3_ptr   = <span class="built_in">make_shared</span>&lt;vec3&gt;(<span class="number">1.414214</span>, <span class="number">2.718281</span>, <span class="number">1.618034</span>);</span><br><span class="line">shared_ptr&lt;sphere&gt; sphere_ptr = <span class="built_in">make_shared</span>&lt;sphere&gt;(<span class="built_in">point3</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>), <span class="number">1.0</span>);</span><br></pre></td></tr></table></figure>



<h2 id="auto"><a href="#auto" class="headerlink" title="auto"></a>auto</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">auto</span> double_ptr = <span class="built_in">make_shared</span>&lt;<span class="type">double</span>&gt;(<span class="number">0.37</span>);</span><br></pre></td></tr></table></figure>



<h2 id="随机数"><a href="#随机数" class="headerlink" title="随机数"></a>随机数</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;random&gt;</span></span></span><br><span class="line"><span class="comment">// #include &lt;cstdlib&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 返回一个随机数 [0, 1)</span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">double</span> <span class="title">random_double</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="type">static</span> std::uniform_real_distribution&lt;<span class="type">double</span>&gt; <span class="title">distribution</span><span class="params">(<span class="number">0.0</span>, <span class="number">1.0</span>)</span></span>;</span><br><span class="line">    <span class="type">static</span> std::mt19937 generator;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">distribution</span>(generator);</span><br><span class="line">    <span class="comment">// return rand() / (RAND_MAX + 1.0);</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="cmake"><a href="#cmake" class="headerlink" title="cmake"></a>cmake</h2><ul>
<li><a target="_blank" rel="noopener" href="https://www.hahack.com/codes/cmake/[](https://www.hahack.com/codes/cmake/)">https://www.hahack.com/codes/cmake/[](https://www.hahack.com/codes/cmake/)</a></li>
</ul>
<h2 id="static"><a href="#static" class="headerlink" title="static"></a>static</h2><ul>
<li>类的 static 成员函数<ul>
<li>在另外文件中实现的时候不需要添加 <code>static</code><ul>
<li>如果类外定义函数时在函数名前加了 <code>static</code>，因为作用域的限制，就只能在当前文件里用</li>
<li>产生歧义</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="inline-static"><a href="#inline-static" class="headerlink" title="inline + static"></a>inline + static</h2><h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// vec3.hpp</span></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> once</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">vec3</span> &#123;</span><br><span class="line">   <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">static</span> vec3 <span class="title">random_in_unit_sphere</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// vec3.cpp</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;vec3.hpp&quot;</span></span></span><br><span class="line"><span class="function">vec3 <span class="title">vec3::random_in_unit_sphere</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> <span class="built_in">vec3</span>(); &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// main.cpp</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;vec3.hpp&quot;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    vec3 v;</span><br><span class="line">    v.<span class="built_in">random_in_unit_sphere</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="修改"><a href="#修改" class="headerlink" title="修改"></a>修改</h3><ul>
<li>修改 <code>vec3.cpp</code> 和 <code>vec3.hpp</code> 的声明和定义</li>
<li>错误1</li>
</ul>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">In file included from main.cpp:3:</span><br><span class="line">vec3.hpp:5:18: warning: inline function ‘vec3 vec3::random_in_unit_sphere()’ used but never defined</span><br><span class="line">    5 |     inline  vec3 random_in_unit_sphere();</span><br><span class="line">      |                  ^~~~~~~~~~~~~~~~~~~~~</span><br><span class="line">/usr/bin/ld: /tmp/cceorNNS.o: in function `main&#x27;:</span><br><span class="line">main.cpp:(.text+0x23): undefined reference to `vec3::random_in_unit_sphere()&#x27;</span><br><span class="line">collect2: error: ld returned 1 exit status</span><br></pre></td></tr></table></figure>

<ul>
<li>错误2</li>
</ul>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/usr/bin/ld: /tmp/cceorNNS.o: in function `main&#x27;:</span><br><span class="line">main.cpp:(.text+0x23): undefined reference to `vec3::random_in_unit_sphere()&#x27;</span><br><span class="line">collect2: error: ld returned 1 exit status</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="center">vec3.hpp</th>
<th align="center">vec3.cpp</th>
<th align="center">result</th>
</tr>
</thead>
<tbody><tr>
<td align="center">static</td>
<td align="center"></td>
<td align="center">OK</td>
</tr>
<tr>
<td align="center">inline static</td>
<td align="center"></td>
<td align="center">错误 1</td>
</tr>
<tr>
<td align="center">static</td>
<td align="center">inline</td>
<td align="center">错误 2</td>
</tr>
<tr>
<td align="center">inline static</td>
<td align="center">inline</td>
<td align="center">错误 1</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center">OK</td>
</tr>
<tr>
<td align="center">inline</td>
<td align="center"></td>
<td align="center">错误 1</td>
</tr>
<tr>
<td align="center"></td>
<td align="center">inline</td>
<td align="center">错误 2</td>
</tr>
<tr>
<td align="center">inline</td>
<td align="center">inline</td>
<td align="center">错误 1</td>
</tr>
</tbody></table>
<ul>
<li><strong>inline 函数一般在头文件中声明并定义</strong></li>
</ul>
<h2 id="默认参数"><a href="#默认参数" class="headerlink" title="默认参数"></a>默认参数</h2><ul>
<li>函数<strong>默认参数</strong>在<strong>声明</strong>的时候给定</li>
</ul>
<h2 id="虚函数"><a href="#虚函数" class="headerlink" title="虚函数"></a>虚函数</h2><ul>
<li>派生类如果没有实现基函数的 <code>virtual</code> 函数，则多态时会调用基类的 <code>virtual</code> 函数</li>
<li><a href="/utils/show_code/index.html?cpp/2021/test_virtual.cpp">代码</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/11/06/cpp/Kits/00/" data-id="cl9lj74bg00ji64tz3ewfa6t8" data-title="C++ 知识点.01" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/" rel="tag">C++</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-csharp/tds/mid" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/11/05/csharp/tds/mid/" class="article-date">
  <time class="dt-published" datetime="2021-11-05T02:50:00.000Z" itemprop="datePublished">2021-11-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/csharp-tds/">csharp.tds</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/11/05/csharp/tds/mid/">C#程序设计.唐大仕.期中.语法小结</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <ul>
<li><a target="_blank" rel="noopener" href="https://www.icourse163.org/learn/PKU-1001663016">中国大学慕课</a></li>
</ul>
<h1 id="语法小结"><a href="#语法小结" class="headerlink" title="语法小结"></a>语法小结</h1><h2 id="思维导图"><a href="#思维导图" class="headerlink" title="思维导图"></a>思维导图</h2><p><img src="/mid/CSharp-Grammar-Summary.png"></p>
<h2 id="关键字"><a href="#关键字" class="headerlink" title="关键字"></a>关键字</h2><table>
<thead>
<tr>
<th align="center">选项</th>
<th align="left">内容</th>
</tr>
</thead>
<tbody><tr>
<td align="center">A</td>
<td align="left">表示是子类可见的</td>
</tr>
<tr>
<td align="center">B</td>
<td align="left">表示同程序集中可见</td>
</tr>
<tr>
<td align="center">C</td>
<td align="left">表示属性或方法足属于整个类的，而不是实例的</td>
</tr>
<tr>
<td align="center">D</td>
<td align="left">表示它是一个常量</td>
</tr>
<tr>
<td align="center">E</td>
<td align="left">表示它是抽象的方法或属性，它应该被子类来实现</td>
</tr>
<tr>
<td align="center">F</td>
<td align="left">表示该方法是虚的，即可以被子类重写的</td>
</tr>
<tr>
<td align="center">G</td>
<td align="left">表示该方法是重写（覆盖）父类的方法</td>
</tr>
<tr>
<td align="center">H</td>
<td align="left">表示该类不能被能承</td>
</tr>
<tr>
<td align="center">I</td>
<td align="left">表示它是一个只读的变量它只能赋一次值， 要么在声明时赋值，要么在构造方法中赋值</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="center">关键字</th>
<th align="center">含义</th>
<th align="center">修饰类</th>
<th align="center">修饰方法</th>
<th align="center">修饰字段</th>
<th align="center">修饰局部变量</th>
</tr>
</thead>
<tbody><tr>
<td align="center">abstract</td>
<td align="center">E</td>
<td align="center">$\checkmark$</td>
<td align="center">$\checkmark$</td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">const</td>
<td align="center">D</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">$\checkmark$</td>
<td align="center">$\checkmark$</td>
</tr>
<tr>
<td align="center">internal</td>
<td align="center">B</td>
<td align="center">$\checkmark$</td>
<td align="center">$\checkmark$</td>
<td align="center">$\checkmark$</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">override</td>
<td align="center">G</td>
<td align="center"></td>
<td align="center">$\checkmark$</td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">protected</td>
<td align="center">A</td>
<td align="center">${\color{red}X}$</td>
<td align="center">$\checkmark$</td>
<td align="center">$\checkmark$</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">readonly</td>
<td align="center">I</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">$\checkmark$</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">sealed</td>
<td align="center">H</td>
<td align="center">$\checkmark$</td>
<td align="center">$\checkmark$</td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">static</td>
<td align="center">C</td>
<td align="center">$\checkmark$</td>
<td align="center">$\checkmark$</td>
<td align="center">$\checkmark$</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">virtual</td>
<td align="center">F</td>
<td align="center"></td>
<td align="center">$\checkmark$</td>
<td align="center"></td>
<td align="center"></td>
</tr>
</tbody></table>
<h2 id="语法要素"><a href="#语法要素" class="headerlink" title="语法要素"></a>语法要素</h2><table>
<thead>
<tr>
<th align="center">选项</th>
<th align="left">含义</th>
</tr>
</thead>
<tbody><tr>
<td align="center">A</td>
<td align="left">相当于定义一个函数原型， 但是有多播的功能，也就是说它可以“内含” 多个函数</td>
</tr>
<tr>
<td align="center">B</td>
<td align="left">相当于一个变量的 setter 及 getter，但是可以进行有效性的检查或其他功能</td>
</tr>
<tr>
<td align="center">C</td>
<td align="left">相当于一个没有名字的函数，使用方括号来调用，一般用于求集合中的一个元素</td>
</tr>
<tr>
<td align="center">D</td>
<td align="left">相当于一个 inline 的函数，这个函数定义的同时就使用了，它没有名字</td>
</tr>
<tr>
<td align="center">E</td>
<td align="left">相当于一个纯的抽象类，由一系列的抽象方法构成，每个成员都是 public abtract 的</td>
</tr>
<tr>
<td align="center">F</td>
<td align="left">相当于一个值类型（ValueType）化的类它存在于 “这里”，而不是一个引用</td>
</tr>
<tr>
<td align="center">G</td>
<td align="left">相当于一个成员变量，它的类型是 delegate，但是在外面只能 <code>+=</code> 及 <code>-=</code>，在内部才能用圆括号 <code>()</code> 去调用</td>
</tr>
<tr>
<td align="center">H</td>
<td align="left">一种特殊的方法，它的作用是初始化一个对象，它在调用时，前面要加个 new</td>
</tr>
<tr>
<td align="center">I</td>
<td align="left">相当于一个事物的几种可能情况，虽然在内部是用整数表示，但程序员可以用符号来表示</td>
</tr>
<tr>
<td align="center">J</td>
<td align="left">在类、方法或参数等元素上面附加一点信息，仅供编译器或调用者通过反射等方法来使用</td>
</tr>
<tr>
<td align="center">K</td>
<td align="left">是匿名方法的一种简写，它用 <code>=&gt;</code> 来表示</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="center">关键字</th>
<th align="center">中文</th>
<th align="center">含义</th>
<th align="center">例子</th>
</tr>
</thead>
<tbody><tr>
<td align="center">property</td>
<td align="center">属性</td>
<td align="center">B</td>
<td align="center">int a{get;set;}</td>
</tr>
<tr>
<td align="center">constructor</td>
<td align="center">构造方法</td>
<td align="center">H</td>
<td align="center">B b &#x3D; new B();</td>
</tr>
<tr>
<td align="center">event</td>
<td align="center">事件</td>
<td align="center">G</td>
<td align="center">class xxArgs {}<br />delegate void xxHandler(object sender, xxArgs e);<br />public event xxHandler xxHappend;<br />xxHanpend(this, e);<br />xx.xxHappend +&#x3D; (obj, e) &#x3D;&gt; {}</td>
</tr>
<tr>
<td align="center">index</td>
<td align="center">索引</td>
<td align="center">C</td>
<td align="center">public int this[int idx] { set{}get{} }</td>
</tr>
<tr>
<td align="center">attribute</td>
<td align="center">特性</td>
<td align="center">J</td>
<td align="center">[Serializable] class Book {}</td>
</tr>
<tr>
<td align="center">struct</td>
<td align="center">结构</td>
<td align="center">F</td>
<td align="center">struct STest { int a; int b; }</td>
</tr>
<tr>
<td align="center">enum</td>
<td align="center">枚举</td>
<td align="center">I</td>
<td align="center">enum ETest { A,B,C }</td>
</tr>
<tr>
<td align="center">interface</td>
<td align="center">接口</td>
<td align="center">E</td>
<td align="center">interface ITest{}</td>
</tr>
<tr>
<td align="center">delegate</td>
<td align="center">委托</td>
<td align="center">A</td>
<td align="center">private delegate void DTest();<br/>private void test1(DTest f) { f(); }<br/>private void fun1() {}<br/>private void ff() { test1(fun1); }</td>
</tr>
<tr>
<td align="center">anonymous method</td>
<td align="center">匿名方法</td>
<td align="center">D</td>
<td align="center">xx.xxHappend +&#x3D; delegate(object obj, xxArgs e) {}</td>
</tr>
<tr>
<td align="center">lambda expression</td>
<td align="center">lambda 表达式</td>
<td align="center">D,K</td>
<td align="center">xx.xxHappend +&#x3D; (obj,e) &#x3D;&gt;{}</td>
</tr>
</tbody></table>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/11/05/csharp/tds/mid/" data-id="cl9lj74bo00kr64tz4a1me78p" data-title="C#程序设计.唐大仕.期中.语法小结" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/csharp/" rel="tag">csharp</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-csharp/tds/08" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/11/04/csharp/tds/08/" class="article-date">
  <time class="dt-published" datetime="2021-11-04T14:43:49.000Z" itemprop="datePublished">2021-11-04</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/csharp-tds/">csharp.tds</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/11/04/csharp/tds/08/">C#程序设计.唐大仕.08.绘图及图像</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <ul>
<li><a target="_blank" rel="noopener" href="https://www.icourse163.org/learn/PKU-1001663016">中国大学慕课</a></li>
</ul>
<h1 id="绘图及图像"><a href="#绘图及图像" class="headerlink" title="绘图及图像"></a>绘图及图像</h1><h2 id="1-GDI-及其基本类"><a href="#1-GDI-及其基本类" class="headerlink" title="1. GDI+及其基本类"></a>1. GDI+及其基本类</h2><ul>
<li>GDI：Graphics Device Interface</li>
<li>GDI+：GDI的改进<ul>
<li>是 .NET 框架结构的重要组成部分</li>
<li>和 GDI 一样它提供对<strong>二维图形图像</strong>和<strong>文字排版处理</strong>的支持</li>
</ul>
</li>
</ul>
<h3 id="使用示例"><a href="#使用示例" class="headerlink" title="使用示例"></a>使用示例</h3><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Graphics g = <span class="keyword">this</span>.CreateGraphics();</span><br><span class="line">Pen pen = <span class="keyword">new</span> Pen(Color.Red, <span class="number">2</span>);</span><br><span class="line">Brush brush = <span class="keyword">new</span> SolidBrush(Color.Blue);</span><br><span class="line">Font font = <span class="keyword">new</span> Font(<span class="string">&quot;宋体&quot;</span>, <span class="number">24</span>);</span><br><span class="line">Rectangle rect = <span class="keyword">new</span> Rectangle(<span class="number">20</span>,<span class="number">120</span>,<span class="number">100</span>,<span class="number">160</span>);</span><br><span class="line"></span><br><span class="line">g.DrawLine(pen, <span class="number">20</span>, <span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line">g.DrawRectangle(pen, rect);</span><br><span class="line">g.DrawString(<span class="string">&quot;GDI+图形编程&quot;</span>, font, brush, <span class="number">20</span>, <span class="number">20</span>);</span><br><span class="line"></span><br><span class="line">brush.Dispose();</span><br><span class="line">font.Dispose();</span><br><span class="line">pen.Dispose();</span><br><span class="line">g.Dispose();</span><br></pre></td></tr></table></figure>

<img src="08/image-20211104230409377.png" style="zoom:80%;" />

<ul>
<li>Pen：画边框</li>
<li>Brush：填充</li>
</ul>
<h3 id="NET-对-GDI-的封装"><a href="#NET-对-GDI-的封装" class="headerlink" title=".NET 对 GDI+ 的封装"></a>.NET 对 GDI+ 的封装</h3><img src="08/image-20211106151639966.png" style="zoom:80%;" />

<h3 id="坐标系统"><a href="#坐标系统" class="headerlink" title="坐标系统"></a>坐标系统</h3><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">o---------------&gt; x</span><br><span class="line">|</span><br><span class="line">|</span><br><span class="line">|</span><br><span class="line">|</span><br><span class="line">v</span><br><span class="line"></span><br><span class="line">y</span><br></pre></td></tr></table></figure>



<h3 id="System-Drawing-中常用的结构"><a href="#System-Drawing-中常用的结构" class="headerlink" title="System.Drawing 中常用的结构"></a>System.Drawing 中常用的结构</h3><h4 id="Color"><a href="#Color" class="headerlink" title="Color"></a>Color</h4><ul>
<li>Color 封装了对颜色的定义</li>
<li>该结构中封装了数百个分别对应与标准调色板色彩的静态成员<ul>
<li>Color.Red：红色</li>
<li>Color.Purple：紫色</li>
</ul>
</li>
<li>有用的静态方法<ul>
<li>FromArgb：通过三原色构建 Color 对象</li>
<li>FromKnownColor：通过已知颜色构建 Color 对象</li>
<li>FromName：通过颜色名称来构建 Color 对象</li>
</ul>
</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Color temp1 = Color.Black;</span><br><span class="line">Color temp2 = Color.FromArgb(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">Color temp3 = Color.FromName(<span class="string">&quot;Black&quot;</span>);</span><br></pre></td></tr></table></figure>



<h4 id="Size-和-SizeF"><a href="#Size-和-SizeF" class="headerlink" title="Size 和 SizeF"></a>Size 和 SizeF</h4><ul>
<li>表示绘制平面上的一个尺寸<ul>
<li>Size：整数</li>
<li>SizeF：浮点数</li>
</ul>
</li>
<li>属性<ul>
<li>Width：表示宽度值</li>
<li>Height：表示高度值</li>
</ul>
</li>
<li>重载了<strong>加、减、比较、赋值操作</strong></li>
</ul>
<h4 id="Point-和-PointF"><a href="#Point-和-PointF" class="headerlink" title="Point 和 PointF"></a>Point 和 PointF</h4><ul>
<li>表示绘制平面上点的坐标，一个为整数，另外一个为浮点数</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Point pt = <span class="keyword">new</span> Point(<span class="number">20</span>,<span class="number">20</span>);</span><br><span class="line">Point pt = <span class="keyword">new</span> Point(<span class="keyword">new</span> Size(<span class="number">10</span>,<span class="number">10</span>));</span><br></pre></td></tr></table></figure>

<ul>
<li>重载了加、减、比较、赋值操作</li>
</ul>
<h4 id="Rectangle-和-RectangleF"><a href="#Rectangle-和-RectangleF" class="headerlink" title="Rectangle 和 RectangleF"></a>Rectangle 和 RectangleF</h4><ul>
<li>表示绘制平面上的一个矩形区域</li>
<li>属性</li>
</ul>
<table>
<thead>
<tr>
<th align="center">属性</th>
<th align="center">含义</th>
</tr>
</thead>
<tbody><tr>
<td align="center">Bottom</td>
<td align="center">矩形底部的纵坐标</td>
</tr>
<tr>
<td align="center">Top</td>
<td align="center">矩形顶部的纵坐标</td>
</tr>
<tr>
<td align="center">Left</td>
<td align="center">矩形坐部的横坐标</td>
</tr>
<tr>
<td align="center">Right</td>
<td align="center">矩形右部的横坐标</td>
</tr>
<tr>
<td align="center">Height</td>
<td align="center">矩形的高度</td>
</tr>
<tr>
<td align="center">Width</td>
<td align="center">矩形的宽度</td>
</tr>
<tr>
<td align="center">Size</td>
<td align="center">矩形的尺寸</td>
</tr>
<tr>
<td align="center">IsEmpty</td>
<td align="center">矩形是否为空（高度和宽度是否都是0）</td>
</tr>
<tr>
<td align="center">X</td>
<td align="center">矩形左上角的横坐标</td>
</tr>
<tr>
<td align="center">Y</td>
<td align="center">矩形左上角的纵坐标</td>
</tr>
</tbody></table>
<h2 id="2-Graphics-对象及绘图方法"><a href="#2-Graphics-对象及绘图方法" class="headerlink" title="2. Graphics 对象及绘图方法"></a>2. Graphics 对象及绘图方法</h2><h3 id="Graphics-对象"><a href="#Graphics-对象" class="headerlink" title="Graphics 对象"></a>Graphics 对象</h3><h4 id="得到-Graphics-对象"><a href="#得到-Graphics-对象" class="headerlink" title="得到 Graphics 对象"></a>得到 Graphics 对象</h4><ul>
<li>OnPaint 事件中使用</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Protected <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">OnPaint</span>(<span class="params">PaintEventArgse</span>)</span>&#123;</span><br><span class="line">    Graphics g = e.Graphics;</span><br><span class="line">    <span class="comment">// 这里的 Graphics 对象不是我们的创建的</span></span><br><span class="line">    <span class="comment">// 我们不要去 dispose 它</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>在其他情况使用</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Graphics g = <span class="keyword">this</span>.CreateGraphics();</span><br><span class="line"><span class="comment">// 需要 dispose</span></span><br></pre></td></tr></table></figure>



<h4 id="关于-Graphics-的释放"><a href="#关于-Graphics-的释放" class="headerlink" title="关于 Graphics 的释放"></a>关于 Graphics 的释放</h4><ul>
<li><p>对于 CreateGraphics() 得到的 Graphics 对象</p>
<ul>
<li>系统会自动释放，也可以显式地释放</li>
</ul>
  <figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">g.Dispose();</span><br></pre></td></tr></table></figure>

<ul>
<li>也可以使用 using 的写法</li>
</ul>
  <figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span>(Graphics g = <span class="keyword">this</span>.CreateGraphics()) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>这种写法相当于</li>
</ul>
  <figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125; <span class="keyword">finally</span>&#123;</span><br><span class="line">    g.Dispose();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="Graphics-对象绘图方法"><a href="#Graphics-对象绘图方法" class="headerlink" title="Graphics 对象绘图方法"></a>Graphics 对象绘图方法</h4><ul>
<li>Draw：绘制边框</li>
</ul>
<table>
<thead>
<tr>
<th align="left">属性</th>
<th align="left">含义</th>
</tr>
</thead>
<tbody><tr>
<td align="left">DrawArc</td>
<td align="left">绘制圆弧</td>
</tr>
<tr>
<td align="left">DrawBezier</td>
<td align="left">绘制贝塞尔曲线</td>
</tr>
<tr>
<td align="left">DrawBeziers</td>
<td align="left">绘制贝塞尔曲线组</td>
</tr>
<tr>
<td align="left">DrawClosedCurve</td>
<td align="left">绘制封闭曲线</td>
</tr>
<tr>
<td align="left">DrawCurve</td>
<td align="left">绘制曲线</td>
</tr>
<tr>
<td align="left">DrawEllipse</td>
<td align="left">绘制椭圆</td>
</tr>
<tr>
<td align="left">DrawIcon</td>
<td align="left">绘制图标</td>
</tr>
<tr>
<td align="left">DrawIconUnstretched</td>
<td align="left">无缩放绘制图标</td>
</tr>
<tr>
<td align="left">DrawImage</td>
<td align="left">绘制图像</td>
</tr>
<tr>
<td align="left">DrawImageUnscaled</td>
<td align="left">无缩放绘制图像</td>
</tr>
<tr>
<td align="left">DrawLine</td>
<td align="left">绘制直线</td>
</tr>
<tr>
<td align="left">DrawLines</td>
<td align="left">绘制直线组</td>
</tr>
<tr>
<td align="left">DrawPath</td>
<td align="left">绘制 GraphicsPath 对象</td>
</tr>
<tr>
<td align="left">DrawPie</td>
<td align="left">绘制圆饼</td>
</tr>
<tr>
<td align="left">DrawPolygon</td>
<td align="left">绘制多边形</td>
</tr>
<tr>
<td align="left">DrawRectangle</td>
<td align="left">绘制矩形</td>
</tr>
<tr>
<td align="left">DrawRectangles</td>
<td align="left">绘制矩形组</td>
</tr>
<tr>
<td align="left">DrawString</td>
<td align="left">绘制文本</td>
</tr>
</tbody></table>
<ul>
<li>Fill：填充</li>
</ul>
<table>
<thead>
<tr>
<th align="left">属性</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td align="left">FillClosedCurve</td>
<td>绘制实心封闭曲线</td>
</tr>
<tr>
<td align="left">FillEllipe</td>
<td>封闭实心椭圆</td>
</tr>
<tr>
<td align="left">FillPath</td>
<td>GraphicsPath 对象</td>
</tr>
<tr>
<td align="left">FillPie</td>
<td>绘制实心圆饼</td>
</tr>
<tr>
<td align="left">FillPolygon</td>
<td>绘制实心多边形</td>
</tr>
<tr>
<td align="left">FillRectangle</td>
<td>绘制实心矩形</td>
</tr>
<tr>
<td align="left">FillRectangles</td>
<td>绘制实心矩形组</td>
</tr>
<tr>
<td align="left">FillRegion</td>
<td>绘制实心 Region 对象</td>
</tr>
</tbody></table>
<h3 id="Pen-对象"><a href="#Pen-对象" class="headerlink" title="Pen 对象"></a>Pen 对象</h3><ul>
<li>System.Drawing 名称空间中</li>
<li>用来指定图形的轮廓，如<strong>颜色</strong>和<strong>宽度</strong>等</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 画笔创建</span></span><br><span class="line">Pen pen= <span class="keyword">new</span> Pen(Color.Blue, <span class="number">5</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用 Pens 类，直接用系统定义好的 Pen</span></span><br><span class="line">Pen p = Pens.Red;</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="left">属性</th>
<th align="left">描述</th>
<th align="left">取值</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Alignment</td>
<td align="left">指定相对于理论上、零宽度的线条的 Pen 对象的对齐方式</td>
<td align="left">PenAlignment.Center：位于所绘制线条的中央 <br />PenAlignment.Insert：位于所绘制线条的嵌入内部 <br />PenAlignment.Left：位于所绘制线条的左侧 <br />PenAlignment.OutSet：位于所绘制线条的嵌入外部 <br />PenAlignment.Right：位于所绘制线条的右侧 <br /></td>
</tr>
<tr>
<td align="left">DashStyle</td>
<td align="left">绘制线条的虚线类型</td>
<td align="left">DashStyle.Custom：用户自定义<br />DashStyle.Dash：线段<br />DashStyle.DashDot：线段和点<br />DashStyle.DashDotDot：线段、点和点<br />DashStyle.Dot：点<br />DashStyle.Solid：实线</td>
</tr>
<tr>
<td align="left">StartCap<br />EndCap</td>
<td align="left">绘制线条的起点和终点类型 LineCap</td>
<td align="left">LAnchorMask 用于检查线帽是否为锚头帽的掩码<br />ArrowAnchor 箭头状锚头帽<br />Custom 自定义线帽<br />DiamondAnchor 菱形锚头帽<br />Flat 平线帽<br />NoAnchor 没有锚<br />Round 圆线帽<br />RoundAnchor 圆锚头帽<br />Square 方线帽<br />SquareAnchor 方锚头帽<br />Triangle 三角线帽</td>
</tr>
</tbody></table>
<h3 id="Brush-对象"><a href="#Brush-对象" class="headerlink" title="Brush 对象"></a>Brush 对象</h3><ul>
<li>Brush 是一个<strong>抽象类</strong>，不能被直接 new 实例化</li>
<li>它有５个派生类，分别实行不同类型的画刷<ul>
<li>SolidBrush：实心画刷（最简单）</li>
<li>HatchBrush：带阴影线的画刷</li>
<li>LinearGradientBrush：填充颜色线性渐变的画刷</li>
<li>PathGradientBrush：填充颜色沿路径渐变的画刷</li>
<li>TextureBrush：使用图像进行填充的画刷</li>
</ul>
</li>
<li>使用 Brushes 类<ul>
<li>Brushes.Red</li>
</ul>
</li>
</ul>
<h3 id="文本绘制"><a href="#文本绘制" class="headerlink" title="文本绘制"></a>文本绘制</h3><ul>
<li>Font 类<ul>
<li>FontFamiliy、字体大小、字体风格（Bold、Italic、Regular、Strikeout、Underline）</li>
</ul>
</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Font myFont = <span class="keyword">new</span> Font(<span class="string">&quot;宋体&quot;</span>, <span class="number">16</span>, FontStyle.Bold|FontStyle.Italic);</span><br></pre></td></tr></table></figure>

<ul>
<li><code>DrawString()</code> 函数各种重载</li>
</ul>
<h3 id="Transform"><a href="#Transform" class="headerlink" title="Transform"></a>Transform</h3><ul>
<li>3x3 矩阵</li>
</ul>
<h3 id="示例代码片段"><a href="#示例代码片段" class="headerlink" title="示例代码片段"></a>示例代码片段</h3><ul>
<li><a href="/utils/show_code/index.html?csharp/tds/08/Pen.cs">Pen</a></li>
<li><a href="/utils/show_code/index.html?csharp/tds/08/FontFamily.cs">显示不同字体</a></li>
<li><a href="/utils/show_code/index.html?csharp/tds/08/Brush.cs">Brush</a></li>
<li><a href="/utils/show_code/index.html?csharp/tds/08/Test1.cs">图形绘制</a></li>
<li><a href="/utils/show_code/index.html?csharp/tds/08/Font.cs">Path 的效果</a></li>
</ul>
<h3 id="绘制应用"><a href="#绘制应用" class="headerlink" title="绘制应用"></a>绘制应用</h3><ul>
<li>绘制函数图</li>
<li><a href="/resources/Code/csharp/tds/08/MOOC.zip">慕课展示代码</a></li>
</ul>
<h3 id="一些笔记"><a href="#一些笔记" class="headerlink" title="一些笔记"></a>一些笔记</h3><ul>
<li>在图片上绘制文字得一种方法</li>
<li>将图片复制到剪切板</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Graphics g = Graphics.FromImage(image);</span><br><span class="line">Font font = <span class="keyword">new</span> System.Drawing.Font(<span class="string">&quot;微软雅黑&quot;</span>, <span class="number">12</span>, (System.Drawing.FontStyle.Bold));</span><br><span class="line">LinearGradientBrush brush = <span class="keyword">new</span> LinearGradientBrush(</span><br><span class="line">    <span class="keyword">new</span> Rectangle(<span class="number">0</span>, <span class="number">0</span>, image.Width, image.Height),</span><br><span class="line">    Color.White,</span><br><span class="line">    Color.FromArgb(<span class="number">100</span>,<span class="number">100</span>,<span class="number">100</span>),</span><br><span class="line">    <span class="number">1.2f</span>,</span><br><span class="line">    <span class="literal">true</span>);</span><br><span class="line">g.DrawString(textBox1.Text, font, brush, <span class="number">100</span>, <span class="number">184</span>);</span><br><span class="line">g.DrawString(textBox2.Text, font, brush, <span class="number">100</span>, <span class="number">417</span>);</span><br><span class="line">g.DrawString(textBox3.Text, font, brush, <span class="number">100</span>, <span class="number">650</span>);</span><br><span class="line">g.Dispose();</span><br><span class="line">pictureBox1.Image = image;</span><br><span class="line"><span class="comment">// 将图片复制到剪切板</span></span><br><span class="line">Clipboard.SetDataObject(pictureBox1.Image);</span><br></pre></td></tr></table></figure>

<ul>
<li>屏保程序编程方式<ul>
<li>LuminousClock.sln</li>
</ul>
</li>
</ul>
<h2 id="3-控件与绘图"><a href="#3-控件与绘图" class="headerlink" title="3. 控件与绘图"></a>3. 控件与绘图</h2><h3 id="控件重绘"><a href="#控件重绘" class="headerlink" title="控件重绘"></a>控件重绘</h3><ul>
<li>paint 事件发生情况<ul>
<li>窗体 A 覆盖了窗体 B，当窗体 A 移开的时候，窗体 B 得 paint 事件会被触发</li>
</ul>
</li>
<li>强制程序进行重绘</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使控件的特定区域无效并向控件发送绘制消息</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Invalidate</span>()</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Invalidate</span>(<span class="params">Rectangle</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使控件重绘其工作区内的无效区域</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 相当于 this.Invalidate(true); this.Update();</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Refresh</span>()</span>;</span><br></pre></td></tr></table></figure>



<h3 id="双缓冲技术"><a href="#双缓冲技术" class="headerlink" title="双缓冲技术"></a>双缓冲技术</h3><ul>
<li>Double Buffer</li>
<li>预先在内存中绘制好图像，然后再一次性绘制到屏幕上</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 在内存中建立一块虚拟画布</span></span><br><span class="line">Bitmap bmp = <span class="keyword">new</span> Bitmap(<span class="number">600</span>, <span class="number">600</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.获取这块内存画布的 Graphics 引用</span></span><br><span class="line">Graphics g = Graphics.FromImage(bmp);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. 在这块内存画布上绘图</span></span><br><span class="line">g.FillEllipse(brush, i* <span class="number">10</span>, j * <span class="number">10</span>, <span class="number">10</span>, <span class="number">10</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4. 将内存画布画到窗口中</span></span><br><span class="line"><span class="keyword">this</span>.CreateGraphics().DrawImage(bmp, <span class="number">0</span>, <span class="number">0</span>);</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>直接设置控件的 DoubleBuffered 属性为 true</strong></li>
</ul>
<h2 id="4-Bitmap-类及图像处理"><a href="#4-Bitmap-类及图像处理" class="headerlink" title="4. Bitmap 类及图像处理"></a>4. Bitmap 类及图像处理</h2><ul>
<li>GDI+ 中对图像处理提供了以下支持：<ul>
<li>支持 BMP、GIF、JPEG、PNG、TIFF、ICON 等等广泛格式的图像文件</li>
<li>提供了用于多种光栅图像格式进行编码和解码的公共接口</li>
<li>支持为图像格式添加动态格式</li>
<li>支持对图像的像素进行多种处理，包括亮度、对比度、颜色平衡、模糊、消弱等</li>
<li>支持对图像进行旋转、剪切等操作</li>
</ul>
</li>
<li>主要通过 Image类 实现</li>
</ul>
<h3 id="Bitmap类"><a href="#Bitmap类" class="headerlink" title="Bitmap类"></a>Bitmap类</h3><ul>
<li><strong>Image 是抽象类</strong>，Bitmap 从 Image 派生</li>
<li>可以处理 BMP、JPEG、GIF、PNG 等格式</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Bitmap bt1 = <span class="keyword">new</span> Bitmap(<span class="string">&quot;c:\\1.bmp&quot;</span>);</span><br><span class="line">Bitmap bt2 = <span class="keyword">new</span> Bitmap(bt1, <span class="number">200</span>, <span class="number">300</span>);</span><br><span class="line">Bitmap bt3;</span><br><span class="line">bt3.FromFile(<span class="string">&quot;文件名称&quot;</span>);</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="/utils/show_code/index.html?csharp/tds/08/ThumbnailTest.cs">生成略缩图的代码</a></li>
<li><a target="_blank" rel="noopener" href="https://www.getpaint.net/">图像处理小软件</a></li>
</ul>
<h4 id="针对图像像素的处理"><a href="#针对图像像素的处理" class="headerlink" title="针对图像像素的处理"></a>针对图像像素的处理</h4><ul>
<li>图像文件bmp的格式</li>
<li>慢速方法</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bitmap.GetPixel(x,y);</span><br></pre></td></tr></table></figure>

<ul>
<li>使用指针（快）<ul>
<li>因为使用了unsafe，所以编译的时候需要设置 “允许不安全的代码”<ul>
<li><code>/unsafe</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">bitmapData = bitmap.LockBits(</span><br><span class="line">    bounds, ImageLockMode.ReadWrite, PixelFormat.Format24bppRgb);</span><br><span class="line"><span class="comment">// 起始位置</span></span><br><span class="line">pBase = (Byte*)bitmapData.Scan0.ToPointer();</span><br><span class="line"><span class="comment">// 任意位置</span></span><br><span class="line"><span class="comment">// stride: 一行的像素点占据的字节数</span></span><br><span class="line">(PixelData*)(pBase + y * stride + x * <span class="keyword">sizeof</span>(PixelData));</span><br></pre></td></tr></table></figure>



<h3 id="图像处理"><a href="#图像处理" class="headerlink" title="图像处理"></a>图像处理</h3><ul>
<li>滤镜</li>
<li><a href="/resources/Code/csharp/tds/08/ImageProcessor.zip">简单图像处理</a></li>
<li><a href="/resources/Code/csharp/tds/08/CSharpFilters_src6.rar">复杂图像处理</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/11/04/csharp/tds/08/" data-id="cl9lj74bl00k964tzb4evhu25" data-title="C#程序设计.唐大仕.08.绘图及图像" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/csharp/" rel="tag">csharp</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-csharp/tds/07" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/11/04/csharp/tds/07/" class="article-date">
  <time class="dt-published" datetime="2021-11-04T02:59:07.000Z" itemprop="datePublished">2021-11-04</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/csharp-tds/">csharp.tds</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/11/04/csharp/tds/07/">C#程序设计.唐大仕.06.Windows窗体与控件</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <ul>
<li><a target="_blank" rel="noopener" href="https://www.icourse163.org/learn/PKU-1001663016">中国大学慕课</a></li>
</ul>
<h1 id="Windows-窗体与控件"><a href="#Windows-窗体与控件" class="headerlink" title="Windows 窗体与控件"></a>Windows 窗体与控件</h1><h2 id="1-布局与事件处理"><a href="#1-布局与事件处理" class="headerlink" title="1. 布局与事件处理"></a>1. 布局与事件处理</h2><ul>
<li>基本问题：界面的布局、事件的处理</li>
</ul>
<h3 id="界面布局"><a href="#界面布局" class="headerlink" title="界面布局"></a>界面布局</h3><ul>
<li>添加控件</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">控件.Controls.Add(...);</span><br><span class="line">控件.Controls.AddRange(...);</span><br></pre></td></tr></table></figure>

<ul>
<li>设置位置<ul>
<li>绝对布局<ul>
<li><strong>Location</strong>——以像素为单位，设置控件的 X 坐标和 Y 坐标</li>
<li><strong>Size</strong>——以像素为单位，设置控件的宽度和高度</li>
</ul>
</li>
<li>相对布局<ul>
<li><strong>Anchor</strong>——把控件附着在窗体的一个或多个边框上</li>
<li><strong>Dock</strong>——把控件和窗体的一个或多个边框连接起来</li>
</ul>
</li>
</ul>
</li>
<li>示例</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.btn1.Anchor =</span><br><span class="line">    System.Windows.Forms.AnchorStyles.Left</span><br><span class="line">    | System.Windows.Forms.AnchorStyles.Top;</span><br></pre></td></tr></table></figure>

<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.btn2.Dock =</span><br></pre></td></tr></table></figure>



<h3 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h3><ul>
<li><p>低级事件与高级事件</p>
<ul>
<li>KeyDown&#x2F;KeyUp $\to$ KeyPressed</li>
<li>TextChange</li>
</ul>
</li>
<li><p>事件及其注册</p>
<ul>
<li>事件&#x2F;委托&#x2F;事件参数</li>
</ul>
  <figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">btn.Click+=<span class="keyword">new</span> EventHandler(btn_Clicked);</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">btn_Cliked</span>(<span class="params"><span class="built_in">object</span> sender, EventArgse </span>)</span>&#123;...&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>使用匿名函数及Lambda表达式</li>
</ul>
</li>
</ul>
<h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><ul>
<li><a href="/resources/Code/csharp/tds/07/My_Explorer.zip">FileExplorer.zip</a><ul>
<li>TreeView + Splitter + ListView</li>
</ul>
</li>
</ul>
<img src="07/image-20211104115157131.png" style="zoom:80%;" />





<h2 id="2-常用控件"><a href="#2-常用控件" class="headerlink" title="2. 常用控件"></a>2. 常用控件</h2><ul>
<li>控件 Control 类<ul>
<li>Windows 中控件都是 <code>System.Windows.Forms.Control</code> 的子类</li>
<li>实现了 <code>IDisposable</code> 等接口</li>
</ul>
</li>
<li>控件与组件<ul>
<li>控件：在界面中显示</li>
<li>组件：功能与界面相关，但是不在界面中显示</li>
</ul>
</li>
</ul>
<h3 id="常用属性"><a href="#常用属性" class="headerlink" title="常用属性"></a>常用属性</h3><ul>
<li><p>外观</p>
<ul>
<li>Size（大小），Width（宽度），Height（高度）</li>
<li>Location（位置），Left，Right，Top，Bottom</li>
<li>Font（字体），ForeColor（前景色），BackColor（背景色）</li>
</ul>
</li>
<li><p>状态</p>
<ul>
<li><p>Visible（可见），Enabled（使能）</p>
</li>
<li><p>Text（文本），BackgroundImage（背景图片）</p>
</li>
<li><p>Tag（标记数据，类型为 object 任意类型）</p>
</li>
</ul>
</li>
</ul>
<h3 id="常用事件"><a href="#常用事件" class="headerlink" title="常用事件"></a>常用事件</h3><ul>
<li>KeyXXXX 键盘事件<ul>
<li>KeyDown、KeyUp、KeyPress</li>
</ul>
</li>
<li>MouseXXX 鼠标事件<ul>
<li>MouseDown、MouseUp、MouseMove、MouseEnter、MouseHover、MouseLeave</li>
</ul>
</li>
<li>Click&#x2F;DoubleClick 事件</li>
<li>GotFocus 事件</li>
<li>TextChange 事件</li>
</ul>
<h3 id="常用控件"><a href="#常用控件" class="headerlink" title="常用控件"></a>常用控件</h3><ul>
<li><p>标签 Label</p>
</li>
<li><p>链接标签 LinkedLabel</p>
</li>
<li><p>文本框 TextBox</p>
<ul>
<li>PasswordChar 可使之成为密码框</li>
<li>MultiLine 多行文本</li>
<li>ScrollBars 滚动条</li>
<li>ReadOnly 只读</li>
</ul>
</li>
<li><p>按钮 Button</p>
</li>
<li><p>复选框 CheckBox</p>
</li>
<li><p>单选框 RadioButton</p>
<ul>
<li>Checked属性</li>
<li>容器，如 GroupBox</li>
</ul>
</li>
<li><p>列表框 ListBox</p>
<ul>
<li>复选列表框</li>
<li>Xxxx.Items. Add(..)</li>
</ul>
</li>
<li><p>组合框 ComboBox</p>
</li>
<li><p>数字框 NumbericUpDown</p>
<ul>
<li>Value属性</li>
</ul>
</li>
<li><p>日期时间框 DateTimePicker</p>
<ul>
<li>Value属性</li>
<li>Format 及 CustomFormat 属性 “yy-MM-dd”</li>
</ul>
</li>
<li><p>掩码文本框 MaskedTextBox</p>
<ul>
<li><strong>满足一定条件的文本框</strong></li>
<li>Mask属性</li>
</ul>
</li>
<li><p>进度条 ProgressBar</p>
<ul>
<li>Maximum（最大值）、Minimum（最小值）</li>
<li>Step（步进值）</li>
<li>Value（当前值）</li>
</ul>
</li>
<li><p>PictureBox 图片框</p>
<ul>
<li>Image 属性</li>
<li>SizeMode 属性：拉伸、重复</li>
</ul>
</li>
<li><p>RichTextBox 富文本框</p>
  <figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.Select(start,len);</span><br><span class="line">.SelectText=<span class="string">&quot;...&quot;</span>;</span><br><span class="line">.SelectionColor/Font;</span><br></pre></td></tr></table></figure>
</li>
<li><p>WebBrowser 网页浏览器</p>
<ul>
<li>可以浏览网页、flash 文件、动画、多媒体等</li>
</ul>
</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Navigate(<span class="string">&quot;http://www.dstang.com&quot;</span>);</span><br></pre></td></tr></table></figure>

<ul>
<li>TreeView、ListView<ul>
<li><a href="/resources/Code/csharp/tds/07/My_Explorer.zip">FileExplorer.zip</a></li>
</ul>
</li>
</ul>
<h3 id="容器控件"><a href="#容器控件" class="headerlink" title="容器控件"></a>容器控件</h3><ul>
<li>流式布局面板 FlowLayoutPanel</li>
<li>成组框 GroupBox</li>
<li>面板 Panel</li>
<li>分隔容器 SplitContainer</li>
<li>选项卡 TabControl</li>
<li>表格布局面板 TableLayoutPanel</li>
</ul>
<h2 id="3-窗体"><a href="#3-窗体" class="headerlink" title="3. 窗体"></a>3. 窗体</h2><ul>
<li>Form 类是 Control 类的子类</li>
<li>特殊的属性<ul>
<li>边框、标题栏、启始位置、窗体是否最大化等</li>
</ul>
</li>
</ul>
<h3 id="多窗体"><a href="#多窗体" class="headerlink" title="多窗体"></a>多窗体</h3><ul>
<li>打开与关闭<ul>
<li>Show()</li>
<li>ShowDialog()<ul>
<li>对话框</li>
</ul>
</li>
<li>事件：closing、closed<ul>
<li>可以设置参数 e.Cancel 取消关闭</li>
</ul>
</li>
</ul>
</li>
<li>交互信息<ul>
<li>Static 变量</li>
<li>通过<strong>构造函数</strong>或<strong>属性</strong>传递变量</li>
</ul>
</li>
</ul>
<h2 id="4-菜单、工具栏、对话框"><a href="#4-菜单、工具栏、对话框" class="headerlink" title="4. 菜单、工具栏、对话框"></a>4. 菜单、工具栏、对话框</h2><ul>
<li>Windows 应用程序的菜单（Menu）控件分为三个种类<ul>
<li>MainMenu、ContextMenu、MenuItem</li>
</ul>
</li>
<li>工具栏（ToolBar）可以说是工具栏按钮（ToolBarButton）的集合控件，它将常用的按钮以图标的形式集中表现<ul>
<li>状态栏也是窗口应用程序中很重要的脚色。在状态栏上一般通知用户目前的时间、打开哪个文件等。</li>
</ul>
</li>
<li>对话框<ul>
<li>OpenFileDialog</li>
<li>SaveFileDialog</li>
<li>FolderBrowserDialog</li>
<li>ColorDialog</li>
<li>FontDialog</li>
</ul>
</li>
<li>SDI 及 MDI 应用程序<ul>
<li>单文档界面 （SDI）</li>
<li>多文档界面 （MDI）应用程序</li>
</ul>
</li>
<li>示例代码<ul>
<li><a href="/resources/Code/csharp/tds/07/FileExplorer.zip">FileExplorer.zip</a></li>
</ul>
</li>
</ul>
<h2 id="5-用户控件"><a href="#5-用户控件" class="headerlink" title="5. 用户控件"></a>5. 用户控件</h2><ul>
<li>用户控件：多个控件组合</li>
<li>自动在工具箱中，可拖放到窗体上</li>
<li><strong>处理 Paint</strong><ul>
<li>重载</li>
</ul>
</li>
<li>对外公开属性、方法、事件</li>
<li>自定义控件示例<ul>
<li><a href="/resources/Code/csharp/tds/07/SevenSegment.zip">SevenSegment.zip</a></li>
</ul>
</li>
</ul>
<img src="07/image-20211104220502101.png" style="zoom:80%;" />



<h3 id="继承控件"><a href="#继承控件" class="headerlink" title="继承控件"></a>继承控件</h3><ul>
<li>继承</li>
<li>处理Paint</li>
<li>为控件添加设计支持</li>
</ul>
<h2 id="6-类设计器"><a href="#6-类设计器" class="headerlink" title="6. 类设计器"></a>6. 类设计器</h2><ul>
<li>VS 社区版没有类设计器的功能，需要自己安装</li>
<li>安装<ul>
<li>工具 $\to$ 获取工具和功能 $\to$ vs installer $\to$ 单个组件 $\to$ 类设计器</li>
</ul>
</li>
<li>使用<ul>
<li>右键 $\to$ 查看类图</li>
</ul>
</li>
</ul>
<img src="07/image-20211104221859874.png" style="zoom:80%;" />




      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/11/04/csharp/tds/07/" data-id="cl9lj74bk00k164tz1dgefe4z" data-title="C#程序设计.唐大仕.06.Windows窗体与控件" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/csharp/" rel="tag">csharp</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-computation/pyr/06-2" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/11/04/computation/pyr/06-2/" class="article-date">
  <time class="dt-published" datetime="2021-11-04T02:18:29.000Z" itemprop="datePublished">2021-11-04</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/computation-pyr/">computation.pyr</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/11/04/computation/pyr/06-2/">计算方法B.裴玉茹.06.线性方程组(3)</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <ul>
<li>PPT（线性方程组）</li>
</ul>
<h1 id="线性方程组"><a href="#线性方程组" class="headerlink" title="线性方程组"></a>线性方程组</h1><h2 id="5-共轭梯度方法"><a href="#5-共轭梯度方法" class="headerlink" title="5. 共轭梯度方法"></a>5. 共轭梯度方法</h2><ul>
<li>共轭梯度方法<ul>
<li>求解 $n\times n$ <strong>正定线性方程组</strong>迭代方法</li>
<li>$n$ 步求解线性方程组（直接方法）</li>
<li>$x&#x3D;x+tv$<ul>
<li><strong>共轭梯度方向</strong></li>
</ul>
</li>
<li>对矩阵进行预处理，只需大约 $n$ 步收敛</li>
</ul>
</li>
<li>示意图<ul>
<li>绿色：梯度下降</li>
<li>红色：共轭梯度下降</li>
</ul>
</li>
</ul>
<img src="06-2/220px-Conjugate_gradient.illustration.svg.png" alt="img" style="zoom:80%;" />

<h3 id="1-预备知识"><a href="#1-预备知识" class="headerlink" title="(1) 预备知识"></a>(1) 预备知识</h3><h4 id="定理-1"><a href="#定理-1" class="headerlink" title="定理 1"></a>定理 1</h4><ul>
<li>向量 $x^{\ast}$ 是<strong>正定线性方程组</strong> $Ax&#x3D;b$ 的解当且仅当 $x^{\ast}$ 最小化函数 $g(x)&#x3D;\langle x,Ax\rangle ,-2\langle x,b\rangle $</li>
<li>证明思路：$g(x+tv)$ ，偏导为 0 时的 $x$ 条件</li>
</ul>
<img src="06-2/image-20211104103400622.png" style="zoom:80%;" />



<h4 id="算法"><a href="#算法" class="headerlink" title="算法"></a>算法</h4><ul>
<li>迭代算法如下</li>
<li>找到某个方向 $v^{(k)}$ ，然后最小化这个函数（求出 $t_k$ ）</li>
</ul>
<img src="06-2/image-20211104104059128.png" style="zoom:80%;" />

<ul>
<li>如何确定 $v^{(k)}$</li>
</ul>
<h3 id="2-最速下降"><a href="#2-最速下降" class="headerlink" title="(2) 最速下降"></a>(2) 最速下降</h3><ul>
<li><p>每次的方向规定为<strong>负梯度方向</strong> </p>
<ul>
<li>最速下降方法对非线性方程组和优化问题有很好的应用</li>
<li>但由于收敛速度慢，不适用于线性方程组</li>
</ul>
</li>
<li><p>算法步骤</p>
</li>
</ul>
<img src="06-2/image-20211104104444104.png" style="zoom:80%;" />



<h3 id="3-共轭梯度下降"><a href="#3-共轭梯度下降" class="headerlink" title="(3) 共轭梯度下降"></a>(3) 共轭梯度下降</h3><ul>
<li><a href="/2021/10/14/computation/pyr/03-2/#%E5%85%B1%E8%BD%AD%E6%A2%AF%E5%BA%A6%E6%96%B9%E6%B3%95">note</a></li>
<li>正定矩阵 $A$<ul>
<li><strong>$A-$正交条件</strong></li>
</ul>
</li>
</ul>
<p>$$<br>\langle v^{(i)},Av^{(j)}\rangle&#x3D;0,i\ne j<br>$$</p>
<h4 id="定理-1-1"><a href="#定理-1-1" class="headerlink" title="定理 1"></a>定理 1</h4><ul>
<li>共轭梯度方法定理</li>
</ul>
<img src="06-2/image-20211111114315086.png" style="zoom:80%;" />



<h5 id="证明"><a href="#证明" class="headerlink" title="证明"></a>证明</h5><ul>
<li>直接展开证明即可</li>
</ul>
<img src="06-2/image-20211111114728754.png" style="zoom:80%;" />

<ul>
<li>第 3 行到第 4 行：代入第 2 行的结果，利用 <strong>$A-$正交性</strong></li>
<li>第 12 行：紫色部分全为 0</li>
</ul>
<h4 id="定理-2"><a href="#定理-2" class="headerlink" title="定理 2"></a>定理 2</h4><ul>
<li>共轭方向法的剩余向量 $r^{(k)}$ 满足 $\langle r^{(k)},v^{(j)}\rangle&#x3D;0$，$j&#x3D;1,\cdots,k$</li>
</ul>
<p>$$<br>\begin{array}{c}<br>r^{(k)}&#x3D;b-Ax^{(k)}\<br>r^{(k+1)}&#x3D;r^{(k)}-t_{k+1}Av^{(k+1)}\<br>\end{array}<br>$$</p>
<h5 id="证明-1"><a href="#证明-1" class="headerlink" title="证明"></a>证明</h5><img src="06-2/image-20211111120726356.png" style="zoom:80%;" />

<ul>
<li>初始方向是余项方向：$v^{(1)}&#x3D;r^{(0)}$</li>
</ul>
<h4 id="定理-3"><a href="#定理-3" class="headerlink" title="定理 3"></a>定理 3</h4><ul>
<li>共轭方法中的余项 $r^{(k)}$ 满足 $\langle r^{(k)},r^{(j)}\rangle&#x3D;0$，$j&#x3D;1,\cdots,k-1$</li>
</ul>
<h5 id="证明-2"><a href="#证明-2" class="headerlink" title="证明"></a>证明</h5><ul>
<li>如何确定搜索方向 $v^{(k)}$，由如下式子决定（$s_{k-1}$ 用于调整至 $A-$正交条件）</li>
</ul>
<p>$$<br>v^{(k)}&#x3D;r^{(k-1)}+s_{k-1}v^{(k-1)}<br>$$</p>
<ul>
<li>证明</li>
</ul>
<img src="06-2/image-20211111121505054.png" style="zoom:80%;" />

<img src="06-2/image-20211111121526538.png" style="zoom:80%;" />



<h4 id="共轭梯度算法如下"><a href="#共轭梯度算法如下" class="headerlink" title="共轭梯度算法如下"></a>共轭梯度算法如下</h4><img src="06-2/image-20211111122423493.png" style="zoom:80%;" />

<img src="06-2/image-20211111122442531.png" style="zoom:80%;" />

<img src="06-2/image-20211111122458046.png" style="zoom:80%;" />



<h5 id="正交集证明"><a href="#正交集证明" class="headerlink" title="正交集证明"></a>正交集证明</h5><ul>
<li>为什么 $v^{(k)}$ 和 $v^{(k-1)}$ 正交就可以推导得到正交集</li>
<li>$j&lt;k-1$</li>
</ul>
<p>$$<br>\begin{aligned}<br>\langle Av^{(k)},v^{(j)}\rangle&amp;&#x3D;\langle Ar^{(k-1)},v^{(j)}\rangle+s_{k-1}\langle Av^{(k-1)},v^{(j)}\rangle\<br>&amp;&#x3D;\langle Ar^{(k-1)},v^{(j)}\rangle\<br>\end{aligned}<br>$$</p>
<ul>
<li>而根据如下式子，根据 $A$ 正定，证毕</li>
</ul>
<p>$$<br>\langle r^{(k-1)},Av^{(j)}\rangle&#x3D;\langle r^{(k-1)},\dfrac{r^{(j-1)}-r^{(j)}}{t^{(j)}}\rangle&#x3D;0<br>$$</p>
<ul>
<li>$r^{(k-1)}$ 和 $r^{(j-1)},r^{(j)}$ 正交，用到归纳 ${v^{(1)},\cdots,v^{(k-1)}}$ 为正交集</li>
</ul>
<h3 id="4-预条件共轭梯度法"><a href="#4-预条件共轭梯度法" class="headerlink" title="(4) 预条件共轭梯度法"></a>(4) 预条件共轭梯度法</h3><ul>
<li><a href="/2021/10/14/computation/pyr/03-2/#%E9%A2%84%E6%9D%A1%E4%BB%B6">note</a></li>
<li>降低 $A$ 条件数</li>
<li>选择一个非奇异条件矩阵 $C$，使 $\tilde{A}&#x3D;C^{-1}A(C^{-1})^{T}$ 条件更好</li>
</ul>
<p>$$<br>\begin{array}{c}<br>\tilde{A}&#x3D;C^{-1}A(C^{-1})^{T}\<br>\tilde{A}\tilde{x}&#x3D;\tilde{b}\<br>记号:\tilde{x}&#x3D;C^{T}x,\tilde{b}&#x3D;C^{-1}\tilde{b}\<br>A\tilde{x}&#x3D;C^{-1}Ax&#x3D;C^{-1}b\<br>\end{array}<br>$$</p>
<ul>
<li>$C^{-1}Ax&#x3D;C^{-1}b$</li>
<li>具体算法：根据上面的算法求解 $\tilde{A}\tilde{x}&#x3D;\tilde{b}$，过程中转化到解 $x$</li>
</ul>
<img src="06-2/image-20211111235859520.png" style="zoom:80%;" />

<img src="06-2/image-20211112000033176.png" style="zoom:80%;" />
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/11/04/computation/pyr/06-2/" data-id="cl9lj74ag00cq64tzetl2bh1x" data-title="计算方法B.裴玉茹.06.线性方程组(3)" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/computation/" rel="tag">computation</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-book/directory/IntimateRelationships" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/11/04/book/directory/IntimateRelationships/" class="article-date">
  <time class="dt-published" datetime="2021-11-04T02:03:00.000Z" itemprop="datePublished">2021-11-04</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/book-directory/">book.directory</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/11/04/book/directory/IntimateRelationships/">亲密关系目录</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h1><ul>
<li>书名：《亲密关系》第 6 版</li>
<li>作者：【美】罗曼·米勒<ul>
<li>Rowland S.Miller</li>
</ul>
</li>
<li>译者：王伟平</li>
<li>审校：彭凯平</li>
<li>出版社：人民邮电出版社</li>
<li>版次：2015.06 第1版</li>
</ul>
<h1 id="亲密关系"><a href="#亲密关系" class="headerlink" title="亲密关系"></a>亲密关系</h1><h2 id="第1章-人际关系的构成"><a href="#第1章-人际关系的构成" class="headerlink" title="第1章 人际关系的构成"></a>第1章 人际关系的构成</h2><h3 id="亲密关系的性质和重要性"><a href="#亲密关系的性质和重要性" class="headerlink" title="亲密关系的性质和重要性"></a>亲密关系的性质和重要性</h3><h4 id="亲密关系的性质"><a href="#亲密关系的性质" class="headerlink" title="亲密关系的性质"></a>亲密关系的性质</h4><h4 id="归属需要"><a href="#归属需要" class="headerlink" title="归属需要"></a>归属需要</h4><h3 id="文化的影响"><a href="#文化的影响" class="headerlink" title="文化的影响"></a>文化的影响</h3><h4 id="亲密关系变化的根源"><a href="#亲密关系变化的根源" class="headerlink" title="亲密关系变化的根源"></a>亲密关系变化的根源</h4><h3 id="个人经历的影响"><a href="#个人经历的影响" class="headerlink" title="个人经历的影响"></a>个人经历的影响</h3><h3 id="个体差异的影响"><a href="#个体差异的影响" class="headerlink" title="个体差异的影响"></a>个体差异的影响</h3><h4 id="性别差异"><a href="#性别差异" class="headerlink" title="性别差异"></a>性别差异</h4><h4 id="性认同差异"><a href="#性认同差异" class="headerlink" title="性认同差异"></a>性认同差异</h4><h4 id="人格"><a href="#人格" class="headerlink" title="人格"></a>人格</h4><h4 id="自尊"><a href="#自尊" class="headerlink" title="自尊"></a>自尊</h4><h3 id="人类本性的影响"><a href="#人类本性的影响" class="headerlink" title="人类本性的影响"></a>人类本性的影响</h3><h3 id="人际互动的影响"><a href="#人际互动的影响" class="headerlink" title="人际互动的影响"></a>人际互动的影响</h3><h3 id="人际关系的消极面"><a href="#人际关系的消极面" class="headerlink" title="人际关系的消极面"></a>人际关系的消极面</h3><h3 id="请你思考"><a href="#请你思考" class="headerlink" title="请你思考"></a>请你思考</h3><h2 id="第2章-研究方法"><a href="#第2章-研究方法" class="headerlink" title="第2章 研究方法"></a>第2章 研究方法</h2><h3 id="关系科学研究简史"><a href="#关系科学研究简史" class="headerlink" title="关系科学研究简史"></a>关系科学研究简史</h3><h3 id="问题的提出"><a href="#问题的提出" class="headerlink" title="问题的提出"></a>问题的提出</h3><h3 id="参与者的选取"><a href="#参与者的选取" class="headerlink" title="参与者的选取"></a>参与者的选取</h3><h3 id="研究的设计"><a href="#研究的设计" class="headerlink" title="研究的设计"></a>研究的设计</h3><h4 id="相关设计"><a href="#相关设计" class="headerlink" title="相关设计"></a>相关设计</h4><h4 id="实验设计"><a href="#实验设计" class="headerlink" title="实验设计"></a>实验设计</h4><h4 id="发展性研究设计"><a href="#发展性研究设计" class="headerlink" title="发展性研究设计"></a>发展性研究设计</h4><h3 id="场景的选择"><a href="#场景的选择" class="headerlink" title="场景的选择"></a>场景的选择</h3><h3 id="数据的性质"><a href="#数据的性质" class="headerlink" title="数据的性质"></a>数据的性质</h3><h4 id="自我报告"><a href="#自我报告" class="headerlink" title="自我报告"></a>自我报告</h4><h4 id="观察法"><a href="#观察法" class="headerlink" title="观察法"></a>观察法</h4><h4 id="生理测量"><a href="#生理测量" class="headerlink" title="生理测量"></a>生理测量</h4><h4 id="档案材料"><a href="#档案材料" class="headerlink" title="档案材料"></a>档案材料</h4><h3 id="研究应遵循的道德规范"><a href="#研究应遵循的道德规范" class="headerlink" title="研究应遵循的道德规范"></a>研究应遵循的道德规范</h3><h3 id="结果的解释和整合"><a href="#结果的解释和整合" class="headerlink" title="结果的解释和整合"></a>结果的解释和整合</h3><h3 id="最后要点"><a href="#最后要点" class="headerlink" title="最后要点"></a>最后要点</h3><h3 id="请你思考-1"><a href="#请你思考-1" class="headerlink" title="请你思考"></a>请你思考</h3><h2 id="第3章-吸引力"><a href="#第3章-吸引力" class="headerlink" title="第3章 吸引力"></a>第3章 吸引力</h2><h3 id="吸引力的基础：一种奖赏"><a href="#吸引力的基础：一种奖赏" class="headerlink" title="吸引力的基础：一种奖赏"></a>吸引力的基础：一种奖赏</h3><h3 id="临近：喜欢身边的人"><a href="#临近：喜欢身边的人" class="headerlink" title="临近：喜欢身边的人"></a>临近：喜欢身边的人</h3><h4 id="方便：远亲不如近邻"><a href="#方便：远亲不如近邻" class="headerlink" title="方便：远亲不如近邻"></a>方便：远亲不如近邻</h4><h4 id="熟识：重复接触"><a href="#熟识：重复接触" class="headerlink" title="熟识：重复接触"></a>熟识：重复接触</h4><h4 id="临近的作用"><a href="#临近的作用" class="headerlink" title="临近的作用"></a>临近的作用</h4><h3 id="长相吸引力：喜欢那些可爱的人"><a href="#长相吸引力：喜欢那些可爱的人" class="headerlink" title="长相吸引力：喜欢那些可爱的人"></a>长相吸引力：喜欢那些可爱的人</h3><h4 id="对美丽的偏见：“美的就是好的”"><a href="#对美丽的偏见：“美的就是好的”" class="headerlink" title="对美丽的偏见：“美的就是好的”"></a>对美丽的偏见：“美的就是好的”</h4><h4 id="吸引力的秘密"><a href="#吸引力的秘密" class="headerlink" title="吸引力的秘密"></a>吸引力的秘密</h4><h4 id="长相吸引力的演化观"><a href="#长相吸引力的演化观" class="headerlink" title="长相吸引力的演化观"></a>长相吸引力的演化观</h4><h4 id="文化也起作用"><a href="#文化也起作用" class="headerlink" title="文化也起作用"></a>文化也起作用</h4><h4 id="长相的重要性"><a href="#长相的重要性" class="headerlink" title="长相的重要性"></a>长相的重要性</h4><h4 id="美丽：交织着的代价与收益"><a href="#美丽：交织着的代价与收益" class="headerlink" title="美丽：交织着的代价与收益"></a>美丽：交织着的代价与收益</h4><h4 id="长相吸引力的匹配"><a href="#长相吸引力的匹配" class="headerlink" title="长相吸引力的匹配"></a>长相吸引力的匹配</h4><h3 id="礼尚往来：喜欢那些喜欢我们的人"><a href="#礼尚往来：喜欢那些喜欢我们的人" class="headerlink" title="礼尚往来：喜欢那些喜欢我们的人"></a>礼尚往来：喜欢那些喜欢我们的人</h3><h3 id="相似性：喜欢与我们相像的人"><a href="#相似性：喜欢与我们相像的人" class="headerlink" title="相似性：喜欢与我们相像的人"></a>相似性：喜欢与我们相像的人</h3><h4 id="有吸引力的相像种类"><a href="#有吸引力的相像种类" class="headerlink" title="有吸引力的相像种类"></a>有吸引力的相像种类</h4><h4 id="相异并不相吸"><a href="#相异并不相吸" class="headerlink" title="相异并不相吸"></a>相异并不相吸</h4><h3 id="障碍：得不到的就喜欢"><a href="#障碍：得不到的就喜欢" class="headerlink" title="障碍：得不到的就喜欢"></a>障碍：得不到的就喜欢</h3><h3 id="男女两性期望的理想伴侣"><a href="#男女两性期望的理想伴侣" class="headerlink" title="男女两性期望的理想伴侣"></a>男女两性期望的理想伴侣</h3><h3 id="请你思考-2"><a href="#请你思考-2" class="headerlink" title="请你思考"></a>请你思考</h3><h2 id="第4章-社会认知"><a href="#第4章-社会认知" class="headerlink" title="第4章 社会认知"></a>第4章 社会认知</h2><h3 id="第一印象及其影响"><a href="#第一印象及其影响" class="headerlink" title="第一印象及其影响"></a>第一印象及其影响</h3><h3 id="知觉的力量"><a href="#知觉的力量" class="headerlink" title="知觉的力量"></a>知觉的力量</h3><h4 id="伴侣的理想化"><a href="#伴侣的理想化" class="headerlink" title="伴侣的理想化"></a>伴侣的理想化</h4><h4 id="归因过程"><a href="#归因过程" class="headerlink" title="归因过程"></a>归因过程</h4><h4 id="记忆"><a href="#记忆" class="headerlink" title="记忆"></a>记忆</h4><h4 id="关系信念"><a href="#关系信念" class="headerlink" title="关系信念"></a>关系信念</h4><h4 id="期望"><a href="#期望" class="headerlink" title="期望"></a>期望</h4><h4 id="自我知觉"><a href="#自我知觉" class="headerlink" title="自我知觉"></a>自我知觉</h4><h3 id="印象管理"><a href="#印象管理" class="headerlink" title="印象管理"></a>印象管理</h3><h4 id="印象管理策略"><a href="#印象管理策略" class="headerlink" title="印象管理策略"></a>印象管理策略</h4><h4 id="亲密关系中的印象管理"><a href="#亲密关系中的印象管理" class="headerlink" title="亲密关系中的印象管理"></a>亲密关系中的印象管理</h4><h3 id="我们了解伴侣的程度"><a href="#我们了解伴侣的程度" class="headerlink" title="我们了解伴侣的程度"></a>我们了解伴侣的程度</h3><h4 id="了解"><a href="#了解" class="headerlink" title="了解"></a>了解</h4><h4 id="动机"><a href="#动机" class="headerlink" title="动机"></a>动机</h4><h4 id="伴侣的易理解性"><a href="#伴侣的易理解性" class="headerlink" title="伴侣的易理解性"></a>伴侣的易理解性</h4><h4 id="知觉者的能力"><a href="#知觉者的能力" class="headerlink" title="知觉者的能力"></a>知觉者的能力</h4><h4 id="危险的知觉"><a href="#危险的知觉" class="headerlink" title="危险的知觉"></a>危险的知觉</h4><h4 id="知觉者的影响"><a href="#知觉者的影响" class="headerlink" title="知觉者的影响"></a>知觉者的影响</h4><h4 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h4><h3 id="请你思考-3"><a href="#请你思考-3" class="headerlink" title="请你思考"></a>请你思考</h3><h2 id="第5章-沟通"><a href="#第5章-沟通" class="headerlink" title="第5章 沟通"></a>第5章 沟通</h2><h3 id="非言语沟通"><a href="#非言语沟通" class="headerlink" title="非言语沟通"></a>非言语沟通</h3><h4 id="非言语沟通的组成"><a href="#非言语沟通的组成" class="headerlink" title="非言语沟通的组成"></a>非言语沟通的组成</h4><h4 id="非言语的敏感性"><a href="#非言语的敏感性" class="headerlink" title="非言语的敏感性"></a>非言语的敏感性</h4><h3 id="言语沟通"><a href="#言语沟通" class="headerlink" title="言语沟通"></a>言语沟通</h3><h4 id="自我表露"><a href="#自我表露" class="headerlink" title="自我表露"></a>自我表露</h4><h4 id="言语沟通中的性别差异"><a href="#言语沟通中的性别差异" class="headerlink" title="言语沟通中的性别差异"></a>言语沟通中的性别差异</h4><h3 id="沟通障碍及其应对"><a href="#沟通障碍及其应对" class="headerlink" title="沟通障碍及其应对"></a>沟通障碍及其应对</h3><h4 id="沟通不良"><a href="#沟通不良" class="headerlink" title="沟通不良"></a>沟通不良</h4><h4 id="精确表述"><a href="#精确表述" class="headerlink" title="精确表述"></a>精确表述</h4><h4 id="积极倾听"><a href="#积极倾听" class="headerlink" title="积极倾听"></a>积极倾听</h4><h4 id="守礼而镇定"><a href="#守礼而镇定" class="headerlink" title="守礼而镇定"></a>守礼而镇定</h4><h4 id="尊重和确认的力量"><a href="#尊重和确认的力量" class="headerlink" title="尊重和确认的力量"></a>尊重和确认的力量</h4><h3 id="请你思考-4"><a href="#请你思考-4" class="headerlink" title="请你思考"></a>请你思考</h3><h2 id="第6章-相互依赖"><a href="#第6章-相互依赖" class="headerlink" title="第6章 相互依赖"></a>第6章 相互依赖</h2><h3 id="社会交换"><a href="#社会交换" class="headerlink" title="社会交换"></a>社会交换</h3><h4 id="奖赏和代价"><a href="#奖赏和代价" class="headerlink" title="奖赏和代价"></a>奖赏和代价</h4><h4 id="人际关系的期望收益"><a href="#人际关系的期望收益" class="headerlink" title="人际关系的期望收益"></a>人际关系的期望收益</h4><h4 id="人际关系的替代收益"><a href="#人际关系的替代收益" class="headerlink" title="人际关系的替代收益"></a>人际关系的替代收益</h4><h4 id="人际关系的四种类型"><a href="#人际关系的四种类型" class="headerlink" title="人际关系的四种类型"></a>人际关系的四种类型</h4><h4 id="与时俱变的比较水平"><a href="#与时俱变的比较水平" class="headerlink" title="与时俱变的比较水平"></a>与时俱变的比较水平</h4><h3 id="亲密关系的经济论"><a href="#亲密关系的经济论" class="headerlink" title="亲密关系的经济论"></a>亲密关系的经济论</h3><h4 id="奖赏的作用不同于代价"><a href="#奖赏的作用不同于代价" class="headerlink" title="奖赏的作用不同于代价"></a>奖赏的作用不同于代价</h4><h4 id="与时俱变的奖赏和代价"><a href="#与时俱变的奖赏和代价" class="headerlink" title="与时俱变的奖赏和代价"></a>与时俱变的奖赏和代价</h4><h3 id="亲密关系中的贪婪"><a href="#亲密关系中的贪婪" class="headerlink" title="亲密关系中的贪婪"></a>亲密关系中的贪婪</h3><h4 id="相互依赖的实质"><a href="#相互依赖的实质" class="headerlink" title="相互依赖的实质"></a>相互依赖的实质</h4><h4 id="交换关系与共有关系"><a href="#交换关系与共有关系" class="headerlink" title="交换关系与共有关系"></a>交换关系与共有关系</h4><h4 id="公平关系"><a href="#公平关系" class="headerlink" title="公平关系"></a>公平关系</h4><h4 id="小结-1"><a href="#小结-1" class="headerlink" title="小结"></a>小结</h4><h3 id="承诺的本质"><a href="#承诺的本质" class="headerlink" title="承诺的本质"></a>承诺的本质</h3><h4 id="承诺引起的后果"><a href="#承诺引起的后果" class="headerlink" title="承诺引起的后果"></a>承诺引起的后果</h4><h3 id="请你思考-5"><a href="#请你思考-5" class="headerlink" title="请你思考"></a>请你思考</h3><h2 id="第7章-友谊"><a href="#第7章-友谊" class="headerlink" title="第7章 友谊"></a>第7章 友谊</h2><h3 id="友谊的本质"><a href="#友谊的本质" class="headerlink" title="友谊的本质"></a>友谊的本质</h3><h4 id="友谊的属性"><a href="#友谊的属性" class="headerlink" title="友谊的属性"></a>友谊的属性</h4><h4 id="友谊的规则"><a href="#友谊的规则" class="headerlink" title="友谊的规则"></a>友谊的规则</h4><h3 id="友谊的毕生变化"><a href="#友谊的毕生变化" class="headerlink" title="友谊的毕生变化"></a>友谊的毕生变化</h3><h4 id="童年期"><a href="#童年期" class="headerlink" title="童年期"></a>童年期</h4><h4 id="青少年期"><a href="#青少年期" class="headerlink" title="青少年期"></a>青少年期</h4><h4 id="成年早期"><a href="#成年早期" class="headerlink" title="成年早期"></a>成年早期</h4><h4 id="中年期"><a href="#中年期" class="headerlink" title="中年期"></a>中年期</h4><h4 id="老年期"><a href="#老年期" class="headerlink" title="老年期"></a>老年期</h4><h3 id="友谊的差异"><a href="#友谊的差异" class="headerlink" title="友谊的差异"></a>友谊的差异</h3><h4 id="同性友谊中的性别差异"><a href="#同性友谊中的性别差异" class="headerlink" title="同性友谊中的性别差异"></a>同性友谊中的性别差异</h4><h4 id="友谊的个体差异"><a href="#友谊的个体差异" class="headerlink" title="友谊的个体差异"></a>友谊的个体差异</h4><h3 id="友谊发展的障碍"><a href="#友谊发展的障碍" class="headerlink" title="友谊发展的障碍"></a>友谊发展的障碍</h3><h4 id="羞怯"><a href="#羞怯" class="headerlink" title="羞怯"></a>羞怯</h4><h4 id="孤独"><a href="#孤独" class="headerlink" title="孤独"></a>孤独</h4><h3 id="请你思考-6"><a href="#请你思考-6" class="headerlink" title="请你思考"></a>请你思考</h3><h2 id="第8章-爱情"><a href="#第8章-爱情" class="headerlink" title="第8章 爱情"></a>第8章 爱情</h2><h3 id="爱情简史"><a href="#爱情简史" class="headerlink" title="爱情简史"></a>爱情简史</h3><h3 id="爱情类型"><a href="#爱情类型" class="headerlink" title="爱情类型"></a>爱情类型</h3><h4 id="爱情三角理论"><a href="#爱情三角理论" class="headerlink" title="爱情三角理论"></a>爱情三角理论</h4><h4 id="浪漫狂热之爱"><a href="#浪漫狂热之爱" class="headerlink" title="浪漫狂热之爱"></a>浪漫狂热之爱</h4><h4 id="相伴之爱"><a href="#相伴之爱" class="headerlink" title="相伴之爱"></a>相伴之爱</h4><h4 id="同情之爱"><a href="#同情之爱" class="headerlink" title="同情之爱"></a>同情之爱</h4><h4 id="爱恋风格"><a href="#爱恋风格" class="headerlink" title="爱恋风格"></a>爱恋风格</h4><h3 id="爱情的个体和文化差异"><a href="#爱情的个体和文化差异" class="headerlink" title="爱情的个体和文化差异"></a>爱情的个体和文化差异</h3><h4 id="文化"><a href="#文化" class="headerlink" title="文化"></a>文化</h4><h4 id="依恋类型"><a href="#依恋类型" class="headerlink" title="依恋类型"></a>依恋类型</h4><h4 id="年龄"><a href="#年龄" class="headerlink" title="年龄"></a>年龄</h4><h4 id="性别"><a href="#性别" class="headerlink" title="性别"></a>性别</h4><h3 id="爱情能持久吗"><a href="#爱情能持久吗" class="headerlink" title="爱情能持久吗"></a>爱情能持久吗</h3><h4 id="浪漫爱情为何难以持久"><a href="#浪漫爱情为何难以持久" class="headerlink" title="浪漫爱情为何难以持久"></a>浪漫爱情为何难以持久</h4><h4 id="爱情的未来怎样"><a href="#爱情的未来怎样" class="headerlink" title="爱情的未来怎样"></a>爱情的未来怎样</h4><h3 id="请你思考-7"><a href="#请你思考-7" class="headerlink" title="请你思考"></a>请你思考</h3><h2 id="第9章-性爱"><a href="#第9章-性爱" class="headerlink" title="第9章 性爱"></a>第9章 性爱</h2><h3 id="性态度"><a href="#性态度" class="headerlink" title="性态度"></a>性态度</h3><h4 id="对随意性行为的态度"><a href="#对随意性行为的态度" class="headerlink" title="对随意性行为的态度"></a>对随意性行为的态度</h4><h4 id="对同性恋的态度"><a href="#对同性恋的态度" class="headerlink" title="对同性恋的态度"></a>对同性恋的态度</h4><h4 id="性态度上的文化差异"><a href="#性态度上的文化差异" class="headerlink" title="性态度上的文化差异"></a>性态度上的文化差异</h4><h3 id="性行为"><a href="#性行为" class="headerlink" title="性行为"></a>性行为</h3><h4 id="第一次性行为"><a href="#第一次性行为" class="headerlink" title="第一次性行为"></a>第一次性行为</h4><h4 id="忠诚关系中的性行为"><a href="#忠诚关系中的性行为" class="headerlink" title="忠诚关系中的性行为"></a>忠诚关系中的性行为</h4><h4 id="不贞"><a href="#不贞" class="headerlink" title="不贞"></a>不贞</h4><h4 id="性欲望"><a href="#性欲望" class="headerlink" title="性欲望"></a>性欲望</h4><h4 id="安全而明智的性行为"><a href="#安全而明智的性行为" class="headerlink" title="安全而明智的性行为"></a>安全而明智的性行为</h4><h3 id="性满足"><a href="#性满足" class="headerlink" title="性满足"></a>性满足</h3><h4 id="性沟通"><a href="#性沟通" class="headerlink" title="性沟通"></a>性沟通</h4><h4 id="性满足与关系满意度"><a href="#性满足与关系满意度" class="headerlink" title="性满足与关系满意度"></a>性满足与关系满意度</h4><h3 id="性胁迫"><a href="#性胁迫" class="headerlink" title="性胁迫"></a>性胁迫</h3><h3 id="请你思考-8"><a href="#请你思考-8" class="headerlink" title="请你思考"></a>请你思考</h3><h2 id="第10章-压力与紧张"><a href="#第10章-压力与紧张" class="headerlink" title="第10章 压力与紧张"></a>第10章 压力与紧张</h2><h3 id="感知到的关系价值"><a href="#感知到的关系价值" class="headerlink" title="感知到的关系价值"></a>感知到的关系价值</h3><h3 id="感情创伤"><a href="#感情创伤" class="headerlink" title="感情创伤"></a>感情创伤</h3><h3 id="伴侣排斥"><a href="#伴侣排斥" class="headerlink" title="伴侣排斥"></a>伴侣排斥</h3><h3 id="嫉妒"><a href="#嫉妒" class="headerlink" title="嫉妒"></a>嫉妒</h3><h4 id="嫉妒的两种类型"><a href="#嫉妒的两种类型" class="headerlink" title="嫉妒的两种类型"></a>嫉妒的两种类型</h4><h4 id="容易嫉妒的人"><a href="#容易嫉妒的人" class="headerlink" title="容易嫉妒的人"></a>容易嫉妒的人</h4><h4 id="让人嫉妒的人"><a href="#让人嫉妒的人" class="headerlink" title="让人嫉妒的人"></a>让人嫉妒的人</h4><h4 id="让人嫉妒的事物"><a href="#让人嫉妒的事物" class="headerlink" title="让人嫉妒的事物"></a>让人嫉妒的事物</h4><h4 id="对嫉妒的反应"><a href="#对嫉妒的反应" class="headerlink" title="对嫉妒的反应"></a>对嫉妒的反应</h4><h4 id="积极有效地应对嫉妒"><a href="#积极有效地应对嫉妒" class="headerlink" title="积极有效地应对嫉妒"></a>积极有效地应对嫉妒</h4><h3 id="欺骗和说谎"><a href="#欺骗和说谎" class="headerlink" title="欺骗和说谎"></a>欺骗和说谎</h3><h4 id="亲密关系和普通关系中的说谎行为"><a href="#亲密关系和普通关系中的说谎行为" class="headerlink" title="亲密关系和普通关系中的说谎行为"></a>亲密关系和普通关系中的说谎行为</h4><h4 id="谎言与说谎者"><a href="#谎言与说谎者" class="headerlink" title="谎言与说谎者"></a>谎言与说谎者</h4><h4 id="对伴侣欺骗行为的觉察"><a href="#对伴侣欺骗行为的觉察" class="headerlink" title="对伴侣欺骗行为的觉察"></a>对伴侣欺骗行为的觉察</h4><h3 id="背叛"><a href="#背叛" class="headerlink" title="背叛"></a>背叛</h3><h4 id="背叛的个体差异"><a href="#背叛的个体差异" class="headerlink" title="背叛的个体差异"></a>背叛的个体差异</h4><h4 id="背叛的两面性"><a href="#背叛的两面性" class="headerlink" title="背叛的两面性"></a>背叛的两面性</h4><h4 id="应对背叛"><a href="#应对背叛" class="headerlink" title="应对背叛"></a>应对背叛</h4><h3 id="宽恕"><a href="#宽恕" class="headerlink" title="宽恕"></a>宽恕</h3><h3 id="请你思考-9"><a href="#请你思考-9" class="headerlink" title="请你思考"></a>请你思考</h3><h2 id="第11章-冲突"><a href="#第11章-冲突" class="headerlink" title="第11章 冲突"></a>第11章 冲突</h2><h3 id="冲突的性质"><a href="#冲突的性质" class="headerlink" title="冲突的性质"></a>冲突的性质</h3><h4 id="冲突的定义"><a href="#冲突的定义" class="headerlink" title="冲突的定义"></a>冲突的定义</h4><h4 id="冲突的频率"><a href="#冲突的频率" class="headerlink" title="冲突的频率"></a>冲突的频率</h4><h3 id="冲突的过程"><a href="#冲突的过程" class="headerlink" title="冲突的过程"></a>冲突的过程</h3><h4 id="激发事件"><a href="#激发事件" class="headerlink" title="激发事件"></a>激发事件</h4><h4 id="归因"><a href="#归因" class="headerlink" title="归因"></a>归因</h4><h4 id="介入和升级"><a href="#介入和升级" class="headerlink" title="介入和升级"></a>介入和升级</h4><h4 id="要求-x2F-退避模式"><a href="#要求-x2F-退避模式" class="headerlink" title="要求&#x2F;退避模式"></a>要求&#x2F;退避模式</h4><h4 id="协商和顺应"><a href="#协商和顺应" class="headerlink" title="协商和顺应"></a>协商和顺应</h4><h4 id="应对冲突：四类夫妻"><a href="#应对冲突：四类夫妻" class="headerlink" title="应对冲突：四类夫妻"></a>应对冲突：四类夫妻</h4><h3 id="冲突的结果"><a href="#冲突的结果" class="headerlink" title="冲突的结果"></a>冲突的结果</h3><h4 id="冲突的结束"><a href="#冲突的结束" class="headerlink" title="冲突的结束"></a>冲突的结束</h4><h4 id="冲突的益处"><a href="#冲突的益处" class="headerlink" title="冲突的益处"></a>冲突的益处</h4><h3 id="请你思考-10"><a href="#请你思考-10" class="headerlink" title="请你思考"></a>请你思考</h3><h2 id="第12章-权力和暴力"><a href="#第12章-权力和暴力" class="headerlink" title="第12章 权力和暴力"></a>第12章 权力和暴力</h2><h3 id="权力和相互依赖"><a href="#权力和相互依赖" class="headerlink" title="权力和相互依赖"></a>权力和相互依赖</h3><h4 id="权力的来源"><a href="#权力的来源" class="headerlink" title="权力的来源"></a>权力的来源</h4><h4 id="资源的类型"><a href="#资源的类型" class="headerlink" title="资源的类型"></a>资源的类型</h4><h4 id="男女两性和资源的控制"><a href="#男女两性和资源的控制" class="headerlink" title="男女两性和资源的控制"></a>男女两性和资源的控制</h4><h4 id="权力的过程"><a href="#权力的过程" class="headerlink" title="权力的过程"></a>权力的过程</h4><h4 id="权力的结果"><a href="#权力的结果" class="headerlink" title="权力的结果"></a>权力的结果</h4><h4 id="权力的两面性"><a href="#权力的两面性" class="headerlink" title="权力的两面性"></a>权力的两面性</h4><h3 id="亲密关系中的暴力"><a href="#亲密关系中的暴力" class="headerlink" title="亲密关系中的暴力"></a>亲密关系中的暴力</h3><h4 id="暴力的普遍性"><a href="#暴力的普遍性" class="headerlink" title="暴力的普遍性"></a>暴力的普遍性</h4><h4 id="伴侣暴力的种类"><a href="#伴侣暴力的种类" class="headerlink" title="伴侣暴力的种类"></a>伴侣暴力的种类</h4><h4 id="亲密关系暴力中的性别差异"><a href="#亲密关系暴力中的性别差异" class="headerlink" title="亲密关系暴力中的性别差异"></a>亲密关系暴力中的性别差异</h4><h4 id="暴力的相关因素"><a href="#暴力的相关因素" class="headerlink" title="暴力的相关因素"></a>暴力的相关因素</h4><h4 id="暴力的基本原理"><a href="#暴力的基本原理" class="headerlink" title="暴力的基本原理"></a>暴力的基本原理</h4><h4 id="受害者不离开的原因"><a href="#受害者不离开的原因" class="headerlink" title="受害者不离开的原因"></a>受害者不离开的原因</h4><h3 id="请你思考-11"><a href="#请你思考-11" class="headerlink" title="请你思考"></a>请你思考</h3><h2 id="第13章-亲密关系的解体与消亡"><a href="#第13章-亲密关系的解体与消亡" class="headerlink" title="第13章 亲密关系的解体与消亡"></a>第13章 亲密关系的解体与消亡</h2><h3 id="离婚率的变化"><a href="#离婚率的变化" class="headerlink" title="离婚率的变化"></a>离婚率的变化</h3><h4 id="离婚的普遍性"><a href="#离婚的普遍性" class="headerlink" title="离婚的普遍性"></a>离婚的普遍性</h4><h4 id="离婚率增加的原因"><a href="#离婚率增加的原因" class="headerlink" title="离婚率增加的原因"></a>离婚率增加的原因</h4><h3 id="离婚的征兆"><a href="#离婚的征兆" class="headerlink" title="离婚的征兆"></a>离婚的征兆</h3><h4 id="障碍模型"><a href="#障碍模型" class="headerlink" title="障碍模型"></a>障碍模型</h4><h4 id="脆弱—应激—适应模型"><a href="#脆弱—应激—适应模型" class="headerlink" title="脆弱—应激—适应模型"></a>脆弱—应激—适应模型</h4><h4 id="亲密关系适应过程（PAIR）项目结果"><a href="#亲密关系适应过程（PAIR）项目结果" class="headerlink" title="亲密关系适应过程（PAIR）项目结果"></a>亲密关系适应过程（PAIR）项目结果</h4><h4 id="婚姻早期岁月（EYM）项目结果"><a href="#婚姻早期岁月（EYM）项目结果" class="headerlink" title="婚姻早期岁月（EYM）项目结果"></a>婚姻早期岁月（EYM）项目结果</h4><h4 id="婚姻问题的个体知觉"><a href="#婚姻问题的个体知觉" class="headerlink" title="婚姻问题的个体知觉"></a>婚姻问题的个体知觉</h4><h4 id="特定的离婚信号"><a href="#特定的离婚信号" class="headerlink" title="特定的离婚信号"></a>特定的离婚信号</h4><h3 id="分手"><a href="#分手" class="headerlink" title="分手"></a>分手</h3><h4 id="与婚前伴侣的分手"><a href="#与婚前伴侣的分手" class="headerlink" title="与婚前伴侣的分手"></a>与婚前伴侣的分手</h4><h4 id="离婚的步骤"><a href="#离婚的步骤" class="headerlink" title="离婚的步骤"></a>离婚的步骤</h4><h3 id="分手的后果"><a href="#分手的后果" class="headerlink" title="分手的后果"></a>分手的后果</h3><h4 id="解体后的关系"><a href="#解体后的关系" class="headerlink" title="解体后的关系"></a>解体后的关系</h4><h4 id="克服消极情绪"><a href="#克服消极情绪" class="headerlink" title="克服消极情绪"></a>克服消极情绪</h4><h4 id="离婚不同于恋人分手"><a href="#离婚不同于恋人分手" class="headerlink" title="离婚不同于恋人分手"></a>离婚不同于恋人分手</h4><h4 id="父母离异的孩子"><a href="#父母离异的孩子" class="headerlink" title="父母离异的孩子"></a>父母离异的孩子</h4><h3 id="请你思考-12"><a href="#请你思考-12" class="headerlink" title="请你思考"></a>请你思考</h3><h2 id="第14章-亲密关系的维持和修复"><a href="#第14章-亲密关系的维持和修复" class="headerlink" title="第14章 亲密关系的维持和修复"></a>第14章 亲密关系的维持和修复</h2><h3 id="亲密关系的维持和提升"><a href="#亲密关系的维持和提升" class="headerlink" title="亲密关系的维持和提升"></a>亲密关系的维持和提升</h3><h4 id="保持忠诚"><a href="#保持忠诚" class="headerlink" title="保持忠诚"></a>保持忠诚</h4><h4 id="保持满足"><a href="#保持满足" class="headerlink" title="保持满足"></a>保持满足</h4><h3 id="修复关系"><a href="#修复关系" class="headerlink" title="修复关系"></a>修复关系</h3><h4 id="自我实践"><a href="#自我实践" class="headerlink" title="自我实践"></a>自我实践</h4><h4 id="预防性维持"><a href="#预防性维持" class="headerlink" title="预防性维持"></a>预防性维持</h4><h4 id="婚姻治疗"><a href="#婚姻治疗" class="headerlink" title="婚姻治疗"></a>婚姻治疗</h4><h3 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h3><h3 id="请你思考-13"><a href="#请你思考-13" class="headerlink" title="请你思考"></a>请你思考</h3>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/11/04/book/directory/IntimateRelationships/" data-id="cl9lj74bq00lb64tz8xluc6ae" data-title="亲密关系目录" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/book/" rel="tag">book</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/6/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><a class="page-number" href="/page/9/">9</a><span class="space">&hellip;</span><a class="page-number" href="/page/26/">26</a><a class="extend next" rel="next" href="/page/8/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/0/">0</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Algebra/">Algebra</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/C-Kits/">C++.Kits</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CG/">CG</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CG-Algorithm/">CG.Algorithm</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CG-GAMES101/">CG.GAMES101</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CG-GAMES102/">CG.GAMES102</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CG-GAMES103/">CG.GAMES103</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CG-GAMES104/">CG.GAMES104</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CG-GAMES202/">CG.GAMES202</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CG-GAMES203/">CG.GAMES203</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CG-Kits/">CG.Kits</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CG-LS/">CG.LS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CG-PBRT/">CG.PBRT</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CG-Paper/">CG.Paper</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CV/">CV</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Code/">Code</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/DB-CLJ/">DB.CLJ</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/DB-MySQL/">DB.MySQL</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/DB-SQLServer/">DB.SQLServer</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/DSA/">DSA</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kits/">Kits</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Math/">Math</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/OS-CXQ/">OS.CXQ</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/OS-OSTEP/">OS.OSTEP</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/OS-xv6-labs/">OS.xv6-labs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/OS-xv6-source-code/">OS.xv6-source-code</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/TODO/">TODO</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/book-directory/">book.directory</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/computation-pyr/">computation.pyr</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/csharp-kits/">csharp.kits</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/csharp-tds/">csharp.tds</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/images/">images</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/installation/">installation</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/mitsuba/">mitsuba</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/nothing/">nothing</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/software-Maya/">software.Maya</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/software-ps/">software.ps</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/software-vscode/">software.vscode</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/win/">win</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Algebra/" rel="tag">Algebra</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BFS/" rel="tag">BFS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BST/" rel="tag">BST</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BVH/" rel="tag">BVH</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/" rel="tag">C++</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CG/" rel="tag">CG</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CG-Algorithm/" rel="tag">CG-Algorithm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CV/" rel="tag">CV</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Code/" rel="tag">Code</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DB/" rel="tag">DB</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DFS/" rel="tag">DFS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DP/" rel="tag">DP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DSA/" rel="tag">DSA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Dijkstra/" rel="tag">Dijkstra</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/EG/" rel="tag">EG</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Floyd/" rel="tag">Floyd</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GI/" rel="tag">GI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Glints/" rel="tag">Glints</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HDR/" rel="tag">HDR</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HQX/" rel="tag">HQX</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Heap/" rel="tag">Heap</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kits/" rel="tag">Kits</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LCA/" rel="tag">LCA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LLG/" rel="tag">LLG</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MCMC/" rel="tag">MCMC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MIS/" rel="tag">MIS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MLT/" rel="tag">MLT</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Maya/" rel="tag">Maya</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NEE/" rel="tag">NEE</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OS/" rel="tag">OS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PBRT/" rel="tag">PBRT</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Paper/" rel="tag">Paper</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Radiometry/" rel="tag">Radiometry</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RayTracing/" rel="tag">RayTracing</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SAH/" rel="tag">SAH</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SDF/" rel="tag">SDF</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SGJ/" rel="tag">SGJ</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SQL/" rel="tag">SQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SQLServer/" rel="tag">SQLServer</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/STL/" rel="tag">STL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Shadow/" rel="tag">Shadow</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WHM/" rel="tag">WHM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WX/" rel="tag">WX</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/YLQ/" rel="tag">YLQ</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/book/" rel="tag">book</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/computation/" rel="tag">computation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/csharp/" rel="tag">csharp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/images/" rel="tag">images</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/installation/" rel="tag">installation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/" rel="tag">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/" rel="tag">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/math/" rel="tag">math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mitsuba/" rel="tag">mitsuba</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mobaxterm/" rel="tag">mobaxterm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nothing/" rel="tag">nothing</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/obs/" rel="tag">obs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/occlusion/" rel="tag">occlusion</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ps/" rel="tag">ps</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/software/" rel="tag">software</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/test/" rel="tag">test</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tree/" rel="tag">tree</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vscode/" rel="tag">vscode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/win/" rel="tag">win</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/xv6/" rel="tag">xv6</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%8C%E5%88%86/" rel="tag">二分</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%85%83%E5%AE%87%E5%AE%99/" rel="tag">元宇宙</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%87%A0%E4%BD%95/" rel="tag">几何</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8F%AF%E8%A7%81%E6%80%A7/" rel="tag">可见性</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B9%B6%E6%9F%A5%E9%9B%86/" rel="tag">并查集</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8B%93%E6%89%91%E6%8E%92%E5%BA%8F/" rel="tag">拓扑排序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8E%92%E5%BA%8F/" rel="tag">排序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%99%AE%E5%90%95%E5%85%8B%E5%9D%90%E6%A0%87/" rel="tag">普吕克坐标</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/" rel="tag">最小生成树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9C%80%E7%9F%AD%E8%B7%AF/" rel="tag">最短路</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BA%BF%E6%AE%B5%E6%A0%91/" rel="tag">线段树</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Algebra/" style="font-size: 10px;">Algebra</a> <a href="/tags/BFS/" style="font-size: 10px;">BFS</a> <a href="/tags/BST/" style="font-size: 10px;">BST</a> <a href="/tags/BVH/" style="font-size: 12.5px;">BVH</a> <a href="/tags/C/" style="font-size: 10px;">C++</a> <a href="/tags/CG/" style="font-size: 20px;">CG</a> <a href="/tags/CG-Algorithm/" style="font-size: 10px;">CG-Algorithm</a> <a href="/tags/CV/" style="font-size: 10.63px;">CV</a> <a href="/tags/Code/" style="font-size: 14.38px;">Code</a> <a href="/tags/DB/" style="font-size: 19.38px;">DB</a> <a href="/tags/DFS/" style="font-size: 12.5px;">DFS</a> <a href="/tags/DP/" style="font-size: 13.13px;">DP</a> <a href="/tags/DSA/" style="font-size: 11.25px;">DSA</a> <a href="/tags/Dijkstra/" style="font-size: 10px;">Dijkstra</a> <a href="/tags/EG/" style="font-size: 12.5px;">EG</a> <a href="/tags/Floyd/" style="font-size: 10.63px;">Floyd</a> <a href="/tags/GI/" style="font-size: 11.25px;">GI</a> <a href="/tags/Glints/" style="font-size: 10px;">Glints</a> <a href="/tags/HDR/" style="font-size: 10px;">HDR</a> <a href="/tags/HQX/" style="font-size: 10px;">HQX</a> <a href="/tags/Heap/" style="font-size: 10px;">Heap</a> <a href="/tags/Kits/" style="font-size: 13.75px;">Kits</a> <a href="/tags/LCA/" style="font-size: 10px;">LCA</a> <a href="/tags/LLG/" style="font-size: 12.5px;">LLG</a> <a href="/tags/MCMC/" style="font-size: 10.63px;">MCMC</a> <a href="/tags/MIS/" style="font-size: 10px;">MIS</a> <a href="/tags/MLT/" style="font-size: 10px;">MLT</a> <a href="/tags/Maya/" style="font-size: 10px;">Maya</a> <a href="/tags/MySQL/" style="font-size: 11.88px;">MySQL</a> <a href="/tags/NEE/" style="font-size: 10px;">NEE</a> <a href="/tags/OS/" style="font-size: 17.5px;">OS</a> <a href="/tags/PBRT/" style="font-size: 10px;">PBRT</a> <a href="/tags/Paper/" style="font-size: 15.63px;">Paper</a> <a href="/tags/Radiometry/" style="font-size: 10px;">Radiometry</a> <a href="/tags/RayTracing/" style="font-size: 10px;">RayTracing</a> <a href="/tags/SAH/" style="font-size: 10px;">SAH</a> <a href="/tags/SDF/" style="font-size: 10px;">SDF</a> <a href="/tags/SGJ/" style="font-size: 10.63px;">SGJ</a> <a href="/tags/SQL/" style="font-size: 13.13px;">SQL</a> <a href="/tags/SQLServer/" style="font-size: 10.63px;">SQLServer</a> <a href="/tags/STL/" style="font-size: 11.25px;">STL</a> <a href="/tags/Shadow/" style="font-size: 10px;">Shadow</a> <a href="/tags/WHM/" style="font-size: 16.88px;">WHM</a> <a href="/tags/WX/" style="font-size: 11.88px;">WX</a> <a href="/tags/YLQ/" style="font-size: 18.13px;">YLQ</a> <a href="/tags/book/" style="font-size: 10.63px;">book</a> <a href="/tags/computation/" style="font-size: 18.75px;">computation</a> <a href="/tags/csharp/" style="font-size: 16.25px;">csharp</a> <a href="/tags/images/" style="font-size: 10px;">images</a> <a href="/tags/installation/" style="font-size: 11.88px;">installation</a> <a href="/tags/js/" style="font-size: 10px;">js</a> <a href="/tags/linux/" style="font-size: 11.25px;">linux</a> <a href="/tags/math/" style="font-size: 10px;">math</a> <a href="/tags/mitsuba/" style="font-size: 11.88px;">mitsuba</a> <a href="/tags/mobaxterm/" style="font-size: 10px;">mobaxterm</a> <a href="/tags/nothing/" style="font-size: 10.63px;">nothing</a> <a href="/tags/obs/" style="font-size: 10px;">obs</a> <a href="/tags/occlusion/" style="font-size: 15px;">occlusion</a> <a href="/tags/ps/" style="font-size: 10px;">ps</a> <a href="/tags/software/" style="font-size: 10px;">software</a> <a href="/tags/test/" style="font-size: 10px;">test</a> <a href="/tags/tree/" style="font-size: 11.25px;">tree</a> <a href="/tags/vscode/" style="font-size: 10.63px;">vscode</a> <a href="/tags/win/" style="font-size: 10.63px;">win</a> <a href="/tags/xv6/" style="font-size: 16.25px;">xv6</a> <a href="/tags/%E4%BA%8C%E5%88%86/" style="font-size: 10.63px;">二分</a> <a href="/tags/%E5%85%83%E5%AE%87%E5%AE%99/" style="font-size: 10.63px;">元宇宙</a> <a href="/tags/%E5%87%A0%E4%BD%95/" style="font-size: 10px;">几何</a> <a href="/tags/%E5%8F%AF%E8%A7%81%E6%80%A7/" style="font-size: 11.88px;">可见性</a> <a href="/tags/%E5%B9%B6%E6%9F%A5%E9%9B%86/" style="font-size: 10.63px;">并查集</a> <a href="/tags/%E6%8B%93%E6%89%91%E6%8E%92%E5%BA%8F/" style="font-size: 10px;">拓扑排序</a> <a href="/tags/%E6%8E%92%E5%BA%8F/" style="font-size: 10px;">排序</a> <a href="/tags/%E6%99%AE%E5%90%95%E5%85%8B%E5%9D%90%E6%A0%87/" style="font-size: 10px;">普吕克坐标</a> <a href="/tags/%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/" style="font-size: 10px;">最小生成树</a> <a href="/tags/%E6%9C%80%E7%9F%AD%E8%B7%AF/" style="font-size: 13.13px;">最短路</a> <a href="/tags/%E7%BA%BF%E6%AE%B5%E6%A0%91/" style="font-size: 10px;">线段树</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">October 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/10/23/CG/WHM-GAMES103/11/">GAMES103.王华民.11.Incompressible Fluid Dynamics and Eulerian Fluids</a>
          </li>
        
          <li>
            <a href="/2022/10/23/CG/Papers/2021/bvh-survey-3/">(论文)[2021] A Survey on Bounding Volume Hierarchies for Ray Tracing(4)</a>
          </li>
        
          <li>
            <a href="/2022/04/28/CG/Kits/MIS-NEE/">NEE、MIS(多重重要性采样)</a>
          </li>
        
          <li>
            <a href="/2022/04/18/CG/WHM-GAMES103/10/">GAMES103.王华民.10.Surface Waves</a>
          </li>
        
          <li>
            <a href="/2022/04/17/CG/WHM-GAMES103/09-1/">GAMES103.王华民.09.Collision Handling(1)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2022 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>