<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/page/11/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-computation/pyr/01" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/09/25/computation/pyr/01/" class="article-date">
  <time class="dt-published" datetime="2021-09-25T07:00:57.000Z" itemprop="datePublished">2021-09-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/computation-pyr/">computation.pyr</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/09/25/computation/pyr/01/">计算方法B.裴玉茹.01.基础知识</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <ul>
<li>数值分析课本第 0 章（基础知识） + PPT（误差）</li>
</ul>
<h1 id="基础知识"><a href="#基础知识" class="headerlink" title="基础知识"></a>基础知识</h1><h2 id="1-多项式求值"><a href="#1-多项式求值" class="headerlink" title="1. 多项式求值"></a>1. 多项式求值</h2><ul>
<li>$x&#x3D;\dfrac{1}{2},P(x)&#x3D;2x^4+3x^3-3x^2+5x-1$</li>
<li><strong>直接求值</strong><ul>
<li>乘法：10</li>
<li>加法：4</li>
</ul>
</li>
<li>计算 $(\dfrac{1}{2})^4$ 保留中间结果<ul>
<li>乘法：7（$x^3,x^2$ 不需要重复计算）</li>
<li>加法：4</li>
</ul>
</li>
<li><strong>嵌套乘法（霍纳方法）</strong><ul>
<li>乘法：4</li>
<li>加法：4</li>
</ul>
</li>
</ul>
<p>$$<br>\begin{aligned}<br>P(x)&amp;&#x3D;2x^4+3x^3-3x^2+5x-1\<br>&amp;&#x3D;-1+5x-3x^2+3x^3+2x^4\<br>&amp;&#x3D;-1+x(5+x(-3+x(3+x(2)))<br>\end{aligned}<br>$$</p>
<ul>
<li>嵌套乘法能够通过 d 次乘法和 d 次加法计算 d 阶多项式的值</li>
<li><strong>科学计算方法的所有主题的特征</strong><ul>
<li>做简单计算的时候速度要快</li>
<li>由于简单计算可能会被进行多次，尽可能有效地进行简单计算非常重要</li>
<li>最好的计算方法可能不是显而易见的那种方法</li>
</ul>
</li>
<li>多项式的标准形式</li>
</ul>
<p>$$<br>\begin{aligned}<br>&amp;c_1+c_2x+c_3x^2+c_4x^3+c_5x^4\<br>&#x3D;&amp;c_1+x(c_2+x(c_3+x(c_4+x(c_5))))\<br>\end{aligned}<br>$$</p>
<ul>
<li>更加一般的形式<ul>
<li>称 $r_1,\cdots,r_4$ 为<strong>基点</strong></li>
</ul>
</li>
</ul>
<p>$$<br>\begin{aligned}<br>&amp;c_1+c_2x+c_3x^2+c_4x^3+c_5x^4\<br>&#x3D;&amp;c_1+(x-r_1)(c_2+(x-r_2)(c_3+(x-r_3)(c_4+(x-r_4)(c_5))))\<br>\end{aligned}<br>$$</p>
<h2 id="2-二进制数字"><a href="#2-二进制数字" class="headerlink" title="2. 二进制数字"></a>2. 二进制数字</h2><ul>
<li>进制转换<ul>
<li>整数部分</li>
<li>小数部分</li>
</ul>
</li>
<li>2 进制转 10 进制无限循环小数示例</li>
</ul>
<p>$$<br>\begin{aligned}<br>x&amp;&#x3D;(0.\overline{1011})_2\Rightarrow2^4x&#x3D;(1011.\overline{1011})_2\<br>x&amp;&#x3D;\dfrac{(1011)_2}{2^4-1}&#x3D;\dfrac{11}{15}<br>\end{aligned}<br>$$</p>
<h2 id="3-实数的浮点表示"><a href="#3-实数的浮点表示" class="headerlink" title="3. 实数的浮点表示"></a>3. 实数的浮点表示</h2><ul>
<li>IEEE 标准</li>
</ul>
<table>
<thead>
<tr>
<th align="center">精度</th>
<th align="center">符号 S</th>
<th align="center">尾数 M</th>
<th align="center">指数 E</th>
</tr>
</thead>
<tbody><tr>
<td align="center">单精度 32</td>
<td align="center">1</td>
<td align="center">8</td>
<td align="center">23</td>
</tr>
<tr>
<td align="center">双精度 64</td>
<td align="center">1</td>
<td align="center">11</td>
<td align="center">52</td>
</tr>
<tr>
<td align="center">长双精度 80</td>
<td align="center">1</td>
<td align="center">15</td>
<td align="center">64</td>
</tr>
</tbody></table>
<ul>
<li>数的分类<ul>
<li><strong>规格化数</strong>：$1.M\times2^{E-\mathrm{Bias}}$<ul>
<li>指数不是全 0 或者全 1</li>
<li>$\mathrm{Bias}&#x3D;2^{k-1}-1$<ul>
<li>$\mathrm{Bias}$ 称为<strong>指数偏差</strong></li>
</ul>
</li>
</ul>
</li>
<li><strong>非规格化数</strong>：$0.M\times2^{1-Bias}$<ul>
<li>指数全 0</li>
</ul>
</li>
<li><strong>无穷大</strong>：指数全 1，尾数全 0</li>
<li><strong>NaN</strong>：指数全 1，但是尾数不全为 0</li>
</ul>
</li>
</ul>
<h3 id="规格化数"><a href="#规格化数" class="headerlink" title="规格化数"></a>规格化数</h3><ul>
<li>以 <strong>64 位双精度</strong> 为例</li>
<li>机器精度<ul>
<li>1 和比 1 大的最小浮点数的距离</li>
<li>$\epsilon_{\mathrm{mach}}&#x3D;2^{-52}$</li>
</ul>
</li>
<li>舍入方式<ul>
<li><strong>截断</strong></li>
<li><strong>四舍五入</strong></li>
<li>IEEE 舍入最近法则<ul>
<li>规则<ul>
<li>53 位为 1，进位</li>
<li>53 位为 0，舍去</li>
<li><strong>特殊情况</strong>：53 位之后全为 0<ul>
<li>52 为 1 则进位，52 位为 0 则舍去</li>
</ul>
</li>
</ul>
</li>
<li>记作 $\mathrm{fl}(x)$</li>
</ul>
</li>
</ul>
</li>
<li><strong>舍入误差</strong>：$\vert\mathrm{fl}(x)-x\vert$</li>
<li>令 $x_c$ 是计算版本 $x$ 的精确度量<ul>
<li><strong>绝对误差</strong>：$\vert x_c-x\vert$</li>
<li><strong>相对误差</strong>：$\dfrac{\vert x_c-x\vert}{x}$<ul>
<li>要求 $x$ 的度量存在，即 $x\ne0$</li>
</ul>
</li>
</ul>
</li>
<li><strong>相对舍入误差</strong></li>
</ul>
<p>$$<br>\dfrac{\vert\mathrm{fl}(x)-x\vert}{x}\le\dfrac{1}{2}\epsilon_{\mathrm{mach}}<br>$$</p>
<ul>
<li>理解如下结果</li>
</ul>
<p><img src="/01/image-20210926095158629.png"></p>
<h2 id="4-有效数字缺失"><a href="#4-有效数字缺失" class="headerlink" title="4. 有效数字缺失"></a>4. 有效数字缺失</h2><ul>
<li><strong>近似相等的两个数相减造成有效数字的位数减少</strong></li>
<li>123.4567 - 123.4566 &#x3D; 0.0001<ul>
<li>有效位数：(7) - (7) &#x3D; (1)</li>
</ul>
</li>
<li>3 位小数的计算机上计算 $\sqrt{9.01}-3$<ul>
<li>3 位小数：中间计算的浮点数最多只能有 3 位尾数，有效数字位数肯定也小于 3</li>
<li>$\sqrt{9.01}\approx 3.0016662\approx3$</li>
<li>结果为 0</li>
</ul>
</li>
<li><strong>共轭等式</strong></li>
</ul>
<p>$$<br>\begin{aligned}<br>\sqrt{9.01}-3&amp;&#x3D;\dfrac{(\sqrt{9.01}-3)(\sqrt{9.01}+3)}{\sqrt{9.01}+3}\<br>&amp;\<br>&amp;&#x3D;\dfrac{9.01-9}{\sqrt{9.01}+3}\<br>&amp;\<br>&amp;\approx\dfrac{0.01}{3+3}\<br>&amp;\<br>&amp;&#x3D;\dfrac{0.01}{3+3}\<br>&amp;\<br>&amp;\approx1.67\times10^{-3}<br>\end{aligned}<br>$$</p>
<h3 id="三角函数"><a href="#三角函数" class="headerlink" title="三角函数"></a>三角函数</h3><ul>
<li><strong>共轭方法</strong></li>
</ul>
<p>$$<br>\dfrac{1-\cos{x}}{\sin^2{x}}&#x3D;\dfrac{(1-\cos{x})(1+\cos{x})}{\sin^2{x}(1+\cos{x})}&#x3D;\dfrac{1}{1+\cos{x}}<br>$$</p>
<ul>
<li>测试</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params">x</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>((<span class="number">1</span>-<span class="title class_">Math</span>.<span class="title function_">cos</span>(x))/(<span class="title class_">Math</span>.<span class="title function_">sin</span>(x)*<span class="title class_">Math</span>.<span class="title function_">sin</span>(x)));</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>/(<span class="number">1</span>+<span class="title class_">Math</span>.<span class="title function_">cos</span>(x)));</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// test(1e-2)</span></span><br><span class="line"><span class="comment">// 0.5000125002084805</span></span><br><span class="line"><span class="comment">// 0.5000125002083363</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// test(1e-5)</span></span><br><span class="line"><span class="comment">// 0.5000000413868522</span></span><br><span class="line"><span class="comment">// 0.5000000000125</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// test(1e-10)</span></span><br><span class="line"><span class="comment">// 0</span></span><br><span class="line"><span class="comment">// 0.5</span></span><br></pre></td></tr></table></figure>



<h3 id="求解一元二次不等式"><a href="#求解一元二次不等式" class="headerlink" title="求解一元二次不等式"></a>求解一元二次不等式</h3><ul>
<li>求根公式如下，当 $b^2-4ac\approx0$ 时，某一个根分子出现 $-b+b$ 的情况</li>
</ul>
<p>$$<br>\begin{aligned}<br>x&#x3D;\dfrac{-b\pm\sqrt{b^2-4ac}}{2a}<br>\end{aligned}<br>$$</p>
<ul>
<li>$x^2+9^{12}x-3&#x3D;0$<ul>
<li>js 测试的结果</li>
</ul>
</li>
</ul>
<p>$$<br>x_1&#x3D;\dfrac{-9^{12}-\sqrt{9^{24}-12}}{2}&#x3D;-2.824\times10^{11}<br>$$</p>
<p>$$<br>x_2&#x3D;\dfrac{-9^{12}+\sqrt{9^{24}-12}}{2}&#x3D;0<br>$$</p>
<ul>
<li>如何减小这种误差：<strong>共轭方式</strong></li>
</ul>
<p>$$<br>\begin{aligned}<br>x_2&amp;&#x3D;\dfrac{-b+\sqrt{b^2-4ac}}{2a}\<br>&amp;\<br>&amp;&#x3D;-\dfrac{(b-\sqrt{b^2-4ac})(b+\sqrt{b^2-4ac})}{2a(b+\sqrt{b^2-4ac})}\<br>&amp;\<br>&amp;&#x3D;-\dfrac{4ac}{2a(b+\sqrt{b^2-4ac})}\<br>&amp;\<br>&amp;&#x3D;-\dfrac{2c}{(b+\sqrt{b^2-4ac})}<br>\end{aligned}<br>$$</p>
<ul>
<li>看具体的 <strong>b 的正负性</strong>选择正确的表达式</li>
<li>或者利用韦达定理</li>
</ul>
<p>$$<br>x_1x_2&#x3D;\dfrac{c}{a}<br>$$</p>
<h2 id="5-微积分"><a href="#5-微积分" class="headerlink" title="5. 微积分"></a>5. 微积分</h2><ul>
<li><strong>中值定理</strong> &#x2F; <strong>介值定理</strong></li>
</ul>
<img src="01/image-20210926103911119.jpg" style="zoom:67%;" />

<ul>
<li><strong>连续极限</strong></li>
</ul>
<img src="01/image-20210926104921146.jpg" style="zoom:67%;" />

<ul>
<li><strong>均值定理</strong> &#x2F; <strong>中值定理</strong></li>
</ul>
<img src="01/image-20210926105532753.jpg" style="zoom:67%;" />

<ul>
<li><strong>罗尔定理</strong></li>
</ul>
<img src="01/image-20210926105643430.jpg" style="zoom:67%;" />

<ul>
<li><strong>泰勒展开</strong><ul>
<li>用有限项求和来近似无穷级数</li>
<li>以 $x_0$ 为中心的函数 $f$ 的 <strong>$k$ 阶泰勒多项式</strong> + <strong>泰勒余项</strong><ul>
<li><strong>n 阶多项式近似</strong></li>
<li><strong>截断误差</strong></li>
</ul>
</li>
<li>$f(x)&#x3D;P_k(x)+R_k(x)$</li>
</ul>
</li>
</ul>
<img src="01/image-20210926105807974.jpg" style="zoom: 67%;" />

<ul>
<li><strong>均值定理的积分版本</strong></li>
</ul>
<img src="01/image-20210926110911990.jpg" style="zoom:67%;" />

<ul>
<li><strong>推广罗尔定理</strong></li>
</ul>
<img src="01/image-20210926111302385.jpg" style="zoom:67%;" />

<ul>
<li><strong>黎曼积分</strong></li>
</ul>
<img src="01/image-20210926111448157.jpg" style="zoom:67%;" />

<ul>
<li><strong>极值定理</strong></li>
</ul>
<img src="01/image-20210926111657727.jpg" style="zoom:67%;" />

<h2 id="6-误差-10进制"><a href="#6-误差-10进制" class="headerlink" title="6. 误差(10进制)"></a>6. 误差(10进制)</h2><ul>
<li>舍入与截断</li>
</ul>
<img src="01/image-20210926112304493.jpg" style="zoom:67%;" />

<ul>
<li>$p^{\ast}$ 是 $p$ 的一个近似，$p&#x3D;p^{\ast}\pm\epsilon^{\ast}$<ul>
<li>绝对误差：$\vert p-p^{\ast}\vert$</li>
<li>相对误差：$\dfrac{\vert p-p^{\ast}\vert}{\vert p\vert}$</li>
<li>误差范围：$\vert e^{\ast}\vert\le\epsilon^{\ast}$</li>
<li>有效数字：$t$ 为<strong>最大非负整数</strong>满足 $\dfrac{\vert p-p^{\ast}\vert}{\vert p\vert}&lt;5\times10^{-t}$<ul>
<li>由于舍入引入的相对误差与有效数字的关系</li>
</ul>
</li>
</ul>
</li>
<li><strong>截断并不能保证 $k$ 位有效数字</strong></li>
</ul>
<img src="01/image-20210926140712963.jpg" style="zoom:67%;" />

<ul>
<li>但是实际上，截断引入的相对误差可能比舍入引入的相对误差小<ul>
<li><strong>上面都是小于号</strong>，一个范围估计</li>
</ul>
</li>
</ul>
<h3 id="产生误差的运算"><a href="#产生误差的运算" class="headerlink" title="产生误差的运算"></a>产生误差的运算</h3><ul>
<li>相近数字相减</li>
<li>除以一个小数值的数</li>
</ul>
<h3 id="减小误差的方式"><a href="#减小误差的方式" class="headerlink" title="减小误差的方式"></a>减小误差的方式</h3><ul>
<li>避免相近数字相减</li>
</ul>
<p>$$<br>\sqrt{x+\epsilon}-\sqrt{x}&#x3D;\dfrac{\epsilon}{\sqrt{x+\epsilon}+\sqrt{x}}<br>$$</p>
<p>$$<br>\ln(x+\epsilon)-\ln(x)&#x3D;\ln(1-\dfrac{\epsilon}{x})<br>$$</p>
<p>$$<br>1-\cos{x}&#x3D;2\sin^2{\dfrac{x}{2}}\quad(x\to0)<br>$$</p>
<p>$$<br>e^x-1&#x3D;x(1+\dfrac{1}{2}x+\dfrac{1}{6}x^2+\cdots)\quad(x\to0)<br>$$</p>
<ul>
<li>最小化计算的次数（嵌套乘法）<ul>
<li>随着计算量的减少，累计误差降低</li>
</ul>
</li>
</ul>
<h3 id="舍入误差"><a href="#舍入误差" class="headerlink" title="舍入误差"></a>舍入误差</h3><ul>
<li>$p^{\ast}&#x3D;\pm0.a_1a_2\cdots a_n\times10^m$</li>
<li>有效数字：$t$ 为<strong>最大非负整数</strong>满足</li>
</ul>
<p>$$<br>\dfrac{\vert p-p^{\ast}\vert}{\vert p\vert}&lt;5\times10^{-t}<br>$$</p>
<ul>
<li>$\vert p-p^{\ast}\vert\le0.5\times10^{m-t}$（<strong>比上面更强</strong>）</li>
</ul>
<p>$$<br>\begin{align}<br>\begin{array}{<strong>llr</strong>}<br>\vert p-p^{\ast}\vert&amp;\le5\times10^{-n-1}\times10^{m}&amp;\<br>&amp;\le0.5\times10^{m-t}&amp;(t\le n)\<br>\end{array}<br>\end{align}<br>$$</p>
<ul>
<li>$\epsilon_r^{\ast}\le\dfrac{1}{2a_1}\times10^{1-t}$</li>
</ul>
<p>$$<br>\begin{align}<br>条件:&amp;\<br>&amp;(1)\quad\vert p-p^{\ast}\vert\le0.5\times10^{m-t}\<br>&amp;(2)\quad\vert p\vert\ge0.a_1\<br>结论:&amp;\<br>&amp; \epsilon_r^{\ast}&#x3D;\dfrac{\vert p-p^{\ast}\vert}{\vert p\vert}\le\dfrac{0.5\times10^{m-t}}{0.a_1\times10^{m}}&#x3D;\dfrac{1}{2a_1}\times10^{1-t}<br>\end{align}<br>$$</p>
<ul>
<li>可能用上面的不同式子计算得到的有效数字位数不一样</li>
</ul>
<h2 id="7-算法与收敛性"><a href="#7-算法与收敛性" class="headerlink" title="7. 算法与收敛性"></a>7. 算法与收敛性</h2><h3 id="算法的标准——稳定"><a href="#算法的标准——稳定" class="headerlink" title="算法的标准——稳定"></a>算法的标准——稳定</h3><ul>
<li>稳定<ul>
<li>初始数据中的<strong>微小变化</strong>会在最终结果中产生相应的<strong>小变化</strong></li>
</ul>
</li>
<li>条件稳定<ul>
<li>仅对特定初值稳定</li>
</ul>
</li>
<li><strong>稳定性是算法的性质</strong><ul>
<li>稳定指的是针对<strong>算法</strong>引起的初始误差的放大，而不是<strong>问题</strong>本身</li>
<li>如果一个算法总是能以较小的后向误差提供近似解，则称为<strong>稳定算法</strong></li>
</ul>
</li>
</ul>
<h3 id="问题的条件"><a href="#问题的条件" class="headerlink" title="问题的条件"></a>问题的条件</h3><ul>
<li>问题本身可能是有问题的，无论我们使用怎样的算法都没有用</li>
<li>由于<strong>理论问题本身固有的特性</strong>造成对初始误差的放大，与用于求解的<strong>特定算法</strong>无关</li>
<li>例子：蝴蝶效应、混沌现象、气象（洛仑兹方程）</li>
</ul>
<h3 id="算法的稳定性"><a href="#算法的稳定性" class="headerlink" title="算法的稳定性"></a>算法的稳定性</h3><ul>
<li>指数增长的误差——不稳定</li>
<li>线性增长的误差——稳定</li>
</ul>
<img src="01/image-20210926152758202.jpg" style="zoom: 67%;" />



<h4 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h4><ul>
<li>求解</li>
</ul>
<p>$$<br>I_n&#x3D;\dfrac{1}{e}\int_{0}^{1}x^ne^x;\mathrm{d}x,\quad n&#x3D;0,1,2,\cdots<br>$$</p>
<h5 id="迭代公式-1（不稳定）"><a href="#迭代公式-1（不稳定）" class="headerlink" title="迭代公式 1（不稳定）"></a>迭代公式 1（不稳定）</h5><p>$$<br>I_n&#x3D;1-nI_{n-1}<br>$$</p>
<ul>
<li>分部积分得到，首先计算 $I_0$，之后迭代计算</li>
<li>误差推导</li>
</ul>
<p>$$<br>\vert{E_0}\vert&#x3D;\vert{I_0-I_0^{\ast}}\vert<br>$$</p>
<p>$$<br>\vert{E_n}\vert&#x3D;\vert{I_n-I_n^{\ast}}\vert&#x3D;\vert{(1-nI_{n-1})-(1-nI_{n-1}^{\ast})}\vert&#x3D;n\vert{E_{n-1}}\vert&#x3D;\cdots&#x3D;n!\vert{E_{0}}\vert<br>$$</p>
<h5 id="迭代公式-2（稳定）"><a href="#迭代公式-2（稳定）" class="headerlink" title="迭代公式 2（稳定）"></a>迭代公式 2（稳定）</h5><p>$$<br>I_n&#x3D;1-nI_{n-1}\Rightarrow I_{n-1}&#x3D;\dfrac{1-I_{n}}{n}<br>$$</p>
<ul>
<li>首先计算得到 $I_N^{\ast}$</li>
</ul>
<p>$$<br>I_N\ge\dfrac{1}{e}\int_{0}^{1}x^Ne^0;\mathrm{d}x&#x3D;\dfrac{1}{e(N+1)}<br>$$</p>
<p>$$<br>I_N\le\dfrac{1}{e}\int_{0}^{1}x^Ne^1;\mathrm{d}x&#x3D;\dfrac{1}{N+1}<br>$$</p>
<p>$$<br>I_N^{\ast}&#x3D;\dfrac{1}{2}(\dfrac{1}{e(N+1)}+\dfrac{1}{N+1})<br>$$</p>
<ul>
<li>误差推导</li>
</ul>
<p>$$<br>\vert{E_n}\vert&#x3D;\dfrac{\vert{E_{n+1}}\vert}{n+1}&#x3D;\cdots&#x3D;\dfrac{\vert{E_{N}}\vert}{(n+1)\cdots{(N-1)}{N}}<br>$$</p>
<h3 id="收敛速度"><a href="#收敛速度" class="headerlink" title="收敛速度"></a>收敛速度</h3><ul>
<li><strong>数列</strong></li>
</ul>
<img src="01/image-20210926155941203.jpg" style="zoom:67%;" />

<ul>
<li><strong>函数</strong></li>
</ul>
<img src="01/image-20210926160014211.jpg" style="zoom:67%;" />


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/09/25/computation/pyr/01/" data-id="cl9lj74a800b964tzb0hna9e8" data-title="计算方法B.裴玉茹.01.基础知识" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/computation/" rel="tag">computation</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-CG/Papers/2002/From-Region.Visibility" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/09/25/CG/Papers/2002/From-Region.Visibility/" class="article-date">
  <time class="dt-published" datetime="2021-09-25T02:50:05.000Z" itemprop="datePublished">2021-09-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/CG-Paper/">CG.Paper</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/09/25/CG/Papers/2002/From-Region.Visibility/">(论文)[2002] Exact From-Region Visibility Culling</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Exact-From-Region-Visibility-Culling"><a href="#Exact-From-Region-Visibility-Culling" class="headerlink" title="Exact From-Region Visibility Culling"></a>Exact From-Region Visibility Culling</h1><ul>
<li>S. Nirenstein, E. Blake and J. Gain</li>
<li>Department of Computer Science, University of Cape Town, Cape-Town, Rondebosch 7701, South Africa</li>
</ul>
<h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><ul>
<li>对于两个多边形之间的可见性判断，我们将能够同时穿过这两个多边形的直线集合映射到普吕克空间中的一个点集 $A$ ，同时我们对每一个 occluder，将通过他的直线也映射到普吕克空间中的一个点集，在 $A$ 中减去这个点集，直至 $A$ 为空（不可见）或者处理完所有的 occluder（可见）</li>
</ul>
<h2 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h2><ul>
<li>可以处理百万计的多边形</li>
<li>关键思想<ul>
<li>The essence of our idea is to represent 3-D polygons and the stabbing lines connecting them in a 5-D Euclidean space derived from Plücker space and then to perform geometric subtractions of occluded lines from the set of potential stabbing lines.</li>
<li>将 3 维的多边形和连接他们之间的 stabbing lines 用 5 维的欧几里得空间（派生自普吕克空间）表示，然后在潜在的 stabbing lines 的集合中做遮挡线的减法</li>
</ul>
</li>
<li>建立了 <strong>query architecture</strong></li>
</ul>
<h2 id="1-Introduction"><a href="#1-Introduction" class="headerlink" title="1. Introduction"></a>1. Introduction</h2><ul>
<li>一般有两种方式<ul>
<li>run-time：一般是单点对于场景的可见性</li>
<li>pre-process：建立任何点（小区域）的可见几何体集合</li>
</ul>
</li>
</ul>
<h3 id="From-Region-visibility"><a href="#From-Region-visibility" class="headerlink" title="From-Region visibility"></a>From-Region visibility</h3><ul>
<li>将视点空间（VPS：view-point space）划分为<strong>有限个区域</strong>（region&#x2F;cell）<ul>
<li>而不是处理无限的可能的相机位置</li>
</ul>
</li>
<li>好处<ul>
<li>能够将运行时的计算开销转移到预处理中</li>
</ul>
</li>
<li>问题<ul>
<li>由于是预处理，只能够处理一些<strong>静态的场景</strong></li>
</ul>
</li>
</ul>
<h3 id="From-point-visibility"><a href="#From-point-visibility" class="headerlink" title="From-point visibility"></a>From-point visibility</h3><ul>
<li>计算成本相对较低，可以在逐帧渲染的时计算（run-time）<ul>
<li>因此适合在动态场景中使用</li>
</ul>
</li>
</ul>
<h3 id="一个分类"><a href="#一个分类" class="headerlink" title="一个分类"></a>一个分类</h3><img src="From-Region.Visibility/image-20211005164143617.png" alt="image-20211005164143617" style="zoom:67%;" />

<ul>
<li><strong>conservative</strong>：保守的<ul>
<li>高估可见性，从而带来 false visibility 的问题</li>
<li>会将一些不可见的多边形带到渲染那一步</li>
</ul>
</li>
<li><strong>aggressive</strong>：激进的<ul>
<li>低估可见性，带来 false invisibility 的问题</li>
<li>会导致最终结果图片<strong>错误</strong></li>
<li>只有在如下情况才可用<ul>
<li>误差部分相对较小，可以接受</li>
<li>算法特别快</li>
<li>场景在使用保守方法的情况下先很难有效求解</li>
</ul>
</li>
</ul>
</li>
<li><strong>approximate</strong>：估计的<ul>
<li>会出现 false visibility、false invisibility  的问题，一般只用于需要快速出结果的时候</li>
</ul>
</li>
<li><strong>exact</strong>：精确的<ul>
<li>结果产生的图片是准确的，渲染的时候没有一个多边形是多余的</li>
<li>本质上也是保守的，因为把一个区域看成了一个整体（实际物体可能较小）</li>
</ul>
</li>
</ul>
<h3 id="精确渲染的优势"><a href="#精确渲染的优势" class="headerlink" title="精确渲染的优势"></a>精确渲染的优势</h3><ul>
<li>不是场景依赖的，对所有的场景都能够用一样的方式解决<ul>
<li>其他方式可能是场景依赖的</li>
</ul>
</li>
<li>可以提供一个 benchmark，用于评估其他的可见性提出算法<ul>
<li>一个更准确的度量，可以有以下指标，而不是之前的知识粗糙的计算被剔除三角形的百分比<ul>
<li>type(false visibility or false invisibility),</li>
<li>distribution(clustered or widespread)</li>
<li>exact magnitude</li>
<li>visibility error</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="本文"><a href="#本文" class="headerlink" title="本文"></a>本文</h3><ul>
<li>第一次提出了一个针对现实场景的、精确的可见性剔除算法<ul>
<li>1.5M 个三角形</li>
</ul>
</li>
<li>相较之前的方法有 3 个数量级的改进</li>
<li>虽然可以处理大型的场景，但是预处理成本很高</li>
</ul>
<h3 id="本文的贡献"><a href="#本文的贡献" class="headerlink" title="本文的贡献"></a>本文的贡献</h3><ul>
<li><strong>Localised Exact Visibility</strong><ul>
<li>能够精确计算两个凸多边形之间的可见性</li>
</ul>
</li>
<li><strong>Query Driven Architecture</strong><ul>
<li>会保存之前计算的结果，用于之后的计算</li>
</ul>
</li>
</ul>
<h2 id="2-previous-work"><a href="#2-previous-work" class="headerlink" title="2. previous work"></a>2. previous work</h2><ul>
<li>From-Point Visibility 方面的 survey<ul>
<li>D. Cohen-Or, Y. Chrysanthou, C. T. Silva, and F. Durand. A survey of visibility for walkthrough applications. Course 30, SIGGRAPH, August 2001.</li>
<li>F. Durand. 3D Visibility, analysis and applications. PhD thesis, U. Joseph Fourier, 1999. <a target="_blank" rel="noopener" href="http://graphics.lcs.mit.edu/fredo">http://graphics.lcs.mit.edu/fredo</a>.</li>
<li>H. Zhang. Effective Occlusion Culling for the Interactive Display of Arbitrary Models. PhD thesis, University of North Carolina at Chapel Hill, 1998</li>
</ul>
</li>
</ul>
<h3 id="保守策略（准确的图片）"><a href="#保守策略（准确的图片）" class="headerlink" title="保守策略（准确的图片）"></a>保守策略（准确的图片）</h3><ul>
<li>Cell-portal rendering<ul>
<li>试图建立所有 cell 之间的相对可见性，可见即在两个 cell 之间存在一条光线</li>
<li>Teller 提出了一个解析的方法解决这个问题，同时他将其扩展了，使其能够判断可见的 cell 的哪一部分才是可见的</li>
<li>对建筑场景很有效，但不是通用的解决方案</li>
<li>对组合复杂度比较低的场景有效</li>
</ul>
</li>
<li>Cohen-Or、Saona-Vásquez 等提出了一个更加通用但是保守的方案<ul>
<li>对于一个物体和一个 view-cell，当且仅当被<strong>一个多边形</strong>挡住（所有 view-cell 中的点都看不见这个物体），这个物体才被认为是不可见的</li>
<li>过于保守了，因此只有在 view-cell 相对场景中的多边形很小的情况下才能得到比较好的效果</li>
<li>精细场景则需要大量的 view-cell，因此效率很低</li>
</ul>
</li>
<li>因此有必要将小的 occluder 进行聚合</li>
<li>Durand 提出一种通用方法，采用扩展投影算子（extended projection operator）的方法</li>
<li>Law、Tan 提出遮挡简化（occlusion preserving simplification）的方式生成更粗糙的细节、更大的多边形 occluder，同时保持了保守性<ul>
<li>不考虑有这个粗糙表示产生的遮挡</li>
<li><strong><span style="color:red">没太明白</span></strong></li>
</ul>
</li>
<li>Koltun 等人利用<strong>分隔线</strong>构建更大更有效的<strong>虚拟遮挡器</strong>来代表许多较小的遮挡器<ul>
<li>不需要保存每一个 view-cell 的可见集合</li>
</ul>
</li>
<li>Wonka 提出了一个保守的 2.5D 的方案，收缩 occluders，通过采样的方法求解可见性<ul>
<li>采样数足够多则趋向于精确解</li>
</ul>
</li>
</ul>
<h3 id="激进策略"><a href="#激进策略" class="headerlink" title="激进策略"></a>激进策略</h3><ul>
<li>基于 from-point 的策略，会产生 false invisibility 的错误，这些策略基于的想法是将那些对最终图像贡献很小的物体在渲染之前去除</li>
<li>Andújar 使用几乎不可见集合（hardly visible sets），去除那些只有部分可见的物体集合</li>
<li>Klosowski and Silva 提出优先层投影算法（prioritised layer projection algorithm），启发式的先绘制可见的物体，因此即使算法过早停止也能够保证渲染出来的结果还不错</li>
<li>Gotsman 提出基于采样的可见性算法<ul>
<li>使用 5 个维度（3D 空间 + 2D 角度），每一个 5D 的 cell 对应三维空间中的一个 beam<ul>
<li>2D 角度是为了加速剔除</li>
</ul>
</li>
<li>投射足够多的光线，在某个统计模型下，推断出物体可见、不可见、还是需要继续投射光线</li>
<li>trade-off：预处理需要花费的时间，准确率</li>
</ul>
</li>
</ul>
<h3 id="精确策略"><a href="#精确策略" class="headerlink" title="精确策略"></a>精确策略</h3><ul>
<li>一般是以某种结构构建双线空间（dual line space），直接暴露出可见性事件（visibility event）<ul>
<li>A visibility event occurs when a topological change in visibility occurs in the scene.</li>
</ul>
</li>
<li>一些结构<ul>
<li>aspect graph</li>
<li>3D visibility complex</li>
<li>the visibility map</li>
</ul>
</li>
<li>Teller：Plücker parameterisation of line space.<ul>
<li>算法有效性受到场景复杂度的限制</li>
</ul>
</li>
<li>Durand：直接计算可见性实体的低维元素（骨架），构建出可见性事件的表面<ul>
<li>这样，由于简化导致的误差都是局部的，鲁棒性更强</li>
</ul>
</li>
<li>Koltun：使用 dual ray-space 重新表示了两个部分之间的光线<ul>
<li>occlusion：遮挡光线的空间是否包含了所有在 view-cell 和物体之间的光线</li>
</ul>
</li>
</ul>
<h3 id="2-1-Plucker-Line-Space"><a href="#2-1-Plucker-Line-Space" class="headerlink" title="2.1 Plücker Line Space"></a>2.1 Plücker Line Space</h3><ul>
<li>普吕克线性空间</li>
<li>普吕克空间是格拉斯曼坐标系统（Grassmann coordinate system）的特殊情况<ul>
<li>Grassmann coordinates allow for the parameterisation of a k-dimensional affine sub-space embedded in an n-dimensional space as a point in a projective ${k+1\choose n+1}-1$ dimensional space.</li>
<li>什么玩意儿？</li>
</ul>
</li>
</ul>
<h4 id="普吕克空间"><a href="#普吕克空间" class="headerlink" title="普吕克空间"></a>普吕克空间</h4><ul>
<li>其他补充可以查看<a href="/2021/10/07/Math/Pl%C3%BCcker-Coordinates/">文章</a></li>
<li>lines（k&#x3D;1），$\mathbb{R}^3$（n&#x3D;3），投影的 5 维空间 $\mathbb{P}^5$</li>
<li>三维空间中的有向直线 $l$，经过两点 $P(p_x,p_y,p_z),Q(q_x,q_y,q_z)$</li>
<li>映射到普朗克空间中得到 $\Pi(l)&#x3D;(\pi_1,\pi_2,\pi_3,\pi_4,\pi_5,\pi_6)$</li>
</ul>
<p>$$<br>\begin{aligned}<br>\pi_1&amp;&#x3D;q_x-p_x\<br>\pi_2&amp;&#x3D;q_y-p_y\<br>\pi_3&amp;&#x3D;q_z-p_z\<br>\pi_4&amp;&#x3D;q_zp_y-q_yp_z\<br>\pi_5&amp;&#x3D;q_xp_z-q_zp_x\<br>\pi_6&amp;&#x3D;q_yp_x-q_xp_y\<br>\end{aligned}<br>$$</p>
<h5 id="几何理解"><a href="#几何理解" class="headerlink" title="几何理解"></a>几何理解</h5><ul>
<li>我们定义 $d&#x3D;p-q,m&#x3D;p\times q$，通过 $d$ 和 $m$ 能够唯一确定一条有向直线<ul>
<li>$d$ 确定直线方向</li>
<li>$m$ 确定直线位置</li>
</ul>
</li>
<li>6 个维度对应普吕克坐标</li>
</ul>
<h5 id="代数理解"><a href="#代数理解" class="headerlink" title="代数理解"></a>代数理解</h5><ul>
<li>P, Q 的齐次坐标表示为 $P(p_x,p_y,p_z,1),Q(q_x,q_y,q_z,1)$</li>
<li>定义普吕克坐标为 $\pi_{ij}&#x3D;p_iq_j-p_jq_i$<ul>
<li>$\pi_{ii}&#x3D;0,\pi_{ij}&#x3D;-\pi_{ji}$</li>
</ul>
</li>
<li>因此只有 6 个独立变量，对应普吕克坐标</li>
</ul>
<h5 id="二元映射"><a href="#二元映射" class="headerlink" title="二元映射"></a>二元映射</h5><ul>
<li>定义二元映射：$D_{\pi}(x)$，其中 $\pi,x\in\mathbb{P}^{5}$</li>
</ul>
<p>$$<br>D_{\pi}(x)&#x3D;\pi_{0}x_{3}+\pi_{1}x_{4}+\pi_{2}x_{5}+\pi_{3}x_{0}+\pi_{4}x_{1}+\pi_{5}x_{2}<br>$$</p>
<ul>
<li>$D_{\pi}(x)&#x3D;0$ 的解被称为是 $\pi$ 在 $\mathbb{P}^5$ 中的双超平面</li>
<li>给定直线  $l_1,l_2$，我们称他们是关联的（incident），当且仅当 $D_{\pi_1}(\pi_2)&#x3D;0$（同时成立 $D_{\pi_2}(\pi_1)&#x3D;0$）</li>
<li>直线的位置关系</li>
</ul>
<img src="From-Region.Visibility/image-20211007111659627.png" style="zoom: 67%;" />

<ul>
<li>并不是所有的 $\mathbb{P}^5$ 中的点都能够映射到 $\mathbb{R}^3$ 中</li>
<li>$\Pi$ 是 $\mathbb{R}^3$ 到 $\mathbb{P}^5$ 子集的一个双射，这个子集被称为表示如下</li>
</ul>
<p>$$<br>G&#x3D;\left{D_{x}(x)&#x3D;0,x\in\mathbb{P}^5\right}\backslash {\textbf{0}}<br>$$</p>
<ul>
<li>这个子集的名称有多个<ul>
<li>Grassmann manifold</li>
<li>the Klein quadric</li>
<li><span id="anchor1">the Plücker hypersurface</span></li>
</ul>
</li>
</ul>
<h2 id="3-visibility-query"><a href="#3-visibility-query" class="headerlink" title="3. visibility query"></a>3. visibility query</h2><h3 id="3-1-overview"><a href="#3-1-overview" class="headerlink" title="3.1 overview"></a>3.1 overview</h3><ul>
<li>为了精确查询，我们需要对同时刺穿两个多边形的线建立起一个空间表示</li>
<li>实际处理的时候，我们简单地将所有多边形几何裁剪到由<strong>多边形对的顶点定义的凸包</strong>的内部，再处理这内部的线段即可</li>
<li>每一个 occluder 都会遮挡住一部分两个 query polygon 之间的线，如果所有的线都被挡住了，那么 query polygon 之间相互不可见</li>
<li>两个多边形之间的线被表示成<a href="#anchor1">普吕克超曲面</a> $G$ 上点的一个连通子集，同样每一个 occluder 挡住的线也被表示成 $G$ 上的一个点的连通子集</li>
<li>算法思想<ul>
<li>首先将 un-obstructed volume 初始化为两个多边形之间的所有直线构成的点集</li>
<li>针对所有的 occluder，我们在 un-obstructed volume 中去除它遮挡的那部分点集<ul>
<li>使用 5 维结构立体几何实现去除</li>
<li>CSG(constructive solid geometry) in five dimensions</li>
</ul>
</li>
<li>最终剩余的点集对应的直线就是未被挡住的直线<ul>
<li>如果集合为空，则两个多边形之间互相不可见</li>
<li>如果非空，则互相可见，而且由他们之间可见直线的完整描述</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="3-2-多边形之间的线空间"><a href="#3-2-多边形之间的线空间" class="headerlink" title="3.2. 多边形之间的线空间"></a>3.2. 多边形之间的线空间</h3><ul>
<li>直接对普吕克超曲面进行操作比较困难，因为是曲面</li>
<li>我们构造了一个多面体，这个多面体和普吕克超曲面的交集便是结果</li>
</ul>
<h4 id="多面体构造过程"><a href="#多面体构造过程" class="headerlink" title="多面体构造过程"></a>多面体构造过程</h4><ul>
<li>如果一条直线 $s$ 穿过了两个多边形，充要条件如下<ul>
<li>s 和多边形的所有边的位置关系相同（左右手螺旋关系）</li>
</ul>
</li>
</ul>
<img src="From-Region.Visibility/image-20211007170331249.png" style="zoom:67%;" />

<ul>
<li>给定两个多边形的边集 $e_1,\cdots,e_n$（<strong>appropriately directed</strong>）,判断一个直线是否和两个多边形相交，就是判断如下式子是否成立<ul>
<li><strong><span style="color:red">如何保证两个多边形边的方向一致？</span></strong></li>
</ul>
</li>
</ul>
<p>$$<br>D_{\pi}(\Pi(s))\ge0,\forall\pi\in\left{\Pi(e_1),\cdots\Pi(e_n)\right}<br>$$</p>
<ul>
<li>因为我们知道普吕克超平面上的点乘以一个常数因子之后，在三维空间终对应的点是不变的，因此我们可以将其除以某一项之后，将其归一化<ul>
<li>这一项不能为 0</li>
<li>可以通过预旋转场景来实现</li>
<li><strong><span style="color:red">正负问题？</span></strong></li>
</ul>
</li>
<li>我们将第三项用于归一化（$x_3&#x3D;1$）<ul>
<li>$\pi$ 不一起归一化：正负号的问题，如果 $\pi$ 归一化，会出现正负号的问题</li>
<li>$-\Pi(e)$ 和 $\Pi(e)$ 表示的是两条边，<strong>方向相反</strong></li>
</ul>
</li>
</ul>
<p>$$<br>D_{\pi}’(x)&#x3D;\pi_{0}+\pi_{1}x_{4}+\pi_{2}x_{5}+\pi_{3}x_{0}+\pi_{4}x_{1}+\pi_{5}x_{2}<br>$$</p>
<ul>
<li><strong><span style="color:red">$G$ 平面现在如何在 $\mathbb{R}^5$ 中表示？</span></strong><ul>
<li>如果是等于零的话，似乎都归一化也没啥关系，怎么和上面的表达式统一呢？</li>
</ul>
</li>
<li>于是我们现在使用一个定义在 $\mathbb{R}^5$ 中的几何体来表示 $\mathbb{R}^3$ 中的直线集合</li>
</ul>
<img src="From-Region.Visibility/image-20211007182433448.png" style="zoom:67%;" />

<ul>
<li>上面这样的多面体可能是无界的，但是多面体和普吕克超曲面的交点集是有界的，因此我们可以在不改变多面体和普吕克交点集的前提下对多面体增加限制，使其有界</li>
</ul>
<h3 id="3-3-普吕克空间中的-CSG"><a href="#3-3-普吕克空间中的-CSG" class="headerlink" title="3.3 普吕克空间中的 CSG"></a>3.3 普吕克空间中的 CSG</h3><ul>
<li>CSG：构造实体几何，全称 <strong>Constructive solid geometry</strong> ，是 3D 计算机图形学中构建模型的常用技术，可通过合并 Union、相减 Subtraction 和相交 Intersction 的三种取集的逻辑运算，将立方体、圆柱体和棱柱等简单的基础模型，嵌套组合成更复杂三维模型</li>
<li>针对一个 occluder<ul>
<li>我们将它的所有边使用 $\Pi,D’$ 表示成 $\mathbb{R}^5$ 中的超平面<ul>
<li>$D’_{\Pi(o_1)}(x),x\in{\mathbb{R}^5}$ 表示和 $o_1$ 共面的所有直线</li>
</ul>
</li>
<li>这个超平面围成的区域就是穿过这个 occluder 的所有直线</li>
<li>我们维护一个<strong>有向超平面的</strong>集合 $\mathcal{O}$ 来表示上面的区域</li>
</ul>
</li>
<li>在五维空间中，如何在一个多面体中减去另外一个多面体是一个比较困难的任务（non-trivial） <ul>
<li>我们给出一个算法，将所有的多面体进行一个拆分（拆分成若干部分），使得每一个部分对于任意一个超平面来说，都恰好落在他的一侧<ul>
<li>这是可以实现的，因为对于一个多面体和一个超平面而言是 OK 的</li>
</ul>
</li>
<li>如果包围某一个部分的超平面集合中的元素全在 $\mathcal{O}$ 中，那么这个部分就是完全被遮挡的，我们可以移除这个部分</li>
<li>剩下的部分和<strong>普吕克超平面</strong>的交集就是没有被这个 occluder 挡住的直线集合了</li>
</ul>
</li>
<li>上面这个操作是迭代进行的<ul>
<li>初始化一个区域，这个区域对应 query polygons 的有向超平面围成的部分，$\mathcal{O}$ 初始化为空集</li>
<li>对于每一个 occluder，将新的边加入 $\mathcal{O}$，将上面的部分进行切分使得满足每一个部分都恰好在 $\mathcal{O}$ 中任意一个超平面的一侧，去除其中完全被 $\mathcal{O}$ 中的有向平面挡住的部分</li>
<li>直至这个区域为空（完全被遮挡），或者所有 occluder 都检测完这个区域还不为空（互相可见）</li>
</ul>
</li>
<li>如何切割一个部分？<ul>
<li>遍历这个部分的 5 个维度，切割成为两个部分</li>
<li>有冗余，因为被拆分的面被重复记录了，但是这样更快</li>
</ul>
</li>
<li>如何判断超平面和一个部分相交？<ul>
<li>首先使用一个 5D 的包围球去进行测试，如果不相交则不相交</li>
<li>如果相交则使用精确的顶点表示的超平面去测试<ul>
<li>判断是否存在两个点位于超平面的两边，是则相交，否则则不相交</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="3-3-优化策略"><a href="#3-3-优化策略" class="headerlink" title="3.3 优化策略"></a>3.3 优化策略</h3><ul>
<li>当我们考虑 occluder 的超平面集 $\mathcal{O}$ 对整个实体进行切割的时候，我们只考虑切割穿过切割那些穿过 $\mathcal{O}$ 边界的部分<ul>
<li>如果切割新形成的部分 $\mathcal{O}$ 和普吕克超平面没有交集，那么我们直接丢掉着一个部分</li>
</ul>
</li>
<li>在算法开始之前，我们先尝试从一个多边形投射出若干条光线，如果存在一条光线能够打到另外一个多边形，那么就说明是可见的，只有不存在这样的光线的时候，我们才使用上面提到的算法</li>
<li>通过分析之前投射的光线，分析出使用最少的多边形就形成完全遮挡的效果，从而尽早终止算法<ul>
<li>挡住光线最多的 occluder 先从原来的结构中被减去</li>
<li>这里的光线数量不包括之前已经减去的 occluder 挡住的光线<ul>
<li><strong><span style="color:red">神奇？怎么实现？</span></strong></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="3-4-本文的贡献"><a href="#3-4-本文的贡献" class="headerlink" title="3.4 本文的贡献"></a>3.4 本文的贡献</h3><ul>
<li>我们可以处理局部的可见性（两个多边形之间）</li>
<li>对于大部分场景，算法都能很快停止</li>
<li>一般场景而言，比全局的可见性算法快，近似复杂度 $n^{2.4}$</li>
</ul>
<h2 id="4-query-architecture"><a href="#4-query-architecture" class="headerlink" title="4. query architecture"></a>4. query architecture</h2><ul>
<li>我们希望能够对多边形进行分组，这样便能够对着一组多边形进行有效的查询</li>
<li>我们也想用到之前计算得到的结果</li>
</ul>
<h3 id="4-1-Cluster-Queries"><a href="#4-1-Cluster-Queries" class="headerlink" title="4.1 Cluster Queries"></a>4.1 Cluster Queries</h3><ul>
<li>我们使用简单的两层结构组织场景<ul>
<li>场景由物体组成，物体由多边形组成</li>
<li>如果物体很大，我们将其拆解为多个小物体<ul>
<li>物体体积、多边形个数</li>
</ul>
</li>
</ul>
</li>
<li>**source cell **to <strong>object</strong> query<ul>
<li>先对这个物体的包围盒进行一个可见性判断，6x6 个组合<ul>
<li>全返回不可见则这个物体不可见</li>
<li>一个返回可见则物体有可能可见，对其中的多边形进行判断</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="4-2-Parent-Line-space-Reuse"><a href="#4-2-Parent-Line-space-Reuse" class="headerlink" title="4.2 Parent Line-space Reuse"></a>4.2 Parent Line-space Reuse</h3><ul>
<li>在进行 **source cell **to <strong>object</strong> query 的时候，我们获得了到包围盒上可见的直线集合，那么如果一个多边形想要可见，必然要和这个集合有相交的部分<ul>
<li>这可以作为一个检测</li>
</ul>
</li>
</ul>
<h3 id="4-3-Virtual-Occluders"><a href="#4-3-Virtual-Occluders" class="headerlink" title="4.3 Virtual Occluders"></a>4.3 Virtual Occluders</h3><ul>
<li>virtual occluders are occluders that are not part of the geometry, but still represent a set of blocked lines.</li>
<li>如果包围盒的一个面不可见的话，这可以被用来当作是之后物体的 occluder</li>
<li>如果在判定的时候，我们发现一个物体的包围盒<strong>不可见</strong>，那么我们可以用这个包围盒代替其中的物体作为一个 occluder</li>
<li>在处理场景的时候，我们大致使用从前向后的顺序去处理，因此可以用上上面的策略</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/09/25/CG/Papers/2002/From-Region.Visibility/" data-id="cl9lj74br00lh64tz816l0la8" data-title="(论文)[2002] Exact From-Region Visibility Culling" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CG/" rel="tag">CG</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Paper/" rel="tag">Paper</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/occlusion/" rel="tag">occlusion</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8F%AF%E8%A7%81%E6%80%A7/" rel="tag">可见性</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-computation/pyr/00" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/09/22/computation/pyr/00/" class="article-date">
  <time class="dt-published" datetime="2021-09-22T05:20:36.000Z" itemprop="datePublished">2021-09-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/0/">0</a>►<a class="article-category-link" href="/categories/computation-pyr/">computation.pyr</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/09/22/computation/pyr/00/">计算方法B.裴玉茹.00.说明</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="计算方法B"><a href="#计算方法B" class="headerlink" title="计算方法B"></a>计算方法B</h1><h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><ul>
<li>课程名称：计算方法B</li>
<li>授课老师：裴玉茹</li>
<li>教材<ul>
<li><a target="_blank" rel="noopener" href="https://www.vitalsource.com/en-au/products/numerical-analysis-richard-l-burden-v9781305465350">Numerical Analysis, Richard L. Burden, Cengage.</a></li>
<li><a target="_blank" rel="noopener" href="https://book.douban.com/subject/26600495/">数值分析</a></li>
</ul>
</li>
</ul>
<h2 id="课程说明"><a href="#课程说明" class="headerlink" title="课程说明"></a>课程说明</h2><h3 id="计算方法定义"><a href="#计算方法定义" class="headerlink" title="计算方法定义"></a>计算方法定义</h3><ul>
<li>广义<ul>
<li>一切用于数学问题的数值求解方法</li>
<li>算法algorithm</li>
</ul>
</li>
<li>狭义<ul>
<li>数学问题在<strong>计算机上的近似数值求解</strong></li>
</ul>
</li>
</ul>
<h3 id="近代计算方法发展"><a href="#近代计算方法发展" class="headerlink" title="近代计算方法发展"></a>近代计算方法发展</h3><ul>
<li>The Monte Carlo method (1946)</li>
<li>The simplex method for linear programming (1947)</li>
<li>Krylov subspace iteration methods (1950)</li>
<li>The decompositional approach to matrix computations (1951)</li>
<li>FORTRAN optimizing compiler (1957)</li>
<li>The QR algorithm (1959-61)</li>
<li>Quicksort (1962)</li>
<li>The fast Fourier transform (1965)</li>
<li>The integer relation detection algorithm (1977)</li>
<li>The fast multiple algorithm (1987)</li>
</ul>
<h3 id="课程内容"><a href="#课程内容" class="headerlink" title="课程内容"></a>课程内容</h3><ul>
<li>非线性方程求解、迭代方法、特征值、插值与多项式近似、微分与积分、常微分方程、偏微分方程</li>
<li>精确解 $\to$ 近似解</li>
<li>数值求解 $\to$ 近似求解</li>
</ul>
<p><img src="/00/image-20210925165932443.png"></p>
<h3 id="数值计算实例"><a href="#数值计算实例" class="headerlink" title="数值计算实例"></a>数值计算实例</h3><ul>
<li>非刚性变形</li>
<li>相似度</li>
<li>图像配准</li>
<li>三维重建</li>
<li>单视点三维重建</li>
<li>造型：曲线与曲面、多项式插值与近似</li>
<li>Forward Kinematics problem：正向运动学问题</li>
<li>Euler–Bernoulli model：欧拉-伯努利模型</li>
<li>GPS：全球定位系统</li>
<li>数控机床</li>
<li>桥梁</li>
<li>散热片</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/09/22/computation/pyr/00/" data-id="cl9lj74a800b864tzb1l4834i" data-title="计算方法B.裴玉茹.00.说明" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/computation/" rel="tag">computation</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-csharp/tds/02" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/09/20/csharp/tds/02/" class="article-date">
  <time class="dt-published" datetime="2021-09-20T08:19:44.000Z" itemprop="datePublished">2021-09-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/csharp-tds/">csharp.tds</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/09/20/csharp/tds/02/">C#程序设计.唐大仕.02.C#语言基础</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <ul>
<li><a target="_blank" rel="noopener" href="https://www.icourse163.org/learn/PKU-1001663016">中国大学慕课</a></li>
</ul>
<h1 id="C-语言基础——数据运算、流程控制、数组"><a href="#C-语言基础——数据运算、流程控制、数组" class="headerlink" title="C# 语言基础——数据运算、流程控制、数组"></a>C# 语言基础——数据运算、流程控制、数组</h1><h2 id="一-数据类型、变量与常量"><a href="#一-数据类型、变量与常量" class="headerlink" title="一. 数据类型、变量与常量"></a>一. 数据类型、变量与常量</h2><h3 id="1-变量与常量"><a href="#1-变量与常量" class="headerlink" title="1. 变量与常量"></a>1. 变量与常量</h3><ul>
<li>程序的基本任务是：<strong>对数据进行处理</strong></li>
<li>变量与常量<ul>
<li>变量（variable）是值可以改变，本质上是内存的空间，用来存储信息</li>
<li>常量的值是固定的，直接写出来的，称字面常量（literal）</li>
</ul>
</li>
<li>变量（identifier，标识符）命名规范<ul>
<li>不能是C#关键字</li>
<li>由字母、数字、下划线构成</li>
<li>第一个字符必须是字母或下划线</li>
<li>不要太长，一般不超过31个字符为宜</li>
<li>变量名最好不要与库函数名、类名相同。</li>
</ul>
</li>
<li><strong>C# 是大小写敏感的</strong></li>
</ul>
<h3 id="2-数据类型"><a href="#2-数据类型" class="headerlink" title="2. 数据类型"></a>2. 数据类型</h3><ul>
<li><strong>数据类型</strong>：本质上是数据的存储方式及其能参与的运算的抽象</li>
</ul>
<p><img src="/02/image-20210920163137240.png"></p>
<ul>
<li><p>C# 的数据类型分两大类</p>
<ul>
<li>值类型（Value Type）<ul>
<li>int, double, <strong>Point</strong>, <strong>Size</strong>, <strong>DateTime</strong></li>
</ul>
</li>
<li>引用类型（Reference Type）<ul>
<li>Button, Label, Book, Person</li>
</ul>
</li>
</ul>
</li>
<li><p>它们都是类型</p>
<ul>
<li>任何变量都有类型</li>
</ul>
  <figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span> a= <span class="number">5</span>;</span><br><span class="line">DateTime t = <span class="keyword">new</span> DateTime(<span class="number">2020</span>, <span class="number">12</span>, <span class="number">31</span>);</span><br><span class="line">Button btn= <span class="keyword">new</span> Button();</span><br><span class="line"><span class="built_in">double</span>.Parse();</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>它们都是 Object</strong></p>
<ul>
<li>它们都能.ToString()</li>
</ul>
  <figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Label1.Text = age.ToString();</span><br></pre></td></tr></table></figure>
<ul>
<li>都能用于字符串的连接（+）</li>
</ul>
</li>
</ul>
<h4 id="等价类型"><a href="#等价类型" class="headerlink" title="等价类型"></a>等价类型</h4><ul>
<li>每种简单数据类型都有一个关键词<ul>
<li>int 相当于 System.Int32</li>
<li>double 相当于 System.Double</li>
<li>bool 相当于 System.Boolean</li>
<li>string 相当于 System.String<ul>
<li><strong>如果 using System，则 string 相当于 String</strong></li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="简单类型"><a href="#简单类型" class="headerlink" title="简单类型"></a>简单类型</h4><h5 id="整数类型"><a href="#整数类型" class="headerlink" title="整数类型"></a>整数类型</h5><ul>
<li>有符号 sbyte (1)，short (2)，int (4)，long (8)<ul>
<li>如 87L，0x1F （<strong>没有八进制写法</strong>）</li>
</ul>
</li>
<li>无符号 <strong>byte</strong>，ushort，uint，ulong，<ul>
<li>如 87UL</li>
</ul>
</li>
</ul>
<h5 id="字符类型"><a href="#字符类型" class="headerlink" title="字符类型"></a>字符类型</h5><ul>
<li>char (2)<ul>
<li>Unicode 表示</li>
<li>如 ‘a’，’\uA0B1’ 表示 Unicode ‘\n’（回车）</li>
</ul>
</li>
</ul>
<h5 id="实数类型"><a href="#实数类型" class="headerlink" title="实数类型"></a>实数类型</h5><ul>
<li>float (4)<ul>
<li>如3.14F</li>
</ul>
</li>
<li>double (8)<ul>
<li>如 3.14，1.5E-3，3.14D （后面这个D可以省略）</li>
</ul>
</li>
</ul>
<h5 id="十进制类型"><a href="#十进制类型" class="headerlink" title="十进制类型"></a>十进制类型</h5><ul>
<li><p>Decimal</p>
<ul>
<li>如 120.50M</li>
</ul>
</li>
</ul>
<h5 id="布尔类型"><a href="#布尔类型" class="headerlink" title="布尔类型"></a>布尔类型</h5><ul>
<li>bool<ul>
<li>如 true false（小写）</li>
<li><strong>不能用 0 或 1 代替</strong></li>
</ul>
</li>
</ul>
<h4 id="转义符"><a href="#转义符" class="headerlink" title="转义符"></a>转义符</h4><ul>
<li>转义字符含义<ul>
<li><code>\uxxxx</code>：1到4位十六进制数所表示的字符(xxxx)</li>
<li><code>\&#39;</code>：单引号字符</li>
<li><code>\&quot;</code>：双引号字符</li>
<li><code>\\</code>：反斜杠字符</li>
<li><code>\r</code>：回车（return）</li>
<li><code>\n</code>：换行（new line）</li>
<li><code>\f</code>：走纸换页</li>
<li><code>\t</code>：横向跳格</li>
<li><code>\b</code>：退格</li>
</ul>
</li>
</ul>
<h4 id="字符串类型"><a href="#字符串类型" class="headerlink" title="字符串类型"></a>字符串类型</h4><ul>
<li>String</li>
<li>是<strong>引用类型</strong>，<strong>但对字符串常量有特殊处理</strong></li>
<li>字符串前可使用 @<ul>
<li>可以不进行 <code>\</code> 转义</li>
<li>可以换行</li>
<li>双引号则用两个双引号表示一个双引号</li>
</ul>
</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;abcd1234&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="string">@&quot;abcd</span></span><br><span class="line"><span class="string">Pqrst&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="string">@&quot;c:\windows\system32\aaa.txt&quot;</span></span><br></pre></td></tr></table></figure>



<h4 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h4><ul>
<li><p>针对 C++ 程序员</p>
<ul>
<li><strong>引用类型与值类型是由其类型定义的，而不是由其使用决定的</strong></li>
<li>如 C++ 中</li>
</ul>
  <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// C++</span></span><br><span class="line">Book b;</span><br><span class="line">Book * b;</span><br><span class="line">Book &amp;b;</span><br><span class="line">Book *&amp; b;</span><br></pre></td></tr></table></figure>
</li>
<li><p>针对 JavaScript 程序员</p>
<ul>
<li>类型是严格的 TextBox1.Text &#x3D; a.ToString();</li>
</ul>
</li>
<li><p>针对 VB 程序员</p>
<ul>
<li>int 为 32 位长</li>
<li>字符（char）与字符串（string）不同</li>
</ul>
</li>
</ul>
<h4 id="C-新版本中的特殊类型"><a href="#C-新版本中的特殊类型" class="headerlink" title="C# 新版本中的特殊类型"></a>C# 新版本中的特殊类型</h4><ul>
<li><p>推断类型（C# 3.0）</p>
  <figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span> + <span class="number">2</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>与 javascript 中不同，<strong>其类型由编译器推断，在编译时就确定了的</strong></li>
</ul>
</li>
<li><p>Nullable 类型（C# 3.0）</p>
<ul>
<li>可以有值，也可以没值</li>
<li>一般主要用于数据库</li>
</ul>
  <figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span>? a = <span class="number">32</span>;</span><br><span class="line"><span class="keyword">if</span>(a.HasValue) &#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Dynamic（C# 4.0）</p>
<ul>
<li>由DLR 支持</li>
<li><strong>编译时不检查，运行时才确定，主要用于与 COM 组件或其他语言交互</strong></li>
</ul>
  <figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">dynamic</span> x = <span class="keyword">new</span> Cell();</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="二-运算符与表达式"><a href="#二-运算符与表达式" class="headerlink" title="二. 运算符与表达式"></a>二. 运算符与表达式</h2><h3 id="1-运算符"><a href="#1-运算符" class="headerlink" title="1. 运算符"></a>1. 运算符</h3><ul>
<li>和 C++ 相似</li>
</ul>
<h4 id="算术运算符"><a href="#算术运算符" class="headerlink" title="算术运算符"></a>算术运算符</h4><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">+, -, *, /, %, ++, --</span><br></pre></td></tr></table></figure>



<h4 id="关系运算符"><a href="#关系运算符" class="headerlink" title="关系运算符"></a>关系运算符</h4><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;, &lt;, &gt;=, &lt;=, ==, !=</span><br></pre></td></tr></table></figure>


<h4 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h4><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!, &amp; , | , ^ , &amp;&amp;, ||</span><br></pre></td></tr></table></figure>


<h4 id="位运算符"><a href="#位运算符" class="headerlink" title="位运算符"></a>位运算符</h4><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&amp;, |, ^, ~ , &gt;&gt;, &lt;&lt;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>&amp;&amp;</code>, <code>||</code> 是短路（short-circuit）运算符</li>
</ul>
<h4 id="赋值运算符"><a href="#赋值运算符" class="headerlink" title="赋值运算符"></a>赋值运算符</h4><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">=</span><br></pre></td></tr></table></figure>


<h4 id="扩展赋值运算符"><a href="#扩展赋值运算符" class="headerlink" title="扩展赋值运算符"></a>扩展赋值运算符</h4><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">+=, -=, *=, /=</span><br></pre></td></tr></table></figure>


<h4 id="字符串连接运算符"><a href="#字符串连接运算符" class="headerlink" title="字符串连接运算符"></a>字符串连接运算符</h4><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">+</span><br></pre></td></tr></table></figure>

<ul>
<li><code>+</code> 运算符两侧的操作数中只要有一个是字符串（String）类型，系统会自动将另一个操作数转换为字符串然后再进行连接</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">strings = <span class="string">&quot;hello,&quot;</span> + <span class="number">300</span> + <span class="number">5</span> + <span class="string">&quot;号&quot;</span>;</span><br><span class="line"><span class="comment">// hello,3005号</span></span><br></pre></td></tr></table></figure>



<h3 id="2-表达式"><a href="#2-表达式" class="headerlink" title="2. 表达式"></a>2. 表达式</h3><ul>
<li>表达式是符合一定语法规则的运算符和操作数的序列</li>
<li><strong>三目运算</strong></li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">m = a &gt; b ? a : b;</span><br></pre></td></tr></table></figure>



<h4 id="表达式的类型和值"><a href="#表达式的类型和值" class="headerlink" title="表达式的类型和值"></a>表达式的类型和值</h4><ul>
<li>对表达式中操作数进行运算得到的结果称为表达式的值</li>
<li>表达式的值的数据类型即为表达式的类型</li>
</ul>
<h4 id="赋值时的类型转换"><a href="#赋值时的类型转换" class="headerlink" title="赋值时的类型转换"></a>赋值时的类型转换</h4><ul>
<li>当 <code>=</code> 两侧的数据类型不一致时，可以适用默认类型转换或强制类型转换（casting）原则进行处理</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">long</span> l= <span class="number">100</span>;</span><br><span class="line"><span class="built_in">int</span> i= (<span class="built_in">int</span>)l;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>特例</strong>：可以将整型常量直接赋值给 byte、short、char 等类型变量，而不需要进行强制类型转换，<strong>只要不超出其表数范围</strong><ul>
<li>编译器在编译的时候可以识别出来常量</li>
</ul>
</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">byte</span> b = <span class="number">12</span>;   <span class="comment">//合法</span></span><br><span class="line"><span class="built_in">byte</span> b = <span class="number">4096</span>; <span class="comment">//非法</span></span><br></pre></td></tr></table></figure>



<h4 id="表达式中的类型转换"><a href="#表达式中的类型转换" class="headerlink" title="表达式中的类型转换"></a>表达式中的类型转换</h4><ul>
<li>当有不同种类的混合运算时:<ul>
<li>int -&gt; long -&gt; float -&gt; double</li>
</ul>
</li>
<li>另外，注意<strong>整型提升</strong><ul>
<li><strong>所有的 byte、short、char 等转为 int</strong></li>
<li>只要参与运算就转成 int</li>
<li><strong>byte + byte 也会转化为 int 之后再进行相加</strong></li>
</ul>
</li>
</ul>
<h4 id="类型转换函数"><a href="#类型转换函数" class="headerlink" title="类型转换函数"></a>类型转换函数</h4><ul>
<li>字符串转成数值</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">double</span>.Parse(s);</span><br><span class="line"><span class="built_in">int</span>.Parse(s);</span><br></pre></td></tr></table></figure>

<ul>
<li>数字转成字符串</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10.</span>ToString();</span><br><span class="line"><span class="string">&quot;&quot;</span> + <span class="number">10</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>使用 Convert</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Convert.ToInt32(textbox1.Text)</span><br><span class="line">Convert.ToDouble(<span class="string">&quot;123.45&quot;</span>)</span><br><span class="line">Convert.ToDateTime(<span class="string">&quot;2009-10-01 14:00&quot;</span>)</span><br></pre></td></tr></table></figure>



<h4 id="运算符优先级与结合性"><a href="#运算符优先级与结合性" class="headerlink" title="运算符优先级与结合性"></a>运算符优先级与结合性</h4><ul>
<li>单目 &gt; 算术 &gt; 关系 &gt; 逻辑 &gt; 三目 &gt; 赋值</li>
</ul>
<table>
<thead>
<tr>
<th align="left">Separator</th>
<th align="left">. ( ) { } ; ,</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>Associative</strong></td>
<td align="left"><strong>Operators</strong></td>
</tr>
<tr>
<td align="left">R to L</td>
<td align="left">++ –~ ! (data type)</td>
</tr>
<tr>
<td align="left">L to R</td>
<td align="left">* &#x2F; %</td>
</tr>
<tr>
<td align="left">L to R</td>
<td align="left">+ -</td>
</tr>
<tr>
<td align="left">L to R</td>
<td align="left">&lt;&lt; &gt;&gt; &gt;&gt;&gt;</td>
</tr>
<tr>
<td align="left">L to R</td>
<td align="left">&lt; &gt; &lt;&#x3D; &gt;&#x3D; instanceof</td>
</tr>
<tr>
<td align="left">L to R</td>
<td align="left">&#x3D;&#x3D; !&#x3D;</td>
</tr>
<tr>
<td align="left">L to R</td>
<td align="left">&amp;</td>
</tr>
<tr>
<td align="left">L to R</td>
<td align="left">^</td>
</tr>
<tr>
<td align="left">L to R</td>
<td align="left">$</td>
</tr>
<tr>
<td align="left">L to R</td>
<td align="left">&amp;&amp;</td>
</tr>
<tr>
<td align="left">L to R</td>
<td align="left">$</td>
</tr>
<tr>
<td align="left">R to L</td>
<td align="left">?:</td>
</tr>
<tr>
<td align="left">R to L</td>
<td align="left">&#x3D; *&#x3D; &#x2F;&#x3D; %&#x3D; +&#x3D; -&#x3D; &lt;&lt;&#x3D; &gt;&gt;&#x3D;  &amp;&#x3D; ^&#x3D;</td>
</tr>
</tbody></table>
<h2 id="三-流程控制语句"><a href="#三-流程控制语句" class="headerlink" title="三. 流程控制语句"></a>三. 流程控制语句</h2><ul>
<li>结构化程序设计的三种基本流程<ul>
<li><strong>顺序</strong>、<strong>分支</strong>、<strong>循环</strong></li>
</ul>
</li>
</ul>
<img src="02/image-20210920200609472.png" style="zoom:67%;" />

<h3 id="简单语句"><a href="#简单语句" class="headerlink" title="简单语句"></a>简单语句</h3><ul>
<li>最简单的语句：<strong>方法调用语句</strong>及<strong>赋值语句</strong><ul>
<li>后面有个分号</li>
</ul>
</li>
<li><strong>没有表达式语句一说</strong><ul>
<li>2+3; 不能成为一个语句</li>
<li><strong>编译报错</strong></li>
</ul>
</li>
</ul>
<h3 id="分支语句"><a href="#分支语句" class="headerlink" title="分支语句"></a>分支语句</h3><ul>
<li><code>if-else</code> 语句</li>
<li><code>switch</code> 语句<ul>
<li>case 变量：整型、枚举、字符串</li>
<li>不能随便贯穿，<strong>必须有 break</strong><ul>
<li>除非几个 case 连起来，中间没有别的语句</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 编译错误</span></span><br><span class="line"><span class="keyword">switch</span>(s)&#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">        <span class="comment">// break;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;2&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="literal">default</span>:</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;default&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// OK</span></span><br><span class="line"><span class="keyword">switch</span>(s)&#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        <span class="comment">// break;</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;2&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="literal">default</span>:</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;default&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="循环语句"><a href="#循环语句" class="headerlink" title="循环语句"></a>循环语句</h3><ul>
<li>循环语句功能<ul>
<li>句的在循环条件满足的情况下，反复执行特定代码</li>
</ul>
</li>
<li>循环五要素<ul>
<li>初始化部分（init_statement）</li>
<li>循环条件部分（test_exp）</li>
<li>循环体部分（body_statement）</li>
<li>迭代部分（alter_statement）我称为“循环改变”</li>
<li>”结束后处理”</li>
</ul>
</li>
<li>for 循环、while 循环、do-while 循环</li>
</ul>
<img src="02/image-20210921103344494.png" style="zoom:67%;" />

<ul>
<li>跳转语句<ul>
<li>break</li>
<li>continue</li>
<li>goto<ul>
<li>可以从内层跳到外层</li>
<li>标号的写法：标识符加个冒号(:)</li>
</ul>
</li>
<li>try-catch</li>
</ul>
</li>
</ul>
<h2 id="四-数组"><a href="#四-数组" class="headerlink" title="四. 数组"></a>四. 数组</h2><ul>
<li>数组是多个相同类型数据的组合</li>
<li>数组属<strong>引用类型</strong></li>
</ul>
<h3 id="一维数组声明"><a href="#一维数组声明" class="headerlink" title="一维数组声明"></a>一维数组声明</h3><ul>
<li>一维数组的声明方式</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span>[] a1; <span class="comment">// 注意方括号写到变量名的前面</span></span><br><span class="line"><span class="built_in">double</span> []b;</span><br><span class="line">Mydate []c;</span><br></pre></td></tr></table></figure>

<ul>
<li>C# 语言中声明数组时不能指定其长度(数组中元素的个数)<ul>
<li><strong>因为是引用类型</strong></li>
</ul>
</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span> a[<span class="number">5</span>]; <span class="comment">// 非法</span></span><br></pre></td></tr></table></figure>



<h3 id="数组初始化"><a href="#数组初始化" class="headerlink" title="数组初始化"></a>数组初始化</h3><h4 id="动态初始化"><a href="#动态初始化" class="headerlink" title="动态初始化"></a>动态初始化</h4><ul>
<li>数组定义与为数组元素分配空间并赋值的操作分开进行</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span>[] a = <span class="keyword">new</span> <span class="built_in">int</span>[<span class="number">3</span>];</span><br><span class="line">a[<span class="number">0</span>] = <span class="number">3</span>;</span><br><span class="line">a[<span class="number">1</span>] = <span class="number">9</span>;</span><br><span class="line">a[<span class="number">2</span>] = <span class="number">8</span>;</span><br><span class="line"></span><br><span class="line">MyDate[] dates;</span><br><span class="line">dates = <span class="keyword">new</span> MyDate[<span class="number">3</span>];</span><br><span class="line">dates[<span class="number">0</span>] = <span class="keyword">new</span> MyDate(<span class="number">22</span>, <span class="number">7</span>, <span class="number">1964</span>);</span><br><span class="line">dates[<span class="number">1</span>] = <span class="keyword">new</span> MyDate(<span class="number">1</span>, <span class="number">1</span>, <span class="number">2000</span>);</span><br><span class="line">dates[<span class="number">2</span>] = <span class="keyword">new</span> MyDate(<span class="number">22</span>, <span class="number">12</span>, <span class="number">1964</span>);</span><br></pre></td></tr></table></figure>



<h4 id="数组初始化-1"><a href="#数组初始化-1" class="headerlink" title="数组初始化"></a>数组初始化</h4><ul>
<li>在定义数组的同时就为数组元素分配空间并赋值。</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span>[] a = &#123;<span class="number">3</span>, <span class="number">9</span>, <span class="number">8</span>&#125;;</span><br><span class="line"><span class="built_in">int</span>[] a = &#123;<span class="number">3</span>, <span class="number">9</span>, <span class="number">8</span>,&#125;;  <span class="comment">// 最后可以多一个逗号</span></span><br><span class="line"><span class="built_in">int</span>[] a = <span class="keyword">new</span> <span class="built_in">int</span>[]&#123;<span class="number">3</span>, <span class="number">9</span>, <span class="number">8</span>&#125;;</span><br><span class="line"></span><br><span class="line">MyDate[] dates= &#123;</span><br><span class="line">    <span class="keyword">new</span> MyDate(<span class="number">22</span>, <span class="number">7</span>, <span class="number">1964</span>),</span><br><span class="line">    <span class="keyword">new</span> MyDate(<span class="number">1</span>, <span class="number">1</span>, <span class="number">2000</span>),</span><br><span class="line">    <span class="keyword">new</span> MyDate(<span class="number">22</span>, <span class="number">12</span>, <span class="number">1964</span>)</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



<h3 id="数组元素的默认初始化"><a href="#数组元素的默认初始化" class="headerlink" title="数组元素的默认初始化"></a>数组元素的默认初始化</h3><ul>
<li>数组是引用类型，<strong>它的元素相当于类的成员变量</strong></li>
<li>因此数组一经分配空间，其中的每个元素也被按照成员变量同样的方式被<strong>隐式初始化</strong><ul>
<li><strong>数值类型是 0，引用类型是 null</strong></li>
</ul>
</li>
</ul>
<h3 id="数组元素的引用方式"><a href="#数组元素的引用方式" class="headerlink" title="数组元素的引用方式"></a>数组元素的引用方式</h3><ul>
<li>index为数组元素下标，可以是整型常量或整型表达式</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a[<span class="number">3</span>], b[i], c[<span class="number">6</span>*i];</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>数组元素下标从 0 开始</strong><ul>
<li>长度为n的数组合法下标取值范围：0 ~ n-1</li>
</ul>
</li>
<li><strong>每个数组都有一个属性 Length 指明它的长度</strong></li>
</ul>
<h3 id="foreach-语句"><a href="#foreach-语句" class="headerlink" title="foreach 语句"></a>foreach 语句</h3><ul>
<li>foreach 是<strong>只读式</strong>的遍历</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span>[] ages = <span class="keyword">new</span> <span class="built_in">int</span>[<span class="number">10</span>];</span><br><span class="line"><span class="keyword">foreach</span>( intage inages ) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="Array-Copy"><a href="#Array-Copy" class="headerlink" title="Array.Copy()"></a>Array.Copy()</h3><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//源数组</span></span><br><span class="line"><span class="built_in">int</span>[] source = &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span> &#125;;</span><br><span class="line"><span class="comment">//目的数组</span></span><br><span class="line"><span class="built_in">int</span>[] dest = &#123; <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 复制源数组中从下标 0 开始的 source.length 个元素到</span></span><br><span class="line"><span class="comment">// 目的数组，从下标 0 的位置开始存储。</span></span><br><span class="line">Array.Copy(source, <span class="number">0</span>, dest, <span class="number">0</span>, source.Length);</span><br></pre></td></tr></table></figure>



<h3 id="多维数组"><a href="#多维数组" class="headerlink" title="多维数组"></a>多维数组</h3><ul>
<li>二维数组举例</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span>[,] a = &#123;&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">5</span>&#125;,&#123;<span class="number">3</span>,<span class="number">4</span>,<span class="number">0</span>&#125;,&#123;<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>&#125;&#125;;</span><br><span class="line">Button[,] buttons = <span class="keyword">new</span> Button[<span class="number">4</span>, <span class="number">4</span>];</span><br></pre></td></tr></table></figure>

<ul>
<li>可以用 a.GetLength(0) , a.GetLength(1) 来获得<strong>各个维度的长度</strong></li>
</ul>
<h3 id="交错数组"><a href="#交错数组" class="headerlink" title="交错数组"></a>交错数组</h3><ul>
<li>C#中交错数组是数组的数组</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span>[][] t = <span class="keyword">new</span> <span class="built_in">int</span>[<span class="number">3</span>][];</span><br><span class="line">t[<span class="number">0</span>] = <span class="keyword">new</span> <span class="built_in">int</span>[<span class="number">2</span>];</span><br><span class="line">t[<span class="number">1</span>] = <span class="keyword">new</span> <span class="built_in">int</span>[<span class="number">4</span>];</span><br><span class="line">t[<span class="number">2</span>] = <span class="keyword">new</span> <span class="built_in">int</span>[<span class="number">3</span>];</span><br></pre></td></tr></table></figure>

<ul>
<li>C# <strong>中多维数组的声明和初始化应按从高维到低维的顺序进行</strong></li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span> t1[][] = <span class="keyword">new</span> <span class="built_in">int</span>[][<span class="number">4</span>]; <span class="comment">// 非法, 这与C++是不一样的</span></span><br></pre></td></tr></table></figure>



<h2 id="五-其他"><a href="#五-其他" class="headerlink" title="五. 其他"></a>五. 其他</h2><h3 id="屏保程序"><a href="#屏保程序" class="headerlink" title="屏保程序"></a>屏保程序</h3><ul>
<li>放到文件夹 <code>C:\windows\system32\</code> 下，修改文件名为 <code>xxx.scr</code></li>
</ul>
<h3 id="匈牙利命名法"><a href="#匈牙利命名法" class="headerlink" title="匈牙利命名法"></a>匈牙利命名法</h3><ul>
<li>lbl（label）、btn（button）、txt（textBox）、lst（listBox）、frm（form）</li>
<li><strong>修改 Name 属性修改名字</strong></li>
</ul>
<h3 id="事件的-sender"><a href="#事件的-sender" class="headerlink" title="事件的 sender"></a>事件的 sender</h3><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//按钮点击事件处理</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">btn_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span> &#123;</span><br><span class="line">    Button btn = sender <span class="keyword">as</span> Button; <span class="comment">// 当前点中的按钮</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/09/20/csharp/tds/02/" data-id="cl9lj74bh00jm64tz1qkv0k6x" data-title="C#程序设计.唐大仕.02.C#语言基础" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/csharp/" rel="tag">csharp</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-CG/Papers/2019/TwoLevelBVH" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/09/17/CG/Papers/2019/TwoLevelBVH/" class="article-date">
  <time class="dt-published" datetime="2021-09-17T01:13:21.000Z" itemprop="datePublished">2021-09-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/CG-Paper/">CG.Paper</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/09/17/CG/Papers/2019/TwoLevelBVH/">(论文)[2019] Combining Two-level Data Structures and Line Space Precomputations to Accelerate Indirect Illumination</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Combining-Two-level-Data-Structures-and-Line-Space-Precomputations-to-Accelerate-Indirect-Illumination"><a href="#Combining-Two-level-Data-Structures-and-Line-Space-Precomputations-to-Accelerate-Indirect-Illumination" class="headerlink" title="Combining Two-level Data Structures and Line Space Precomputations to Accelerate Indirect Illumination"></a>Combining Two-level Data Structures and Line Space Precomputations to Accelerate Indirect Illumination</h1><ul>
<li><strong><span style="color:red;">TODO</span></strong></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/09/17/CG/Papers/2019/TwoLevelBVH/" data-id="cl9lj74bt00lv64tz8oldhmph" data-title="(论文)[2019] Combining Two-level Data Structures and Line Space Precomputations to Accelerate Indirect Illumination" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CG/" rel="tag">CG</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Paper/" rel="tag">Paper</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/occlusion/" rel="tag">occlusion</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8F%AF%E8%A7%81%E6%80%A7/" rel="tag">可见性</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-csharp/tds/01" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/09/16/csharp/tds/01/" class="article-date">
  <time class="dt-published" datetime="2021-09-16T12:28:22.000Z" itemprop="datePublished">2021-09-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/csharp-tds/">csharp.tds</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/09/16/csharp/tds/01/">C#程序设计.唐大仕.01.C#程序设计简介</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <ul>
<li><a target="_blank" rel="noopener" href="https://www.icourse163.org/learn/PKU-1001663016">中国大学慕课</a></li>
</ul>
<h1 id="C-程序设计简介"><a href="#C-程序设计简介" class="headerlink" title="C# 程序设计简介"></a>C# 程序设计简介</h1><h2 id="C-语言简介"><a href="#C-语言简介" class="headerlink" title="C# 语言简介"></a>C# 语言简介</h2><ul>
<li>历史<ul>
<li>C（60年代） -&gt; C++（面向对象，内容多，复杂） -&gt; Java（1995） -&gt; C#（2001&#x2F;2002）</li>
<li>Java：C++–</li>
</ul>
</li>
<li>面向对象</li>
<li>简单，安全</li>
<li>与 Web&#x2F;Mobile 的紧密结合</li>
<li>C#之父 —— Anders Hejlsberg<ul>
<li>pascal 的发明者之一</li>
</ul>
</li>
<li>C# 为了对抗 Java 而推出的</li>
</ul>
<h2 id="NET"><a href="#NET" class="headerlink" title=".NET"></a>.NET</h2><img src="01/image-20210916225916542.png" style="zoom: 67%;" />

<ul>
<li>通用的编程模型</li>
<li>包括客户端、服务器和应用服务</li>
<li>开发工具</li>
</ul>
<h3 id="历程"><a href="#历程" class="headerlink" title="历程"></a>历程</h3><img src="01/image-20210916230059078.png" style="zoom: 67%;" />



<h3 id="跨平台"><a href="#跨平台" class="headerlink" title="跨平台"></a>跨平台</h3><ul>
<li>现在推出的 .NET Core 是其跨平台的版本<ul>
<li><a target="_blank" rel="noopener" href="https://dotnet.github.io/">https://dotnet.github.io/</a></li>
<li>微软开布的跨平台的开源系统</li>
<li>可运行于 linux 及 mac 平台上</li>
<li>类库大部分是兼容的</li>
<li>开源的 mono 项目可以有 gui 界面<ul>
<li><a target="_blank" rel="noopener" href="https://www.mono-project.com/">https://www.mono-project.com/</a></li>
</ul>
</li>
</ul>
</li>
<li>另外 ，还有用 C# 开发跨平台的手机程序<ul>
<li>Xamarin</li>
</ul>
</li>
<li>.Net 5 整合了 .net standard, .net core, mono 等<ul>
<li>即将发布</li>
</ul>
</li>
</ul>
<h3 id="NET-5"><a href="#NET-5" class="headerlink" title=".NET 5"></a>.NET 5</h3><img src="01/image-20210916230334101.png" style="zoom: 67%;" />



<h3 id="NET-版本"><a href="#NET-版本" class="headerlink" title=".NET 版本"></a>.NET 版本</h3><img src="01/image-20210916230418590.png" style="zoom: 67%;" />

<ul>
<li><a target="_blank" rel="noopener" href="https://baike.baidu.com/view/1312598.htm">dotnet framework 版本历史</a></li>
</ul>
<h3 id="架构、语言、工具"><a href="#架构、语言、工具" class="headerlink" title="架构、语言、工具"></a>架构、语言、工具</h3><img src="01/image-20210916230505038.png" style="zoom: 67%;" />



<h3 id="统一的编程-API：NET-Framework-类"><a href="#统一的编程-API：NET-Framework-类" class="headerlink" title="统一的编程 API：NET Framework 类"></a>统一的编程 API：NET Framework 类</h3><img src="01/image-20210916230547254.png" style="zoom:67%;" />



<h3 id="NET-主要特性"><a href="#NET-主要特性" class="headerlink" title=".NET 主要特性"></a>.NET 主要特性</h3><ul>
<li>简单的开发和部署</li>
<li>统一的编程模型</li>
<li>提供健壮、安全的执行环境</li>
<li>支持多种编程语言</li>
<li>丰富的类库支持</li>
</ul>
<h2 id="公共语言运行时（-CLR-）"><a href="#公共语言运行时（-CLR-）" class="headerlink" title="公共语言运行时（ CLR ）"></a>公共语言运行时（ CLR ）</h2><ul>
<li>common language runtime</li>
<li>设计目标<ul>
<li>简化开发：安全性、内存管理</li>
<li>简化应用程序部署</li>
<li>基类库</li>
<li>支持多种语言</li>
</ul>
</li>
<li>相当于 Java 中的虚拟机</li>
</ul>
<h3 id="编译和执行"><a href="#编译和执行" class="headerlink" title="编译和执行"></a>编译和执行</h3><img src="01/image-20210916230840853.png" style="zoom:67%;" />

<ul>
<li>.exe 文件中不是 CPU 指令，而是中间代码，在执行的时候即时编译成本机代码执行<ul>
<li>IL 指令（ Intermediate Language) CIL MSIL</li>
<li>元信息</li>
</ul>
</li>
<li>反编译的工具<ul>
<li>ildasm.exe 或用 ILSpy</li>
<li>C:\Program Files\Microsoft SDKs\Windows\v8.1A\bin\NETFX 4.5.1 Tools\</li>
</ul>
</li>
</ul>
<h2 id="学习网站"><a href="#学习网站" class="headerlink" title="学习网站"></a>学习网站</h2><ul>
<li><p><a target="_blank" rel="noopener" href="https://msdn.microsoft.com/">https://msdn.microsoft.com</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/">https://www.cnblogs.com</a> (中文，强烈推荐)</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.codeplex.com/">https://www.codeplex.com</a> (源码，强烈推荐)</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.codeproject.com/">https://www.codeproject.com</a> (英文，强烈推荐)</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://code.msdn.microsoft.com/">https://code.msdn.microsoft.com/</a> (推荐)</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.asp.net/">https://www.asp.net</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.gotdotnet.com/">https://www.gotdotnet.com</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.windowsforms.com/">https://www.windowsforms.com</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.c-sharpcorner.com/">https://www.c-sharpcorner.com</a></p>
</li>
<li><p><a href="www.microsoft.com/chain/msdn">www.microsoft.com/chain/msdn</a></p>
</li>
<li><p>Framework 文档</p>
<ul>
<li><a target="_blank" rel="noopener" href="http://msdn.microsoft.com/zh-cn/library/">http://msdn.microsoft.com/zh-cn/library/</a></li>
<li>或者：<a target="_blank" rel="noopener" href="http://msdn.microsoft.com/">http://msdn.microsoft.com</a><ul>
<li>文档–&gt;.NET开发–&gt;。Net framework4.5–&gt;.NetFramework类库</li>
</ul>
</li>
<li>或者： <a target="_blank" rel="noopener" href="http://msdn.microsoft.com/zh-cn/library/gg145045(v=vs.110).aspx">http://msdn.microsoft.com/zh-cn/library/gg145045(v=vs.110).aspx</a></li>
</ul>
</li>
<li><p>基本库的源程序</p>
<ul>
<li><a target="_blank" rel="noopener" href="http://referencesource.microsoft.com/">http://referencesource.microsoft.com</a></li>
</ul>
</li>
</ul>
<h2 id="C-快速入门"><a href="#C-快速入门" class="headerlink" title="C# 快速入门"></a>C# 快速入门</h2><ul>
<li>windows 窗体程序</li>
<li>Shift+F7：界面设计</li>
<li>修改属性：属性窗口</li>
<li>添加事件：属性窗口中的 “闪电” 标志</li>
</ul>
<img src="01/image-20210919165407523.png" style="zoom:67%;" />

<ul>
<li><p>保存</p>
<ul>
<li>程序文件 .cs</li>
<li>工程文件 .csproj</li>
<li>解决方案 .sln</li>
</ul>
</li>
<li><p>对象</p>
<ul>
<li>属性 property</li>
<li>方法 method</li>
<li>事件 event</li>
</ul>
  <figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.button1.Click += <span class="keyword">new</span> System.EventHandler(<span class="keyword">this</span>.button1_Click);</span><br><span class="line"><span class="comment">// 或简写如下</span></span><br><span class="line"><span class="keyword">this</span>.button1.Click += <span class="keyword">this</span>.button1_Click;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Timer 控件可以设置自动触发事件</p>
</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用(导入)</span></span><br><span class="line"><span class="keyword">using</span> System.Windows.Forms;</span><br><span class="line"><span class="comment">// 命名空间(为了我们的类和别人的不重名)</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">xxxxxx</span>&#123;...&#125;</span><br><span class="line"><span class="comment">// 继承（用冒号表示）</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Form1</span> : <span class="title">System.Windows.Forms.Form</span></span><br></pre></td></tr></table></figure>

<ul>
<li>自动生成的代码<ul>
<li>对象的生成(new)</li>
<li>事件的注册(+&#x3D;)</li>
</ul>
</li>
<li>如果设置了控件的 autosize 属性为 true，那么 size 属性失效</li>
</ul>
<h2 id="基本应用类型"><a href="#基本应用类型" class="headerlink" title="基本应用类型"></a>基本应用类型</h2><h3 id="常见应用程序类型"><a href="#常见应用程序类型" class="headerlink" title="常见应用程序类型"></a>常见应用程序类型</h3><ul>
<li>控制台程序</li>
<li>Windows 应用程序<ul>
<li>WPF 程序</li>
</ul>
</li>
<li>Web 应用程序<ul>
<li>Mobile 应用程序</li>
</ul>
</li>
</ul>
<h3 id="控制台程序"><a href="#控制台程序" class="headerlink" title="控制台程序"></a>控制台程序</h3><ul>
<li>helloworld.cs</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.Linq;</span><br><span class="line"><span class="keyword">using</span> System.Text;</span><br><span class="line"><span class="keyword">using</span> System.Threading.Tasks;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">ConsoleDemo1</span> &#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span> &#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span> &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;Hello World!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>类定义<ul>
<li>程序的基本组成部分是类(class)，如本例中的HelloWorld类。</li>
</ul>
</li>
<li>Main() 方法<ul>
<li>程序的入口是Main()方法。它有固定的书写格式：<ul>
<li>public static void Main(string [] args) {}</li>
<li>可以没有 public，可以没有 string [] args</li>
</ul>
</li>
</ul>
</li>
<li><code>ctrl + F5</code> 能够让程序运行完停一会</li>
</ul>
<h3 id="Windows-应用程序"><a href="#Windows-应用程序" class="headerlink" title="Windows 应用程序"></a>Windows 应用程序</h3><ul>
<li>又被称为是 WinForm 应用</li>
<li>可视化的设计窗体</li>
<li>事件驱动的编程机制</li>
</ul>
<h3 id="WPF-程序"><a href="#WPF-程序" class="headerlink" title="WPF 程序"></a>WPF 程序</h3><ul>
<li>Windows Presentation Foundation</li>
<li>在 Windows 上运行</li>
<li>使用 XML（xmal）来定义界面</li>
</ul>
<h3 id="Web-应用程序"><a href="#Web-应用程序" class="headerlink" title="Web 应用程序"></a>Web 应用程序</h3><ul>
<li>在.NET中也称 ASP.NET 应用程序<ul>
<li>Active Server Page</li>
</ul>
</li>
<li>应用程序在服务器上运行，客户端使用浏器（如IE）来进行输入输出</li>
<li>使用 html&#x2F;css 来定义界面</li>
<li>这种方式称为 B&#x2F;S（Browser&#x2F;Server）方式</li>
<li>与传统的 C&#x2F;S（Client&#x2F;Server）相区别</li>
<li>B&#x2F;S 应用程序在使用、部署上有独特的优势</li>
</ul>
<h3 id="Mobile-应用程序"><a href="#Mobile-应用程序" class="headerlink" title="Mobile 应用程序"></a>Mobile 应用程序</h3><ul>
<li>又称 Windows Phone 程序</li>
<li>运行于手机、PDA 等移动设备</li>
<li>大部分类是与 windows 兼容的，但功能有裁减</li>
<li>另外，Xamarin 可以开发跨平台的手机应用<ul>
<li>(win phone, android, iphone)</li>
</ul>
</li>
</ul>
<h3 id="比较"><a href="#比较" class="headerlink" title="比较"></a>比较</h3><img src="01/image-20210921152946420.png" style="zoom: 67%;" />

<img src="01/image-20210921153058369.png" style="zoom:67%;" />



<h2 id="程序中的输入与输出"><a href="#程序中的输入与输出" class="headerlink" title="程序中的输入与输出"></a>程序中的输入与输出</h2><h3 id="WinForm"><a href="#WinForm" class="headerlink" title="WinForm"></a>WinForm</h3><ul>
<li>直接使用控件实现</li>
<li>在 win10 中，默认缩放为 125%，winform 的 .exe 文件会有放大模糊的问题<ul>
<li>可以对 bin&#x2F;Debug&#x2F;xxx.exe 进行如下设置</li>
<li>属性 -&gt; 兼容性 -&gt; 更改高 DPI 设置 -&gt; 替代高 DPI 缩放行为，缩放执行：应用程序</li>
</ul>
</li>
</ul>
<img src="01/image-20210919212415520.png" style="zoom:67%;" />



<h3 id="控制台应用程序"><a href="#控制台应用程序" class="headerlink" title="控制台应用程序"></a>控制台应用程序</h3><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">namespace</span> <span class="title">ConsoleDemo1</span> &#123;</span><br><span class="line">    <span class="keyword">internal</span> <span class="keyword">class</span> <span class="title">Program</span> &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span> &#123;</span><br><span class="line">            <span class="built_in">string</span> s = <span class="string">&quot;&quot;</span>;</span><br><span class="line">            Console.Write(<span class="string">&quot;Please input a line: &quot;</span>);</span><br><span class="line">            s = Console.ReadLine();</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;You have entered: &#123;0&#125;&quot;</span>, s);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="开发工具"><a href="#开发工具" class="headerlink" title="开发工具"></a>开发工具</h2><h3 id="一些开发工具"><a href="#一些开发工具" class="headerlink" title="一些开发工具"></a>一些开发工具</h3><img src="01/image-20210919213120184.png" style="zoom:80%;" />

<ul>
<li><a target="_blank" rel="noopener" href="https://visualstudio.microsoft.com/zh-hans/downloads/">Visual Studio</a></li>
<li><a target="_blank" rel="noopener" href="https://www.editplus.com/">EditPlus</a></li>
<li><a target="_blank" rel="noopener" href="http://www.icsharpcode.net/">SharpDeveloper</a></li>
<li><a target="_blank" rel="noopener" href="http://www.sliver.com/dotnet/SnippetCompiler/">SnippetCompiler</a></li>
<li>Linux：<a target="_blank" rel="noopener" href="https://www.mono-project.com/">Mono</a></li>
</ul>
<h3 id="EditPlus-配置"><a href="#EditPlus-配置" class="headerlink" title="EditPlus 配置"></a>EditPlus 配置</h3><h4 id="设定语法加亮文件"><a href="#设定语法加亮文件" class="headerlink" title="设定语法加亮文件"></a>设定语法加亮文件</h4><ul>
<li>Tools|Preferences|Settings &amp; Syntax|Add</li>
<li>描述填 csharp, 文件扩展名 cs;aspx</li>
<li>选择语法加亮文件 csharp.stx</li>
</ul>
<h4 id="配置编译工具"><a href="#配置编译工具" class="headerlink" title="配置编译工具"></a>配置编译工具</h4><ul>
<li>Tools | Config User Tools | Add</li>
<li>MenuText 填：Compile C#(编译C#)</li>
<li>Command 选：D:\WINDOWS\Microsoft.NET\Framework\v2.0.50727\csc.exe</li>
<li>Argument 填：&#x2F;unsafe $(FileName</li>
<li>InitDir 填：$(FileDir)</li>
<li>打勾：Capture Output</li>
</ul>
<h4 id="配置运行工具"><a href="#配置运行工具" class="headerlink" title="配置运行工具"></a>配置运行工具</h4><ul>
<li>Tools | Config User Tools | Add</li>
<li>MenuText 填：Run C#(运行C#)</li>
<li>Command 填：cmd &#x2F;c</li>
<li>Argument 填：$(FileNameNoExt).exe</li>
<li>InitDir 填：$(FileDir)</li>
<li>不打勾：Capture Output</li>
</ul>
<h3 id="notepadd"><a href="#notepadd" class="headerlink" title="notepadd++"></a>notepadd++</h3><ul>
<li>NppExec 插件</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 编译</span></span><br><span class="line">cmd /K <span class="built_in">cd</span> /d $(CURRENT_DIRECTORY) &amp; <span class="string">&quot;C:\Program Files (x86)\Microsoft Visual Studio\2017\Community\MSBuild\15.0\Bin\Roslyn\csc.exe&quot;</span> /unsafe <span class="string">&quot;<span class="subst">$(NAME_PART)</span>&quot;</span>.cs &amp; <span class="built_in">exit</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## 运行</span></span><br><span class="line">cmd /K <span class="built_in">cd</span> /d $(CURRENT_DIRECTORY) &amp; <span class="string">&quot;<span class="subst">$(NAME_PART)</span>&quot;</span>.exe &amp; <span class="built_in">exit</span></span><br></pre></td></tr></table></figure>





<h2 id="命令行"><a href="#命令行" class="headerlink" title="命令行"></a>命令行</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># 编译</span></span></span><br><span class="line">csc.exe /unsafe xxx.cs</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># (1)</span></span></span><br><span class="line">csc xxxx.cs</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># (2)</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># 其中 /r:引用类库 /t:表示目标类型(还可以为library)</span></span></span><br><span class="line">csc /r:System.Data.dll /t:exe /out:xxxx.exe xxxx.cs</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># 运行</span></span></span><br><span class="line">xxx.exe</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/09/16/csharp/tds/01/" data-id="cl9lj74bh00jp64tz4k1l5dcd" data-title="C#程序设计.唐大仕.01.C#程序设计简介" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/csharp/" rel="tag">csharp</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-csharp/tds/00" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/09/16/csharp/tds/00/" class="article-date">
  <time class="dt-published" datetime="2021-09-16T12:21:53.000Z" itemprop="datePublished">2021-09-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/0/">0</a>►<a class="article-category-link" href="/categories/csharp-tds/">csharp.tds</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/09/16/csharp/tds/00/">C#程序设计.唐大仕.00.说明</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h1><ul>
<li>课程名称：C#程序设计</li>
<li>授课老师：<a target="_blank" rel="noopener" href="http://www.dstang.com/books_dstang/">唐大仕</a></li>
<li>课程链接：<a target="_blank" rel="noopener" href="https://www.icourse163.org/learn/PKU-1001663016">中国大学慕课</a></li>
</ul>
<h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><ul>
<li>VS2017</li>
<li>Net 4.6.1</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/09/16/csharp/tds/00/" data-id="cl9lj74bg00jf64tzdw4o9lbe" data-title="C#程序设计.唐大仕.00.说明" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/csharp/" rel="tag">csharp</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-CG/Papers/2011/rtsah" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/09/13/CG/Papers/2011/rtsah/" class="article-date">
  <time class="dt-published" datetime="2021-09-13T12:02:49.000Z" itemprop="datePublished">2021-09-13</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/CG-Paper/">CG.Paper</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/09/13/CG/Papers/2011/rtsah/">(论文)[2011] RTSAH Traversal Order for Occlusion Rays</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="RTSAH-Traversal-Order-for-Occlusion-Rays"><a href="#RTSAH-Traversal-Order-for-Occlusion-Rays" class="headerlink" title="RTSAH Traversal Order for Occlusion Rays"></a>RTSAH Traversal Order for Occlusion Rays</h1><h2 id="简要说明"><a href="#简要说明" class="headerlink" title="简要说明"></a>简要说明</h2><ul>
<li>在 SAH 的基础上，加上一个可见性函数 V，进行对于 occlusion rays 的判定优化</li>
</ul>
<h2 id="1-Introduction"><a href="#1-Introduction" class="headerlink" title="1. Introduction"></a>1. Introduction</h2><ul>
<li>RTSAH<ul>
<li>ray termination surface area heuristic</li>
</ul>
</li>
<li>能够加速树结构中具体遮挡结点的寻找<ul>
<li>启发式的展开某个子结点，而不是传统的先展开近的子结点</li>
<li>可以扩展到半透明的介质（避免了和半透明物体的再次求交）</li>
</ul>
</li>
<li>2x speedups</li>
<li>Unlike <strong>radiance rays</strong> where we are interested in <strong>the closest hit object</strong>, for <strong>occlusion rays</strong>, we are interested in <strong>whether any hit occurs</strong>.</li>
<li>一些定义<ul>
<li>occlusion rays：只返回可见性，而且不能改变方向</li>
<li>radiance rays：scattering, reflection, refraction, …</li>
</ul>
</li>
<li>对于 occlusion rays 我们只关心是否相交，因此遍历子结点的顺序可以不从近到远</li>
</ul>
<h2 id="2-background"><a href="#2-background" class="headerlink" title="2. background"></a>2. background</h2><h3 id="Surface-area-heuristic"><a href="#Surface-area-heuristic" class="headerlink" title="Surface area heuristic"></a>Surface area heuristic</h3><ul>
<li>表面积启发式算法<ul>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/lookof/p/3546320.html">关于 SAH 的介绍</a></li>
</ul>
</li>
<li>SAH 的基本假设<ul>
<li>所有的光线在整个场景中均匀分布</li>
<li>光线不会被遮挡（击中一个物体后继续传播）</li>
</ul>
</li>
<li>有如下概率公式</li>
</ul>
<p>$$<br>P(\mathrm{child\ hit|parent\ hit})&#x3D;\dfrac{\mathrm{SurfaceArea(child)}}{\mathrm{SurfaceArea(parent)}}<br>$$</p>
<ul>
<li>我们进行如下定义</li>
</ul>
<p>$$<br>P_x&#x3D;P(\mathrm{node\ x\ hit|x’parent\ hit})<br>$$</p>
<ul>
<li>我们假设每一次求交（intersection test）和结点遍历（node traversal step）的代价是一个固定值，$T_{\mathrm{intersection}},T_{\mathrm{step}}$</li>
<li>结点遍历代价如下（递归定义）<ul>
<li>$N_x$ 表示结点 $x$ 中的 object 个数</li>
<li>$l,r$ 表示左子树与右子树</li>
</ul>
</li>
</ul>
<p>$$<br>C_{\mathrm{node}}&#x3D;\left{<br>\begin{array}{<strong>ll</strong>}<br>P_lC_l+P_rC_r+T_{\mathrm{step}} &amp; \mathrm{if\ an\ inner\ node,}\<br>N_{\mathrm{parent}}T_{\mathrm{intersection}}+T_{\mathrm{step}} &amp; \mathrm{if\ a\ leaf.} \<br>\end{array}<br>\right.<br>$$</p>
<ul>
<li>在实际进行估计的时候，计算 $C_{\mathrm{cost}}$ 的时候可以把 $C_l,C_r$ 当作叶子结点处理<ul>
<li>WALD I., HAVRAN V.: On building fast kd-trees for ray tracing, and on doing that in O(N logN). In Symposium on Interactive Ray Tracing (2006), pp. 61–70.</li>
</ul>
</li>
<li>BSP vs BVH<ul>
<li>BSP(binary space partitioning)、BVH(bounding volume hierarchy)</li>
<li>BSP：没有重叠，按照从近到远的顺序找到的第一个交点就是结果</li>
<li>BVH：可能有重叠，找到第一个交点之后可能还需要进一步判断<ul>
<li>判断能否提前停止树上的查找就是一个比较强的优化（SAH 不考虑这个）</li>
<li>SAH 加入这个判断反而可能变慢<ul>
<li>HAVRAN V.: Heuristic Ray Shooting Algorithms. PhD thesis, Faculty of Electrical Engineering, Czech Technical University in Prague, 2001. 2</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="3-RTSAH"><a href="#3-RTSAH" class="headerlink" title="3. RTSAH"></a>3. RTSAH</h2><ul>
<li>我们扩展了 SAH 算法，认为每一个结点都有一个连续的可见性函数 $V$</li>
<li>简单化，我们认为非空的叶子结点（leaf）是完全不透明的（$V&#x3D;0$）,空的叶子结点是完全透明的（$V&#x3D;1$）<ul>
<li>内部节点（interior node）由一些空的和非空的结点组成，$V$ 介于零一之间</li>
<li><a href="#define_v">具体定义在下面</a></li>
</ul>
</li>
<li><strong>在树中只要找到了一个结点相交，那么立即停止遍历</strong><ul>
<li>因此如果遍历的时候进入了其中一个子结点，那么一定不会进入另一个子结点</li>
</ul>
</li>
<li>$P_{lr}$ 表示光线同时穿过左右两个子结点的概率<ul>
<li>$P_{jl}&#x3D;P_l-P_{lr}$：只穿过左子结点，不穿过右子结点的概率</li>
<li>$P_{jr}&#x3D;P_r-P_{lr}$：只穿过左子结点，不穿过右子结点的概率</li>
<li>$P_e&#x3D;1-(P_{jl}+P_{jr}+P_{lr})$：都未击中的概率</li>
</ul>
</li>
<li>步骤（packetized ranged traversal）<ul>
<li>我们先进入左子结点，看看是否存在光线和这个结点相交</li>
<li>如果所有的光线都和这个结点相交，那么就不需要进行和另外一个结点的相交测试（intersection test）</li>
<li>如果只有部分光线或者没有光线和这个结点相交，那么就需要继续对另外一个结点进行相交测试</li>
</ul>
</li>
<li>我们可以得到优先遍历左子结点的代价函数<ul>
<li>$T_{\mathrm{step}}$：left bounding box</li>
<li>$P_lC_l$：遍历左子结点的代价（概率 $\times$ 代价）</li>
<li>$(P_{jr}+P_{lr}V_l+P_e)T_{\mathrm{step}}$：right bounding box<ul>
<li>$P_{jr}$：没有光线和左结点（的包围盒）相交</li>
<li>$P_{lr}V_l$：和左结点（的包围盒）相交，但是没有和左结点中的物体相交</li>
</ul>
</li>
<li>$(P_{jr}+P_{lr}V_l)C_{r}$：遍历右子结点的代价</li>
</ul>
</li>
</ul>
<p>$$<br>leftFirst&#x3D;T_{\mathrm{step}}+P_lC_l+(P_{jr}+P_{lr}V_l)(T_{\mathrm{step}}+C_r)+P_eT_{\mathrm{step}}<br>$$</p>
<ul>
<li>右子结点优先</li>
</ul>
<p>$$<br>rightFirst&#x3D;T_{\mathrm{step}}+P_rC_r+(P_{jl}+P_{lr}V_r)(T_{\mathrm{step}}+C_l)+P_eT_{\mathrm{step}}<br>$$</p>
<ul>
<li>对于 radiance rays，我们希望优先进入距离光线起点比较近的子结点<ul>
<li>我们假定光线是随机的、相互独立的</li>
<li>我们假定每次都优先遍历比较近的子结点，代价如下</li>
</ul>
</li>
</ul>
<p>$$<br>C_{\mathrm{node}}&#x3D;\dfrac{1}{2}(leftFirst+rightFirst)<br>$$</p>
<ul>
<li>对于 occlusion rays，我们希望优先进入的结点导致的结果是代价较小的（代价与光线无关）</li>
</ul>
<p>$$<br>C_{\mathrm{node}}&#x3D;\min(leftFirst+rightFirst)<br>$$</p>
<ul>
<li>叶子节点的代价和上面相同</li>
</ul>
<p>$$<br>C_{\mathrm{leaf\ node}}&#x3D;N_{\mathrm{parent}}T_{\mathrm{intersection}}+T_{\mathrm{step}}<br>$$</p>
<ul>
<li><span id="define_v">可见性函数 $V$ 的定义如下</span></li>
</ul>
<p>$$<br>V_{\mathrm{node}}&#x3D;\left{<br>\begin{array}{<strong>ll</strong>}<br>P_{jl}V_l+P_{jr}V_r+P_{lr}V_lV_r+P_e &amp; \mathrm{if\ an\ inner\ node,}\<br>0 &amp; \mathrm{if\ a\ nonempty\ leaf,} \<br>1 &amp; \mathrm{if\ a\ empty\ leaf.} \<br>\end{array}<br>\right.<br>$$</p>
<ul>
<li>$\dfrac{P_{lr}}{P_{l}}$ 可以看成是从左子结点离开到右子结点的一个 rays（energy）的一个辐射因子<ul>
<li>我么可以通过 SAH 的方式计算 $P_l,P_r$，因此只需要找到上面说的辐射因子，便能够计算出 $P_{lr}$</li>
<li>接着也能够计算出其他剩余的量：$P_{jl}&#x3D;P_l-P_{lr}$ 等</li>
</ul>
</li>
<li>如何计算辐射因子？<ul>
<li>论文：Practical applications of form factor computation in lighting calculations</li>
<li>方法如下<ul>
<li>decompose the node bounding boxes into their rectangular faces and then analytically compute the form factors between all valid face pairs and for the overlapped region (see [Cho02] for a good survey of the relevant equations).</li>
<li><span style="color:red;font-weight:bold">TODO</span></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="BSP"><a href="#BSP" class="headerlink" title="BSP"></a>BSP</h3><ul>
<li>对于 BSP 结构，代价函数是类似的</li>
<li>$P_e&#x3D;0$，恰好把整个父节点的空间划分给了子结点</li>
<li>$P_{lr}\ne0$，可能出现光线斜穿的情况</li>
<li>BSP 不需要上面的辐射因子就能够计算 $P_{lr}$：$P_{lr}&#x3D;P_l+P_r-1$</li>
<li>occlusion rays<ul>
<li>$P_e&#x3D;0$</li>
<li>我们不需要进行对另外一个子结点的包围盒求交测试（不和第一个相交，一定和第二个相交）</li>
</ul>
</li>
</ul>
<p>$$<br>\begin{aligned}<br>leftFirst<br>&amp;&#x3D;T_{\mathrm{step}}+P_lC_l+(P_{jr}+P_{lr}V_l)C_{r}\<br>&amp;&#x3D;T_{\mathrm{step}}+(P_{jl}C_l+P_{lr}C_l)+(P_{jr}C_r+P_{lr}V_lC_r)\<br>&amp;&#x3D;T_{\mathrm{step}}+P_{jl}C_l+P_{jr}C_r+P_{lr}(C_l+V_lC_r)\<br>\end{aligned}<br>$$</p>
<p>$$<br>C_{\mathrm{cost}}&#x3D;T_{\mathrm{step}}+P_{jl}C_l+P_{jr}C_r+P_{lr}\min\left{C_l+V_lC_r,C_r+V_rC_l\right}<br>$$</p>
<h3 id="Approximate-BVH-RTSAH"><a href="#Approximate-BVH-RTSAH" class="headerlink" title="Approximate BVH RTSAH"></a>Approximate BVH RTSAH</h3><ul>
<li>The BVH preprocess cost can be lowered at the expense of rendering performance by approximating the probabilities instead of finding them by sampling.<ul>
<li>感觉是在说辐射因子的估计</li>
</ul>
</li>
<li>在实时渲染中，我们可以假设 $P_e&#x3D;0$，可以起到一个加速的效果</li>
</ul>
<h2 id="4-Choosing-Traversal-Order-of-Occlusion-Rays"><a href="#4-Choosing-Traversal-Order-of-Occlusion-Rays" class="headerlink" title="4. Choosing Traversal Order of Occlusion Rays"></a>4. Choosing Traversal Order of Occlusion Rays</h2><ul>
<li>按照上面说的方式比较即可，对于 BSP 树，可以优化（上面提到了）</li>
</ul>
<h3 id="Storage-overhead"><a href="#Storage-overhead" class="headerlink" title="Storage overhead"></a>Storage overhead</h3><ul>
<li>我们只需要知道优先遍历那一个结点即可，而不在意具体的代价值的大小，因此只需要使用一个布尔变量记录即可（可以压缩到其他变量的某一个 bit 中）</li>
</ul>
<h3 id="Attenuated-occlusion-rays"><a href="#Attenuated-occlusion-rays" class="headerlink" title="Attenuated occlusion rays"></a>Attenuated occlusion rays</h3><ul>
<li>半透明材质只是会使得光线有所衰减，而不会让它停止</li>
<li>我们在判断 occlusion rays 的时候，只需要将上面的定义的函数 $V$ 修改一下<ul>
<li>如果叶子结点包含的所有物体都是透明材质的，我们让它的 $V&#x3D;1$</li>
</ul>
</li>
<li>对于<strong>只报告可见性</strong>的 occlusion rays，不按照从前往后的顺序去遍历，不会导致半透明物体的不正确渲染</li>
<li>一个标准的从前向后处理半透明物体的 ray tracer，在加速结构中就应该处理好了半透明物体<ul>
<li>击中半透明物体之后，应该投射出一条新的光线，继续和加速结构求交</li>
<li>这样我们就不需要对其进行特殊处理</li>
</ul>
</li>
<li>如果加速结构中没有实现，那么即使是从前向后遍历也可能会出现乱序的问题<ul>
<li>一个结点内部的物体是没有顺序的，一个物体可能跨越多个结点</li>
<li>一个简单的解决方案可以是，记录所有的交点，直到找到新的交点之后再进行着色处理</li>
</ul>
</li>
</ul>
<h2 id="8-conclusion"><a href="#8-conclusion" class="headerlink" title="8. conclusion"></a>8. conclusion</h2><ul>
<li>We presented <strong>an improved version of the SAH</strong>, which we call the RTSAH, that takes into account <strong>ray termination</strong> and gives the <strong>expected traversal cost of radiance and occlusion rays through a tree</strong>. We then showed how the RTSAH can be used to guide the traversal of occlusion rays through a tree so that an intersection can be more efficiently located. The RTSAH traversal can try to avoid attenuating materials for a further improvement in traversal efficiency. The RTSAH can be computed faster than the tree can be built and there is practically no storage or rendering overhead for using it. For scenes that comprise mostly of occluded rays, the RTSAH traversal can give a substantial performance increase.</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/09/13/CG/Papers/2011/rtsah/" data-id="cl9lj74bu00m364tz6j5c25g2" data-title="(论文)[2011] RTSAH Traversal Order for Occlusion Rays" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CG/" rel="tag">CG</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Paper/" rel="tag">Paper</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SAH/" rel="tag">SAH</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/occlusion/" rel="tag">occlusion</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8F%AF%E8%A7%81%E6%80%A7/" rel="tag">可见性</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-CG/LLG-GAMES102/03" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/08/16/CG/LLG-GAMES102/03/" class="article-date">
  <time class="dt-published" datetime="2021-08-16T07:01:00.000Z" itemprop="datePublished">2021-08-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/CG-GAMES102/">CG.GAMES102</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/08/16/CG/LLG-GAMES102/03/">GAMES102.刘利刚.03.三次样条函数</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <ul>
<li><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1NA411E7Yr">https://www.bilibili.com/video/BV1NA411E7Yr</a></li>
</ul>
<h1 id="三次样条函数"><a href="#三次样条函数" class="headerlink" title="三次样条函数"></a>三次样条函数</h1><h2 id="几何设计"><a href="#几何设计" class="headerlink" title="几何设计"></a>几何设计</h2><ul>
<li>发动机的曲面设计，很巧妙<ul>
<li>高速旋转</li>
<li>减小阻力、出风量大</li>
</ul>
</li>
<li>几何设计<ul>
<li>传统的概念更多指的是 “外形设计”</li>
</ul>
</li>
<li>概念设计<ul>
<li>先由艺术家绘制草图，然后根据草图计算数学表达</li>
</ul>
</li>
</ul>
<img src="03/image-20210816152659298.png" style="zoom:80%;" />

<ul>
<li>设计图纸<ul>
<li>双视图 &#x2F; 三视图</li>
</ul>
</li>
</ul>
<img src="03/image-20210816152820010.png" style="zoom:80%;" />

<ul>
<li>计算机出现以后<ul>
<li>三维设计：三维 CAD</li>
</ul>
</li>
<li>从设计到数学（几何）表达</li>
</ul>
<h2 id="计算机出现之前的设计过程"><a href="#计算机出现之前的设计过程" class="headerlink" title="计算机出现之前的设计过程"></a>计算机出现之前的设计过程</h2><ul>
<li>把设计图画出来</li>
</ul>
<img src="03/image-20210816153115701.png" style="zoom: 40%;" />

<img src="03/image-20210816153127113.png" style="zoom:40%;" />

<ul>
<li>放样方法<ul>
<li>沿着艺术家画出来的曲线描点（关键点），</li>
</ul>
</li>
</ul>
<p><img src="/03/image-20210816153412573.png"></p>
<img src="03/image-20210816153433900.png" style="zoom:40%;" />

<ul>
<li>样条与压铁<ul>
<li>样条：具有一定弹性的软木条（可以弯折）</li>
<li>压铁：较重的铁块，用来固定样条所经过的点</li>
</ul>
</li>
</ul>
<p><img src="/03/image-20210816153908522.png"></p>
<ul>
<li>样条所形成的曲线的数学表达<ul>
<li>通过描出来的关键点，拟合出曲线</li>
</ul>
</li>
</ul>
<h2 id="自由曲线"><a href="#自由曲线" class="headerlink" title="自由曲线"></a>自由曲线</h2><ul>
<li><p>在产品初始设计阶段，描述其外形的曲线或曲面常常只有大致形状或只知道它通过一些空间点列（称为型值点），这类没有数学表达式的曲线或曲面称为<strong>自由曲线</strong>或<strong>自由曲面</strong>（Free formcurve&#x2F;surface）</p>
</li>
<li><p>造型方法</p>
<ul>
<li>拟合(fitting)</li>
<li>插值(interpolation)</li>
<li>逼近(approximation)</li>
</ul>
</li>
<li><p>自由曲线造型的特点</p>
<ul>
<li>参数形式的向量函数</li>
<li><strong>分段多项式</strong>表示</li>
<li>满足一定的连续阶</li>
<li>光顺（光滑、顺眼）</li>
</ul>
</li>
</ul>
<h2 id="三次样条函数-1"><a href="#三次样条函数-1" class="headerlink" title="三次样条函数"></a>三次样条函数</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/08/16/CG/LLG-GAMES102/03/" data-id="cl9lj748x003164tz9s992w9j" data-title="GAMES102.刘利刚.03.三次样条函数" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CG/" rel="tag">CG</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/LLG/" rel="tag">LLG</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-CG/LLG-GAMES102/02" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/08/15/CG/LLG-GAMES102/02/" class="article-date">
  <time class="dt-published" datetime="2021-08-15T14:06:20.000Z" itemprop="datePublished">2021-08-15</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/CG-GAMES102/">CG.GAMES102</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/08/15/CG/LLG-GAMES102/02/">GAMES102.刘利刚.02.参数曲线拟合</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <ul>
<li><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1NA411E7Yr">https://www.bilibili.com/video/BV1NA411E7Yr</a></li>
</ul>
<h1 id="参数曲线拟合"><a href="#参数曲线拟合" class="headerlink" title="参数曲线拟合"></a>参数曲线拟合</h1><h2 id="一元函数"><a href="#一元函数" class="headerlink" title="一元函数"></a>一元函数</h2><ul>
<li>$y&#x3D;f(x)$<ul>
<li>$f:R^1\to R^1$</li>
</ul>
</li>
<li>数据拟合的方法<ul>
<li>三步曲：到哪找、 找哪个、怎么找</li>
</ul>
</li>
<li>到哪找<ul>
<li>确定某个函数集合（“池子”），具有某种结构容易表达（比如线性函数空间），且尽量广泛（<strong>表达能力强</strong>）</li>
</ul>
</li>
<li>找哪个<ul>
<li>度量哪个函数是好的&#x2F; “最好” 的，定义<strong>损失函数</strong>，包括<strong>数据误差项</strong>（逼近数据的度量）与<strong>正则项</strong>（对函数性质的度量）</li>
</ul>
</li>
<li>怎么找<ul>
<li><strong>优化求解</strong>：不同的优化方法与技巧<ul>
<li>线性问题：解线性方程或线性方程组</li>
<li>非线性问题：<ul>
<li>凸问题：有理论保证</li>
<li>非凸问题：难！数值求解（ 梯度下降法、牛顿法、拟牛顿法、L‐BFGS, ···），须选择合适初值、步长等；一般要根据具体的优化问题形式及特点来设计合适的优化方法！<ul>
<li>很难找到全局的最值</li>
<li>蚁群算法、遗传算法、模拟退火算法、···</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="多元函数"><a href="#多元函数" class="headerlink" title="多元函数"></a>多元函数</h2><ul>
<li><p>多个变量的函数</p>
</li>
<li><p>$y&#x3D;f(x_1,x_2,\cdots,x_n)$</p>
<ul>
<li>$f:R^n\to R^1$</li>
</ul>
</li>
</ul>
<p>$$<br>\begin{pmatrix}<br>x_1\<br>\cdots\<br>x_n\<br>\end{pmatrix}<br>\to y<br>$$</p>
<ul>
<li>一个二元函数的例子<ul>
<li>$z&#x3D;f(x,y),(x,y)\in[0,1]\times[0,1]$</li>
<li>升维可视化：$\Big(x,y,f(z,y)\Big)$</li>
</ul>
</li>
</ul>
<img src="02/image-20210815222015691.png" style="zoom:67%;" />

<ul>
<li>三元函数可视化则变得困难<ul>
<li>升维则是四维</li>
</ul>
</li>
<li>高维函数不容易直观看到结果</li>
</ul>
<h2 id="二元-x2F-多元函数的基函数构造"><a href="#二元-x2F-多元函数的基函数构造" class="headerlink" title="二元&#x2F;多元函数的基函数构造"></a>二元&#x2F;多元函数的基函数构造</h2><h3 id="张量积"><a href="#张量积" class="headerlink" title="张量积"></a>张量积</h3><ul>
<li><strong>张量积形式</strong><ul>
<li>即用两个一元函数的<strong>基函数</strong>的相互乘积来定义</li>
</ul>
</li>
<li>例如：<strong>二次二元多项式函数</strong> $z&#x3D;f(x,y)$ 的基函数 ${1,x,y,x^2,xy,y^2}$</li>
</ul>
<img src="02/image-20210815222438224.png" style="zoom:67%;" />

<ul>
<li>拟合的方法和之前相似，就是拟合上面各个项的系数</li>
<li><strong>也可以使用其他的基函数，不一定是多项式基函数</strong></li>
<li>三次二元多项式函数<ul>
<li>取次数不超过 $3$ 的，和上面一样画三角形</li>
</ul>
</li>
</ul>
<img src="02/image-20210815222710829.png" style="zoom:67%;" />

<ul>
<li>两个方向的基函数也可以不同<ul>
<li>但是这样处理起来比较麻烦</li>
<li>使用相同的基函数称为<strong>共享基函数</strong>，方便计算处理</li>
</ul>
</li>
</ul>
<h4 id="张量积评价"><a href="#张量积评价" class="headerlink" title="张量积评价"></a>张量积评价</h4><ul>
<li>优点<ul>
<li>定义简单，多个一元基函数的乘积形式</li>
</ul>
</li>
<li>不足<ul>
<li>随着维数增加，基函数个数急剧增加，导致变量急剧增加</li>
<li>（求解系统规模急剧增加，求解代价大）</li>
<li>$O(\dfrac{n^2}{2})$</li>
</ul>
</li>
</ul>
<h3 id="多元函数的神经网络表达"><a href="#多元函数的神经网络表达" class="headerlink" title="多元函数的神经网络表达"></a>多元函数的神经网络表达</h3><img src="02/image-20210815224035636.png" style="zoom:67%;" />

<ul>
<li>用一个单变量函数 $\sigma(x)$ （称为激活函数）的不同仿射变换来构造 “基函数”：<strong>基函数数目可控</strong></li>
<li>维数由中间结点数目的个数决定<ul>
<li>梯度下降 + 链式法则</li>
<li>反向传播算法</li>
</ul>
</li>
<li>存在的问题<ul>
<li>中间结点个数选择：过拟合 &#x2F; 欠拟合</li>
</ul>
</li>
<li>多层网络结构<ul>
<li>多隐层</li>
</ul>
</li>
<li>把 n 维空间的一个点转化到 m 维空间的一个点（还可以进行变换），这样可能可以让这些点的分布散开</li>
<li>神经网络的本质就是进行函数拟合</li>
<li>卷积、池化<ul>
<li>一些特殊的操作</li>
<li>共用参数、降维</li>
</ul>
</li>
</ul>
<h2 id="向量值函数"><a href="#向量值函数" class="headerlink" title="向量值函数"></a>向量值函数</h2><ul>
<li>多个应变量</li>
</ul>
<h3 id="单变量"><a href="#单变量" class="headerlink" title="单变量"></a>单变量</h3><ul>
<li>$f:R^1\to R^m$</li>
</ul>
<p>$$<br>x\to<br>\begin{pmatrix}<br>y_1\<br>\cdots\<br>y_m\<br>\end{pmatrix}<br>$$</p>
<ul>
<li>看成<strong>多个单变量函数</strong>，<strong>各个函数独立无关</strong><ul>
<li>在某些情况下，可能要求函数之间有一些相关性</li>
<li>一般会用同样的基函数（<strong>共享基函数</strong>）<ul>
<li>结构一样，但是系数是不一样的</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>$$<br>\left{<br>\begin{array}{<strong>lr</strong>}<br>y_1&#x3D;f_1(x)\<br>\cdots\<br>y_m&#x3D;f_m(x)\<br>\end{array}<br>\right.<br>$$</p>
<ul>
<li>几何解释<ul>
<li>一个实数 $x\in R^1$ 映射到 m 维空间 $R^m$ 的一个点，轨迹构成 $R^m$ 的一条 “曲线”</li>
<li>本质维度（本征维度）为 1<ul>
<li>嵌入空间是 $m$ 维的</li>
<li>曲线的本质维度为 1</li>
</ul>
</li>
</ul>
</li>
</ul>
<img src="02/image-20210815231453148.png" style="zoom:67%;" />



<h3 id="特例：平面参数曲线"><a href="#特例：平面参数曲线" class="headerlink" title="特例：平面参数曲线"></a>特例：平面参数曲线</h3><ul>
<li>$f:R^1\to R^2$</li>
</ul>
<p>$$<br>\left{<br>\begin{array}{<strong>lr</strong>}<br>x&#x3D;x(t)\<br>y&#x3D;y(t)\<br>\end{array}<br>\right.<br>t\in[0,1]<br>$$</p>
<ul>
<li>几何解释：<ul>
<li>一条曲线由一个变量参数 $t$ 决定，也称为<strong>单参数曲线</strong></li>
<li>参数 $t$ 可看成该曲线的 “时间” 变量</li>
<li>可灵活表达<strong>非函数型</strong>的曲线（<strong>任意曲线</strong>）</li>
</ul>
</li>
</ul>
<img src="02/image-20210816090642687.png" style="zoom:67%;" />



<h3 id="特例：空间参数曲线"><a href="#特例：空间参数曲线" class="headerlink" title="特例：空间参数曲线"></a>特例：空间参数曲线</h3><ul>
<li>$f:R^1\to R^3$</li>
</ul>
<p>$$<br>\left{<br>\begin{array}{<strong>lr</strong>}<br>x&#x3D;x(t)\<br>y&#x3D;y(t)\<br>z&#x3D;z(t)\<br>\end{array}<br>\right.<br>t\in[0,1]<br>$$</p>
<img src="02/image-20210815232021522.png" style="zoom:67%;" />



<h3 id="特例：参数曲面"><a href="#特例：参数曲面" class="headerlink" title="特例：参数曲面"></a>特例：参数曲面</h3><ul>
<li>$f:R^2\to R^3$</li>
</ul>
<p>$$<br>\left{<br>\begin{array}{<strong>lr</strong>}<br>x&#x3D;x(u,v)\<br>y&#x3D;y(u,v)\<br>z&#x3D;z(u,v)\<br>\end{array}<br>\right.<br>(u,v)\in[0,1]\times[0,1]<br>$$</p>
<ul>
<li>几何解释<ul>
<li>一张曲面由两个参数 u，v 决定，也称为<strong>双参数曲面</strong></li>
<li>可灵活表达<strong>非函数型的任意曲面</strong></li>
</ul>
</li>
</ul>
<img src="02/image-20210816091105602.png" style="zoom:67%;" />

<ul>
<li><strong>流形</strong><ul>
<li>只是位于三维空间中的一层，称为<strong>流形</strong></li>
<li>虽然处在三维空间中，本质上是二维的</li>
</ul>
</li>
<li>流形：任何一个点，其周围无穷小的区域等价于平面的一个圆盘</li>
</ul>
<h3 id="特例：二维映射"><a href="#特例：二维映射" class="headerlink" title="特例：二维映射"></a>特例：二维映射</h3><ul>
<li>$f:R^2\to R^2$</li>
</ul>
<p>$$<br>\left{<br>\begin{array}{<strong>lr</strong>}<br>x&#x3D;x(u,v)\<br>y&#x3D;y(u,v)\<br>\end{array}<br>\right.<br>(u,v)\in[0,1]\times[0,1]<br>$$</p>
<ul>
<li>几何解释<ul>
<li>二维区域之间的映射</li>
<li>可看成特殊的曲面（第三个维度始终为0）</li>
<li>应用：图像变形</li>
</ul>
</li>
</ul>
<img src="02/image-20210816092739345.png" style="zoom:67%;" />



<h3 id="特例：三维映射"><a href="#特例：三维映射" class="headerlink" title="特例：三维映射"></a>特例：三维映射</h3><ul>
<li>$f:R^3\to R^3$</li>
</ul>
<p>$$<br>\left{<br>\begin{array}{<strong>lr</strong>}<br>x&#x3D;x(u,v,w)\<br>y&#x3D;y(u,v,w)\<br>z&#x3D;z(u,v,w)\<br>\end{array}<br>\right.<br>(u,v,w)\in[0,1]^3<br>$$</p>
<ul>
<li>几何解释：<ul>
<li>三维体区域之间的映射</li>
<li>应用：<strong>体形变</strong>、<strong>体参数化</strong></li>
</ul>
</li>
</ul>
<img src="02/image-20210816092929659.png" style="zoom:67%;" />

<ul>
<li>有限元方法</li>
</ul>
<h3 id="特例：降维映射（低维投影）"><a href="#特例：降维映射（低维投影）" class="headerlink" title="特例：降维映射（低维投影）"></a>特例：降维映射（低维投影）</h3><ul>
<li>降维映射一般有信息丢失<ul>
<li>丢失的信息大部分情况下不可逆，即无法恢复</li>
</ul>
</li>
</ul>
<img src="02/image-20210816093431605.png" style="zoom:67%;" />

<ul>
<li>AE：AutoEncoder 自编码器<ul>
<li>先映射到低维度，再映射到高维度</li>
<li>要求<strong>中间层的最低维度</strong>不能低于<strong>原始的本征维度</strong>，否则无法复原</li>
</ul>
</li>
</ul>
<img src="02/image-20210816094656909.png" style="zoom:67%;" />



<h3 id="一般映射"><a href="#一般映射" class="headerlink" title="一般映射"></a>一般映射</h3><ul>
<li>$f:R^m\to R^n$</li>
<li>如果 $n&lt;m$ ，为低维到高维的映射（高维的超曲面，n 维流形曲面），<strong>本征维度为 $n$</strong></li>
<li>如果 $n&gt;m$，为降维映射<ul>
<li>一般信息有损失</li>
<li>如果 $R^n$ 中的点集刚好位于一个 m 维（或小于 m）的流形上，则映射可能是无损的，即可以被恢复的</li>
</ul>
</li>
</ul>
<h4 id="低维空间之间的函数"><a href="#低维空间之间的函数" class="headerlink" title="低维空间之间的函数"></a>低维空间之间的函数</h4><ul>
<li>课程主要集中讨论橙色部分</li>
</ul>
<img src="02/image-20210816101907497.png" style="zoom: 33%;" />



<h2 id="曲线拟合"><a href="#曲线拟合" class="headerlink" title="曲线拟合"></a>曲线拟合</h2><h3 id="曲线拟合问题"><a href="#曲线拟合问题" class="headerlink" title="曲线拟合问题"></a>曲线拟合问题</h3><ul>
<li>非函数型</li>
<li>输入：给定平面上系列点  $(x_i,y_i),i&#x3D;1,2,\cdots,n$</li>
<li>输出：一条参数曲线，拟合这些点<ul>
<li>$f:R^1\to R^2$</li>
</ul>
</li>
</ul>
<p>$$<br>\left{<br>\begin{array}{<strong>lr</strong>}<br>x&#x3D;x(t)\<br>y&#x3D;y(t)\<br>\end{array}<br>\right.<br>t\in[0,1]<br>$$</p>
<ul>
<li>如果使用之前单变量的拟合方法，看成两个函数，用 $x_i$ 去拟合 $x(t)$，需要找到点对 $(t_i,x_i)$<ul>
<li>然而并没有这些点对，不能简单的这么做</li>
<li>现在相当于需要找每一个点对应的 $t_i$<ul>
<li><strong>参数化</strong></li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="转换"><a href="#转换" class="headerlink" title="转换"></a>转换</h4><ul>
<li>问题：对数据点 $(x_i,y_i)$，对应哪个参数 $t_i$？</li>
<li>矢量符号化表达</li>
</ul>
<p>$$<br>\mathbf{p}&#x3D;\mathbf{p}(t)&#x3D;<br>\begin{pmatrix}<br>x(t)\<br>y(t)\<br>\end{pmatrix}<br>$$</p>
<ul>
<li>误差度量</li>
</ul>
<p>$$<br>E&#x3D;\sum_{i&#x3D;1}^{n}<br>\left\Vert<br>\begin{pmatrix}<br>x(t)\<br>y(t)\<br>\end{pmatrix}<br>-<br>\begin{pmatrix}<br>x_i\<br>y_i\<br>\end{pmatrix}<br>\right\Vert^2<br>&#x3D;<br>\sum_{i&#x3D;1}^{n}<br>\left\Vert<br>\mathbf{p}(t)-\mathbf{p_i}<br>\right\Vert^2<br>$$</p>
<h3 id="参数化问题"><a href="#参数化问题" class="headerlink" title="参数化问题"></a>参数化问题</h3><ul>
<li>求数据点所对应的参数：一个降维的问题</li>
</ul>
<img src="02/image-20210816142815840.png" style="zoom:67%;" />

<ul>
<li>使用一组基函数（共享基函数）</li>
</ul>
<p>$$<br>\left{<br>\begin{array}{<strong>lr</strong>}<br>x&#x3D;x(t)&#x3D;\sum(a_iB_i(t))\<br>y&#x3D;y(t)&#x3D;\sum(b_iB_i(t))\<br>\end{array}<br>\right.<br>t\in[0,1]<br>$$</p>
<ul>
<li>然后极小化误差度量：$E$</li>
</ul>
<p>$$<br>E&#x3D;\sum_{i&#x3D;1}^{n}\left\Vert\mathbf{p}(t)-\mathbf{p_i}\right\Vert^2<br>$$</p>
<h3 id="点列的参数化"><a href="#点列的参数化" class="headerlink" title="点列的参数化"></a>点列的参数化</h3><ul>
<li>Equidistant (uniform) parameterization<ul>
<li>$t_{i+1}-t_{i}$ 为常数 const<ul>
<li>起始点为 0，终止点为 1</li>
<li>中间的点均匀划分，例如 n 个点，$t_i&#x3D;\dfrac{i}{n}$</li>
</ul>
</li>
<li>Geometry of the data points is not considered（没有考虑数据的信息）</li>
</ul>
</li>
<li>Chordal parameterization<ul>
<li>$t_{i+1}-t_{i}&#x3D;\Vert\mathbf{k}_{i+1}-\mathbf{k}_i\Vert$<ul>
<li>按照弦长去分配</li>
<li>可以归一化到 $[0,1]$ 之间</li>
</ul>
</li>
<li>Parameter intervals proportional to the distances of neighbored control points<ul>
<li>区间和弦长成正比</li>
</ul>
</li>
</ul>
</li>
<li>Centripetal parameterization<ul>
<li>$t_{i+1}-t_{i}&#x3D;\sqrt{\Vert\mathbf{k}_{i+1}-\mathbf{k}_i\Vert}$</li>
</ul>
</li>
<li>Foley parameterization<ul>
<li>Involvement of angles in the control polygon（考虑边之间的夹角）</li>
</ul>
</li>
</ul>
<img src="02/image-20210816144057450.png" style="zoom:67%;" />



<h3 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h3><img src="02/image-20210816144444605.png" style="zoom:67%;" />

<ul>
<li>点的参数化对曲线拟合的影响很大，需要好的参数化</li>
</ul>
<h2 id="曲面的参数化"><a href="#曲面的参数化" class="headerlink" title="曲面的参数化"></a>曲面的参数化</h2><ul>
<li>三维的点找二维的参数：一个降维的问题</li>
</ul>
<img src="02/image-20210816144905788.png" style="zoom:67%;" />

<ul>
<li>好的参数化：保持邻域内的几何结构</li>
</ul>
<h3 id="应用"><a href="#应用" class="headerlink" title="应用"></a>应用</h3><ul>
<li>地图绘制（地理学）</li>
</ul>
<img src="02/image-20210816145003788.png" style="zoom:67%;" />

<ul>
<li>纹理映射<ul>
<li>uv 图</li>
</ul>
</li>
</ul>
<img src="02/image-20210816145325370.png" style="zoom:67%;" />
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/08/15/CG/LLG-GAMES102/02/" data-id="cl9lj748y003664tzht4j3cd6" data-title="GAMES102.刘利刚.02.参数曲线拟合" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CG/" rel="tag">CG</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/LLG/" rel="tag">LLG</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/10/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><a class="page-number" href="/page/10/">10</a><span class="page-number current">11</span><a class="page-number" href="/page/12/">12</a><a class="page-number" href="/page/13/">13</a><span class="space">&hellip;</span><a class="page-number" href="/page/26/">26</a><a class="extend next" rel="next" href="/page/12/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/0/">0</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Algebra/">Algebra</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/C-Kits/">C++.Kits</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CG/">CG</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CG-Algorithm/">CG.Algorithm</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CG-GAMES101/">CG.GAMES101</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CG-GAMES102/">CG.GAMES102</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CG-GAMES103/">CG.GAMES103</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CG-GAMES104/">CG.GAMES104</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CG-GAMES202/">CG.GAMES202</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CG-GAMES203/">CG.GAMES203</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CG-Kits/">CG.Kits</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CG-LS/">CG.LS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CG-PBRT/">CG.PBRT</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CG-Paper/">CG.Paper</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CV/">CV</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Code/">Code</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/DB-CLJ/">DB.CLJ</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/DB-MySQL/">DB.MySQL</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/DB-SQLServer/">DB.SQLServer</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/DSA/">DSA</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kits/">Kits</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Math/">Math</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/OS-CXQ/">OS.CXQ</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/OS-OSTEP/">OS.OSTEP</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/OS-xv6-labs/">OS.xv6-labs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/OS-xv6-source-code/">OS.xv6-source-code</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/TODO/">TODO</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/book-directory/">book.directory</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/computation-pyr/">computation.pyr</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/csharp-kits/">csharp.kits</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/csharp-tds/">csharp.tds</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/images/">images</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/installation/">installation</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/mitsuba/">mitsuba</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/nothing/">nothing</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/software-Maya/">software.Maya</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/software-ps/">software.ps</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/software-vscode/">software.vscode</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/win/">win</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Algebra/" rel="tag">Algebra</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BFS/" rel="tag">BFS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BST/" rel="tag">BST</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BVH/" rel="tag">BVH</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/" rel="tag">C++</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CG/" rel="tag">CG</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CG-Algorithm/" rel="tag">CG-Algorithm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CV/" rel="tag">CV</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Code/" rel="tag">Code</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DB/" rel="tag">DB</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DFS/" rel="tag">DFS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DP/" rel="tag">DP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DSA/" rel="tag">DSA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Dijkstra/" rel="tag">Dijkstra</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/EG/" rel="tag">EG</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Floyd/" rel="tag">Floyd</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GI/" rel="tag">GI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Glints/" rel="tag">Glints</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HDR/" rel="tag">HDR</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HQX/" rel="tag">HQX</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Heap/" rel="tag">Heap</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kits/" rel="tag">Kits</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LCA/" rel="tag">LCA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LLG/" rel="tag">LLG</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MCMC/" rel="tag">MCMC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MIS/" rel="tag">MIS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MLT/" rel="tag">MLT</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Maya/" rel="tag">Maya</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NEE/" rel="tag">NEE</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OS/" rel="tag">OS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PBRT/" rel="tag">PBRT</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Paper/" rel="tag">Paper</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Radiometry/" rel="tag">Radiometry</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RayTracing/" rel="tag">RayTracing</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SAH/" rel="tag">SAH</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SDF/" rel="tag">SDF</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SGJ/" rel="tag">SGJ</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SQL/" rel="tag">SQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SQLServer/" rel="tag">SQLServer</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/STL/" rel="tag">STL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Shadow/" rel="tag">Shadow</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WHM/" rel="tag">WHM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WX/" rel="tag">WX</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/YLQ/" rel="tag">YLQ</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/book/" rel="tag">book</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/computation/" rel="tag">computation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/csharp/" rel="tag">csharp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/images/" rel="tag">images</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/installation/" rel="tag">installation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/" rel="tag">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/" rel="tag">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/math/" rel="tag">math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mitsuba/" rel="tag">mitsuba</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mobaxterm/" rel="tag">mobaxterm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nothing/" rel="tag">nothing</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/obs/" rel="tag">obs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/occlusion/" rel="tag">occlusion</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ps/" rel="tag">ps</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/software/" rel="tag">software</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/test/" rel="tag">test</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tree/" rel="tag">tree</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vscode/" rel="tag">vscode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/win/" rel="tag">win</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/xv6/" rel="tag">xv6</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%8C%E5%88%86/" rel="tag">二分</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%85%83%E5%AE%87%E5%AE%99/" rel="tag">元宇宙</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%87%A0%E4%BD%95/" rel="tag">几何</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8F%AF%E8%A7%81%E6%80%A7/" rel="tag">可见性</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B9%B6%E6%9F%A5%E9%9B%86/" rel="tag">并查集</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8B%93%E6%89%91%E6%8E%92%E5%BA%8F/" rel="tag">拓扑排序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8E%92%E5%BA%8F/" rel="tag">排序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%99%AE%E5%90%95%E5%85%8B%E5%9D%90%E6%A0%87/" rel="tag">普吕克坐标</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/" rel="tag">最小生成树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9C%80%E7%9F%AD%E8%B7%AF/" rel="tag">最短路</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BA%BF%E6%AE%B5%E6%A0%91/" rel="tag">线段树</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Algebra/" style="font-size: 10px;">Algebra</a> <a href="/tags/BFS/" style="font-size: 10px;">BFS</a> <a href="/tags/BST/" style="font-size: 10px;">BST</a> <a href="/tags/BVH/" style="font-size: 12.5px;">BVH</a> <a href="/tags/C/" style="font-size: 10px;">C++</a> <a href="/tags/CG/" style="font-size: 20px;">CG</a> <a href="/tags/CG-Algorithm/" style="font-size: 10px;">CG-Algorithm</a> <a href="/tags/CV/" style="font-size: 10.63px;">CV</a> <a href="/tags/Code/" style="font-size: 14.38px;">Code</a> <a href="/tags/DB/" style="font-size: 19.38px;">DB</a> <a href="/tags/DFS/" style="font-size: 12.5px;">DFS</a> <a href="/tags/DP/" style="font-size: 13.13px;">DP</a> <a href="/tags/DSA/" style="font-size: 11.25px;">DSA</a> <a href="/tags/Dijkstra/" style="font-size: 10px;">Dijkstra</a> <a href="/tags/EG/" style="font-size: 12.5px;">EG</a> <a href="/tags/Floyd/" style="font-size: 10.63px;">Floyd</a> <a href="/tags/GI/" style="font-size: 11.25px;">GI</a> <a href="/tags/Glints/" style="font-size: 10px;">Glints</a> <a href="/tags/HDR/" style="font-size: 10px;">HDR</a> <a href="/tags/HQX/" style="font-size: 10px;">HQX</a> <a href="/tags/Heap/" style="font-size: 10px;">Heap</a> <a href="/tags/Kits/" style="font-size: 13.75px;">Kits</a> <a href="/tags/LCA/" style="font-size: 10px;">LCA</a> <a href="/tags/LLG/" style="font-size: 12.5px;">LLG</a> <a href="/tags/MCMC/" style="font-size: 10.63px;">MCMC</a> <a href="/tags/MIS/" style="font-size: 10px;">MIS</a> <a href="/tags/MLT/" style="font-size: 10px;">MLT</a> <a href="/tags/Maya/" style="font-size: 10px;">Maya</a> <a href="/tags/MySQL/" style="font-size: 11.88px;">MySQL</a> <a href="/tags/NEE/" style="font-size: 10px;">NEE</a> <a href="/tags/OS/" style="font-size: 17.5px;">OS</a> <a href="/tags/PBRT/" style="font-size: 10px;">PBRT</a> <a href="/tags/Paper/" style="font-size: 15.63px;">Paper</a> <a href="/tags/Radiometry/" style="font-size: 10px;">Radiometry</a> <a href="/tags/RayTracing/" style="font-size: 10px;">RayTracing</a> <a href="/tags/SAH/" style="font-size: 10px;">SAH</a> <a href="/tags/SDF/" style="font-size: 10px;">SDF</a> <a href="/tags/SGJ/" style="font-size: 10.63px;">SGJ</a> <a href="/tags/SQL/" style="font-size: 13.13px;">SQL</a> <a href="/tags/SQLServer/" style="font-size: 10.63px;">SQLServer</a> <a href="/tags/STL/" style="font-size: 11.25px;">STL</a> <a href="/tags/Shadow/" style="font-size: 10px;">Shadow</a> <a href="/tags/WHM/" style="font-size: 16.88px;">WHM</a> <a href="/tags/WX/" style="font-size: 11.88px;">WX</a> <a href="/tags/YLQ/" style="font-size: 18.13px;">YLQ</a> <a href="/tags/book/" style="font-size: 10.63px;">book</a> <a href="/tags/computation/" style="font-size: 18.75px;">computation</a> <a href="/tags/csharp/" style="font-size: 16.25px;">csharp</a> <a href="/tags/images/" style="font-size: 10px;">images</a> <a href="/tags/installation/" style="font-size: 11.88px;">installation</a> <a href="/tags/js/" style="font-size: 10px;">js</a> <a href="/tags/linux/" style="font-size: 11.25px;">linux</a> <a href="/tags/math/" style="font-size: 10px;">math</a> <a href="/tags/mitsuba/" style="font-size: 11.88px;">mitsuba</a> <a href="/tags/mobaxterm/" style="font-size: 10px;">mobaxterm</a> <a href="/tags/nothing/" style="font-size: 10.63px;">nothing</a> <a href="/tags/obs/" style="font-size: 10px;">obs</a> <a href="/tags/occlusion/" style="font-size: 15px;">occlusion</a> <a href="/tags/ps/" style="font-size: 10px;">ps</a> <a href="/tags/software/" style="font-size: 10px;">software</a> <a href="/tags/test/" style="font-size: 10px;">test</a> <a href="/tags/tree/" style="font-size: 11.25px;">tree</a> <a href="/tags/vscode/" style="font-size: 10.63px;">vscode</a> <a href="/tags/win/" style="font-size: 10.63px;">win</a> <a href="/tags/xv6/" style="font-size: 16.25px;">xv6</a> <a href="/tags/%E4%BA%8C%E5%88%86/" style="font-size: 10.63px;">二分</a> <a href="/tags/%E5%85%83%E5%AE%87%E5%AE%99/" style="font-size: 10.63px;">元宇宙</a> <a href="/tags/%E5%87%A0%E4%BD%95/" style="font-size: 10px;">几何</a> <a href="/tags/%E5%8F%AF%E8%A7%81%E6%80%A7/" style="font-size: 11.88px;">可见性</a> <a href="/tags/%E5%B9%B6%E6%9F%A5%E9%9B%86/" style="font-size: 10.63px;">并查集</a> <a href="/tags/%E6%8B%93%E6%89%91%E6%8E%92%E5%BA%8F/" style="font-size: 10px;">拓扑排序</a> <a href="/tags/%E6%8E%92%E5%BA%8F/" style="font-size: 10px;">排序</a> <a href="/tags/%E6%99%AE%E5%90%95%E5%85%8B%E5%9D%90%E6%A0%87/" style="font-size: 10px;">普吕克坐标</a> <a href="/tags/%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/" style="font-size: 10px;">最小生成树</a> <a href="/tags/%E6%9C%80%E7%9F%AD%E8%B7%AF/" style="font-size: 13.13px;">最短路</a> <a href="/tags/%E7%BA%BF%E6%AE%B5%E6%A0%91/" style="font-size: 10px;">线段树</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">October 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/10/23/CG/WHM-GAMES103/11/">GAMES103.王华民.11.Incompressible Fluid Dynamics and Eulerian Fluids</a>
          </li>
        
          <li>
            <a href="/2022/10/23/CG/Papers/2021/bvh-survey-3/">(论文)[2021] A Survey on Bounding Volume Hierarchies for Ray Tracing(4)</a>
          </li>
        
          <li>
            <a href="/2022/04/28/CG/Kits/MIS-NEE/">NEE、MIS(多重重要性采样)</a>
          </li>
        
          <li>
            <a href="/2022/04/18/CG/WHM-GAMES103/10/">GAMES103.王华民.10.Surface Waves</a>
          </li>
        
          <li>
            <a href="/2022/04/17/CG/WHM-GAMES103/09-1/">GAMES103.王华民.09.Collision Handling(1)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2022 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>